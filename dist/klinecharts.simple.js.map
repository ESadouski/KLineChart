{"version":3,"file":"klinecharts.simple.js","sources":["../src/store/extension.js","../node_modules/@babel/runtime/helpers/esm/classCallCheck.js","../node_modules/@babel/runtime/helpers/esm/createClass.js","../node_modules/@babel/runtime/helpers/esm/typeof.js","../src/utils/typeChecks.js","../src/options/styleOptions.js","../src/utils/format.js","../src/utils/logger.js","../src/utils/number.js","../src/enum/ActionType.js","../src/store/TimeScaleStore.js","../node_modules/@babel/runtime/helpers/esm/setPrototypeOf.js","../node_modules/@babel/runtime/helpers/esm/inherits.js","../node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js","../node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn.js","../node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js","../node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js","../node_modules/regenerator-runtime/runtime.js","../node_modules/@babel/runtime/regenerator/index.js","../src/component/technicalindicator/TechnicalIndicator.js","../src/store/TechnicalIndicatorStore.js","../node_modules/@babel/runtime/helpers/esm/defineProperty.js","../src/component/overlay/Overlay.js","../src/renderer/circle.js","../src/extension/shape/shapeHelper.js","../src/renderer/path.js","../src/renderer/line.js","../src/utils/canvas.js","../src/component/overlay/Shape.js","../src/enum/InvalidateLevel.js","../src/store/ShapeStore.js","../src/store/AnnotationStore.js","../src/store/TagStore.js","../src/store/CrosshairStore.js","../src/store/ActionStore.js","../src/store/ChartStore.js","../node_modules/@babel/runtime/helpers/esm/superPropBase.js","../node_modules/@babel/runtime/helpers/esm/get.js","../src/utils/element.js","../src/pane/Pane.js","../src/widget/Widget.js","../src/utils/compatible.js","../src/view/View.js","../src/view/TechnicalIndicatorView.js","../src/renderer/text.js","../src/view/TechnicalIndicatorOverlayView.js","../src/widget/TechnicalIndicatorWidget.js","../src/renderer/rect.js","../src/view/YAxisView.js","../src/view/YAxisOverlayView.js","../src/widget/YAxisWidget.js","../src/component/axis/Axis.js","../src/component/axis/YAxis.js","../src/pane/TechnicalIndicatorPane.js","../src/view/CandleView.js","../src/view/CandleOverlayView.js","../src/widget/CandleWidget.js","../src/pane/CandlePane.js","../src/view/XAxisView.js","../src/view/XAxisOverlayView.js","../src/widget/XAxisWidget.js","../src/component/axis/XAxis.js","../src/pane/XAxisPane.js","../src/event/eventTypeChecks.js","../src/event/EventBase.js","../src/pane/SeparatorPane.js","../src/event/EventHandler.js","../src/event/ZoomScrollEventHandler.js","../src/event/OverlayEventHandler.js","../src/event/KeyBoardEventHandler.js","../src/event/ChartEvent.js","../src/utils/performance.js","../src/renderer/diamond.js","../src/renderer/triangle.js","../src/component/overlay/Annotation.js","../src/component/overlay/Tag.js","../src/pane/ChartPane.js","../src/Chart.js","../src/core.js"],"sourcesContent":["/**\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n\n * http://www.apache.org/licenses/LICENSE-2.0\n\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nexport default {\n  technicalIndicatorExtensions: {},\n  shapeExtensions: {},\n  addTechnicalIndicatorTemplate (template) {\n    if (template) {\n      ([].concat(template)).forEach(\n        tmp => {\n          if (tmp.name) {\n            this.technicalIndicatorExtensions[tmp.name] = tmp\n          }\n        }\n      )\n    }\n  },\n  addShapeTemplate (template) {\n    if (template) {\n      ([].concat(template)).forEach(\n        tmp => {\n          if (tmp.name) {\n            this.shapeExtensions[tmp.name] = tmp\n          }\n        }\n      )\n    }\n  }\n}\n","export default function _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}","function _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nexport default function _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  Object.defineProperty(Constructor, \"prototype\", {\n    writable: false\n  });\n  return Constructor;\n}","export default function _typeof(obj) {\n  \"@babel/helpers - typeof\";\n\n  return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) {\n    return typeof obj;\n  } : function (obj) {\n    return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n  }, _typeof(obj);\n}","/**\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n\n * http://www.apache.org/licenses/LICENSE-2.0\n\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n/**\n * 合并\n * @param target\n * @param source\n */\nexport function merge (target, source) {\n  if (!isObject(target) || !isObject(source)) {\n    return\n  }\n  for (const key in source) {\n    if (Object.prototype.hasOwnProperty.call(source, key) && (key in target)) {\n      const targetProp = target[key]\n      const sourceProp = source[key]\n      if (\n        isObject(sourceProp) &&\n        isObject(targetProp) &&\n        !isArray(sourceProp) &&\n        !isArray(targetProp)\n      ) {\n        merge(targetProp, sourceProp)\n      } else {\n        if (isValid(source[key])) {\n          target[key] = source[key]\n        }\n      }\n    }\n  }\n}\n\n/**\n * 克隆\n * @param target\n * @return {{}|*}\n */\nexport function clone (target) {\n  if (!isObject(target)) {\n    return target\n  }\n\n  let copy\n  if (isArray(target)) {\n    copy = []\n  } else {\n    copy = {}\n  }\n  for (const key in target) {\n    if (Object.prototype.hasOwnProperty.call(target, key)) {\n      const v = target[key]\n      if (isObject(v)) {\n        copy[key] = clone(v)\n      } else {\n        copy[key] = v\n      }\n    }\n  }\n  return copy\n}\n\n/**\n * 是否是数组\n * @param value\n * @return {boolean}\n */\nexport function isArray (value) {\n  return Object.prototype.toString.call(value) === '[object Array]'\n}\n\n/**\n * 是否是方法\n * @param {*} value\n * @return {boolean}\n */\nexport function isFunction (value) {\n  return value && typeof value === 'function'\n}\n\n/**\n * 是否是对象\n * @param {*} value\n * @return {boolean}\n */\nexport function isObject (value) {\n  return (!!value && typeof value === 'object')\n}\n\n/**\n * 判断是否是数字\n * @param value\n * @returns {boolean}\n */\nexport function isNumber (value) {\n  return typeof value === 'number' && !isNaN(value)\n}\n\n/**\n * 判断是否有效\n * @param value\n * @returns {boolean}\n */\nexport function isValid (value) {\n  return value !== null && value !== undefined\n}\n\n/**\n * 判断是否是boolean\n * @param value\n * @returns {boolean}\n */\nexport function isBoolean (value) {\n  return typeof value === 'boolean'\n}\n\n/**\n * 是否是字符串\n * @param value\n * @return {boolean}\n */\nexport function isString (value) {\n  return typeof value === 'string'\n}\n","/**\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n\n * http://www.apache.org/licenses/LICENSE-2.0\n\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n/**\n * 填充空心样式类型\n */\nexport const StrokeFillStyle = {\n  STROKE: 'stroke',\n  FILL: 'fill'\n}\n\n/**\n * 线的样式\n * @type {{DASH: string, SOLID: string}}\n */\nexport const LineStyle = {\n  DASH: 'dash',\n  SOLID: 'solid'\n}\n\n/**\n * y轴位置\n * @type {{LEFT: string, RIGHT: string}}\n */\nexport const YAxisPosition = {\n  LEFT: 'left',\n  RIGHT: 'right'\n}\n\n/**\n * y轴类型\n * @type {{PERCENTAGE: string, NORMAL: string}}\n */\nexport const YAxisType = {\n  NORMAL: 'normal',\n  PERCENTAGE: 'percentage',\n  LOG: 'log'\n}\n\n/**\n * 蜡烛图样式\n * @type {{AREA: string, OHLC: string, CANDLE_STROKE: string, CANDLE_SOLID: string, CANDLE_DOWN_STROKE: string, CANDLE_UP_STROKE: string}}\n */\nexport const CandleType = {\n  CANDLE_SOLID: 'candle_solid',\n  CANDLE_STROKE: 'candle_stroke',\n  CANDLE_UP_STROKE: 'candle_up_stroke',\n  CANDLE_DOWN_STROKE: 'candle_down_stroke',\n  OHLC: 'ohlc',\n  AREA: 'area'\n}\n\n/**\n * 说明显示规则\n * @type {{FOLLOW_CROSS: string, NONE: string, ALWAYS: string}}\n */\nexport const TooltipShowRule = {\n  ALWAYS: 'always',\n  FOLLOW_CROSS: 'follow_cross',\n  NONE: 'none'\n}\n\n/**\n * 数据提示显示类型\n * @type {{RECT: string, STANDARD: string}}\n */\nexport const TooltipShowType = {\n  RECT: 'rect',\n  STANDARD: 'standard'\n}\n\n/**\n * 注解标识类似\n * @type {{RECT: string, TRIANGLE: string, DIAMOND: string, CUSTOM: string, NONE: string, CIRCLE: string}}\n */\nexport const AnnotationSymbolType = {\n  CIRCLE: 'circle',\n  RECT: 'rect',\n  TRIANGLE: 'triangle',\n  DIAMOND: 'diamond',\n  CUSTOM: 'custom',\n  NONE: 'none'\n}\n\n/**\n * 覆盖物位置\n * @type {{TOP: string, BOTTOM: string, POINT: string}}\n */\nexport const OverlayPosition = {\n  POINT: 'point',\n  TOP: 'top',\n  BOTTOM: 'bottom'\n}\n\n/**\n * 默认网格配置\n * @type {{horizontal: {size: number, color: string, dashValue: number[], show: boolean, style: string}, show: boolean, vertical: {size: number, color: string, dashValue: number[], show: boolean, style: string}}}\n */\nconst defaultGrid = {\n  show: true,\n  horizontal: {\n    show: true,\n    size: 1,\n    color: '#EDEDED',\n    style: LineStyle.DASH,\n    dashValue: [2, 2]\n  },\n  vertical: {\n    show: true,\n    size: 1,\n    color: '#EDEDED',\n    style: LineStyle.DASH,\n    dashValue: [2, 2]\n  }\n}\n\n/**\n * 默认蜡烛柱图样式配置\n * @type {{area: {backgroundColor: [{offset: number, color: string}, {offset: number, color: string}], lineColor: string, lineSize: number, value: string}, bar: {noChangeColor: string, upColor: string, downColor: string}, tooltip: {rect: {offsetTop: number, fillColor: string, borderColor: string, paddingBottom: number, borderRadius: number, paddingRight: number, borderSize: number, offsetLeft: number, paddingTop: number, paddingLeft: number, offsetRight: number}, showRule: string, values: null, showType: string, text: {marginRight: number, size: number, color: string, weight: string, marginBottom: number, family: string, marginTop: number, marginLeft: number}, labels: string[]}, type: string, priceMark: {high: {textMargin: number, textSize: number, color: string, textFamily: string, show: boolean, textWeight: string}, last: {noChangeColor: string, upColor: string, line: {dashValue: number[], size: number, show: boolean, style: string}, show: boolean, text: {paddingBottom: number, size: number, color: string, paddingRight: number, show: boolean, weight: string, paddingTop: number, family: string, paddingLeft: number}, downColor: string}, low: {textMargin: number, textSize: number, color: string, textFamily: string, show: boolean, textWeight: string}, show: boolean}}}\n */\nconst defaultCandle = {\n  margin: {\n    top: 0.2,\n    bottom: 0.1\n  },\n  type: CandleType.CANDLE_SOLID,\n  bar: {\n    /**\n     * 上涨颜色\n     */\n    upColor: '#26A69A',\n    /**\n     * 下跌颜色\n     */\n    downColor: '#EF5350',\n    /**\n     * 无变化时颜色\n     */\n    noChangeColor: '#999999'\n  },\n  area: {\n    lineSize: 2,\n    lineColor: '#2196F3',\n    value: 'close',\n    backgroundColor: [{\n      offset: 0,\n      color: 'rgba(33, 150, 243, 0.01)'\n    }, {\n      offset: 1,\n      color: 'rgba(33, 150, 243, 0.2)'\n    }]\n  },\n  priceMark: {\n    show: true,\n    high: {\n      show: true,\n      color: '#76808F',\n      textMargin: 5,\n      textSize: 10,\n      textFamily: 'Helvetica Neue',\n      textWeight: 'normal'\n    },\n    low: {\n      show: true,\n      color: '#76808F',\n      textMargin: 5,\n      textSize: 10,\n      textFamily: 'Helvetica Neue',\n      textWeight: 'normal'\n    },\n    last: {\n      show: true,\n      upColor: '#26A69A',\n      downColor: '#EF5350',\n      noChangeColor: '#888888',\n      line: {\n        show: true,\n        style: LineStyle.DASH,\n        dashValue: [4, 4],\n        size: 1\n      },\n      text: {\n        show: true,\n        size: 12,\n        paddingLeft: 2,\n        paddingTop: 2,\n        paddingRight: 2,\n        paddingBottom: 2,\n        color: '#FFFFFF',\n        family: 'Helvetica Neue',\n        weight: 'normal',\n        borderRadius: 2\n      }\n    }\n  },\n  tooltip: {\n    showRule: TooltipShowRule.ALWAYS,\n    showType: TooltipShowType.STANDARD,\n    labels: ['时间: ', '开: ', '收: ', '高: ', '低: ', '成交量: '],\n    values: null,\n    defaultValue: 'n/a',\n    rect: {\n      paddingLeft: 0,\n      paddingRight: 0,\n      paddingTop: 0,\n      paddingBottom: 6,\n      offsetLeft: 8,\n      offsetTop: 8,\n      offsetRight: 8,\n      borderRadius: 4,\n      borderSize: 1,\n      borderColor: '#F2F3F5',\n      backgroundColor: '#FEFEFE'\n    },\n    text: {\n      size: 12,\n      family: 'Helvetica Neue',\n      weight: 'normal',\n      color: '#76808F',\n      marginLeft: 8,\n      marginTop: 6,\n      marginRight: 8,\n      marginBottom: 0\n    }\n  }\n}\n\n/**\n * 默认的技术指标样式配置\n * @type {{bar: {noChangeColor: string, upColor: string, downColor: string}, line: {size: number, colors: [string, string, string, string, string]}, tooltip: {showParams: boolean, showName: boolean, showRule: string, text: {marginRight: number, size: number, color: string, weight: string, marginBottom: number, family: string, marginTop: number, marginLeft: number}}, circle: {noChangeColor: string, upColor: string, downColor: string}, lastValueMark: {show: boolean, text: {paddingBottom: number, color: string, size: number, paddingRight: number, show: boolean, weight: string, paddingTop: number, family: string, paddingLeft: number}}}}\n */\nconst defaultTechnicalIndicator = {\n  margin: {\n    top: 0.2,\n    bottom: 0.1\n  },\n  bar: {\n    upColor: 'rgba(38, 166, 154, .65)',\n    downColor: 'rgba(239, 83, 80, .65)',\n    noChangeColor: '#888888'\n  },\n  line: {\n    size: 1,\n    colors: ['#FF9600', '#9D65C9', '#2196F3', '#E11D74', '#01C5C4']\n  },\n  circle: {\n    upColor: 'rgba(38, 166, 154, .65)',\n    downColor: 'rgba(239, 83, 80, .65)',\n    noChangeColor: '#888888'\n  },\n  lastValueMark: {\n    show: false,\n    text: {\n      show: false,\n      color: '#FFFFFF',\n      size: 12,\n      family: 'Helvetica Neue',\n      weight: 'normal',\n      paddingLeft: 3,\n      paddingTop: 2,\n      paddingRight: 3,\n      paddingBottom: 2,\n      borderRadius: 2\n    }\n  },\n  tooltip: {\n    showRule: TooltipShowRule.ALWAYS,\n    showType: TooltipShowType.STANDARD,\n    showName: true,\n    showParams: true,\n    defaultValue: 'n/a',\n    text: {\n      size: 12,\n      family: 'Helvetica Neue',\n      weight: 'normal',\n      color: '#76808F',\n      marginTop: 6,\n      marginRight: 8,\n      marginBottom: 0,\n      marginLeft: 8\n    }\n  }\n}\n\n/**\n * 默认x轴配置\n * @type {{axisLine: {color: string, size: number, show: boolean}, show: boolean, tickText: {paddingBottom: number, color: string, size: number, show: boolean, weight: string, paddingTop: number, family: string}, height: null, tickLine: {size: number, color: string, show: boolean, length: number}}}\n */\nconst defaultXAxis = {\n  /**\n   * 是否显示整个轴\n   */\n  show: true,\n  /**\n   * 高度\n   */\n  height: null,\n  /**\n   * 轴线配置\n   */\n  axisLine: {\n    show: true,\n    color: '#DDDDDD',\n    size: 1\n  },\n\n  /**\n   * tick文字\n   */\n  tickText: {\n    show: true,\n    color: '#76808F',\n    size: 12,\n    family: 'Helvetica Neue',\n    weight: 'normal',\n    paddingTop: 3,\n    paddingBottom: 6\n  },\n  // tick线\n  tickLine: {\n    show: true,\n    size: 1,\n    length: 3,\n    color: '#DDDDDD'\n  }\n}\n\n/**\n * 默认y轴配置\n * @type {{axisLine: {color: string, size: number, show: boolean}, show: boolean, width: null, position: string, tickText: {color: string, size: number, paddingRight: number, show: boolean, weight: string, family: string, paddingLeft: number}, type: string, inside: boolean, tickLine: {size: number, color: string, show: boolean, length: number}}}\n */\nconst defaultYAxis = {\n  /**\n   * 是否显示整个轴\n   */\n  show: true,\n  /**\n   * 宽度\n   */\n  width: null,\n  /**\n   * y轴类型\n   */\n  type: YAxisType.NORMAL,\n  /**\n   * 轴位置\n   */\n  position: YAxisPosition.RIGHT,\n  /**\n   * 轴是否在内部\n   */\n  inside: false,\n  /**\n   * 轴线配置\n   */\n  axisLine: {\n    show: true,\n    color: '#DDDDDD',\n    size: 1\n  },\n\n  /**\n   * tick文字\n   */\n  tickText: {\n    show: true,\n    color: '#76808F',\n    size: 12,\n    family: 'Helvetica Neue',\n    weight: 'normal',\n    paddingLeft: 3,\n    paddingRight: 6\n  },\n  // tick线\n  tickLine: {\n    show: true,\n    size: 1,\n    length: 3,\n    color: '#DDDDDD'\n  },\n  asksChart: {\n    colorLeft: '#232c38',\n    colorRight: 'rgba(38, 166, 154, .65)',\n    lineColor: 'rgba(38, 166, 154, .65)',\n    lineWidth: 3,\n  },\n  bidsChart: {\n    colorLeft: '#232c38',\n    colorRight: 'rgba(239, 83, 80, .65)',\n    lineColor: 'rgba(239, 83, 80, .65)',\n    lineWidth: 3,\n  }\n}\n\nconst defaultCrosshair = {\n  show: true,\n  horizontal: {\n    show: true,\n    line: {\n      show: true,\n      style: LineStyle.DASH,\n      dashValue: [4, 2],\n      size: 1,\n      color: '#76808F'\n    },\n    text: {\n      show: true,\n      color: '#FFFFFF',\n      size: 12,\n      family: 'Helvetica Neue',\n      weight: 'normal',\n      paddingLeft: 2,\n      paddingRight: 2,\n      paddingTop: 2,\n      paddingBottom: 2,\n      borderSize: 1,\n      borderColor: '#686D76',\n      borderRadius: 2,\n      backgroundColor: '#686D76'\n    }\n  },\n  vertical: {\n    show: true,\n    line: {\n      show: true,\n      style: LineStyle.DASH,\n      dashValue: [4, 2],\n      size: 1,\n      color: '#76808F'\n    },\n    text: {\n      show: true,\n      color: '#FFFFFF',\n      size: 12,\n      family: 'Helvetica Neue',\n      weight: 'normal',\n      paddingLeft: 2,\n      paddingRight: 2,\n      paddingTop: 2,\n      paddingBottom: 2,\n      borderSize: 1,\n      borderRadius: 2,\n      borderColor: '#686D76',\n      backgroundColor: '#686D76'\n    }\n  }\n}\n\n/**\n * 默认图形配置\n * @type {{arc: {style: string, color: string, size: number}, polygon: {style: string, color: string, size: number}, line: {style: string, color: string, size: number, dashValue: number[]}, text: {style: string, marginRight: number, color: string, size: number, weight: string, marginBottom: number, family: string, marginTop: number, marginLeft: number}, point: {backgroundColor: string, borderColor: string, activeBorderSize: number, activeRadius: number, activeBorderColor: string, activeBackgroundColor: string, borderSize: number, radius: number}}}\n */\nconst defaultShape = {\n  point: {\n    backgroundColor: '#2196F3',\n    borderColor: 'rgba(33, 150, 243, 0.35)',\n    borderSize: 1,\n    radius: 5,\n    activeBackgroundColor: '#2196F3',\n    activeBorderColor: 'rgba(33, 150, 243, 0.35)',\n    activeBorderSize: 3,\n    activeRadius: 5\n  },\n  line: {\n    style: LineStyle.SOLID,\n    color: '#2196F3',\n    size: 1,\n    dashValue: [2, 2]\n  },\n  polygon: {\n    style: StrokeFillStyle.STROKE,\n    stroke: {\n      style: LineStyle.SOLID,\n      size: 1,\n      color: '#2196F3',\n      dashValue: [2, 2]\n    },\n    fill: {\n      color: '#2196F3'\n    }\n  },\n  arc: {\n    style: StrokeFillStyle.STROKE,\n    stroke: {\n      style: LineStyle.SOLID,\n      size: 1,\n      color: '#2196F3',\n      dashValue: [2, 2]\n    },\n    fill: {\n      color: '#2196F3'\n    }\n  },\n  text: {\n    style: StrokeFillStyle.FILL,\n    color: '#2196F3',\n    size: 12,\n    family: 'Helvetica Neue',\n    weight: 'normal',\n    offset: [0, 0]\n  }\n}\n\n/**\n * 默认注解信息配置\n * @type {{}}\n */\nconst defaultAnnotation = {\n  position: OverlayPosition.TOP,\n  offset: [20, 0],\n  symbol: {\n    type: AnnotationSymbolType.DIAMOND,\n    size: 8,\n    color: '#2196F3',\n    activeSize: 10,\n    activeColor: '#FF9600'\n  }\n}\n\nconst defaultTag = {\n  position: OverlayPosition.POINT,\n  offset: 0,\n  line: {\n    show: true,\n    style: LineStyle.DASH,\n    dashValue: [4, 2],\n    size: 1,\n    color: '#2196F3'\n  },\n  text: {\n    color: '#FFFFFF',\n    backgroundColor: '#2196F3',\n    size: 12,\n    family: 'Helvetica Neue',\n    weight: 'normal',\n    paddingLeft: 2,\n    paddingRight: 2,\n    paddingTop: 2,\n    paddingBottom: 2,\n    borderRadius: 2,\n    borderSize: 1,\n    borderColor: '#2196F3'\n  },\n  mark: {\n    offset: 0,\n    color: '#FFFFFF',\n    backgroundColor: '#2196F3',\n    size: 12,\n    family: 'Helvetica Neue',\n    weight: 'normal',\n    paddingLeft: 2,\n    paddingRight: 2,\n    paddingTop: 2,\n    paddingBottom: 2,\n    borderRadius: 2,\n    borderSize: 1,\n    borderColor: '#2196F3'\n  }\n}\n\n/**\n * 图表之间默认分割配置\n * @type {{size: number, color: string}}\n */\nconst defaultSeparator = {\n  size: 1,\n  color: '#DDDDDD',\n  fill: true,\n  activeBackgroundColor: 'rgba(33, 150, 243, 0.08)'\n}\n\nexport const defaultStyleOptions = {\n  grid: defaultGrid,\n  candle: defaultCandle,\n  technicalIndicator: defaultTechnicalIndicator,\n  xAxis: defaultXAxis,\n  yAxis: defaultYAxis,\n  separator: defaultSeparator,\n  crosshair: defaultCrosshair,\n  shape: defaultShape,\n  annotation: defaultAnnotation,\n  tag: defaultTag\n}\n","/**\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n\n * http://www.apache.org/licenses/LICENSE-2.0\n\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { isNumber, isObject, isValid } from './typeChecks'\n\n/**\n * 格式化值\n * @param data\n * @param key\n * @param defaultValue\n * @returns {string|*}\n */\nexport function formatValue (data, key, defaultValue = '--') {\n  if (isObject(data)) {\n    const value = data[key]\n    if (isValid(value)) {\n      return value\n    }\n  }\n  return defaultValue\n}\n\n/**\n * 格式化时间\n * @param dateTimeFormat\n * @param timestamp\n * @param format\n * @returns {string}\n */\nexport function formatDate (dateTimeFormat, timestamp, format = 'MM-DD hh:mm') {\n  if (isNumber(timestamp)) {\n    const dateTimeString = dateTimeFormat.format(new Date(timestamp))\n    const dateTimeStringArray = dateTimeString.split(', ')\n    const dateStringArray = dateTimeStringArray[0].split('/')\n    const date = {\n      YYYY: dateStringArray[2],\n      MM: dateStringArray[0],\n      DD: dateStringArray[1],\n      'hh:mm': dateTimeStringArray[1].match(/^[\\d]{2}/)[0] === '24'\n        ? dateTimeStringArray[1].replace(/^[\\d]{2}/, '00')\n        : dateTimeStringArray[1]\n    }\n    return format.replace(/YYYY|MM|DD|(hh:mm)/g, key => date[key])\n  }\n  return '--'\n}\n\n/**\n * 格式化精度\n */\nexport function formatPrecision (value, precision = 2) {\n  const v = +value\n  if ((v || v === 0) && isNumber(v)) {\n    return v.toFixed(precision)\n  }\n  return `${v}`\n}\n\n/**\n * 格式化大数据\n * @param value\n */\nexport function formatBigNumber (value) {\n  if (isNumber(+value)) {\n    if (value > 1000000000) {\n      return `${+((value / 1000000000).toFixed(3))}B`\n    }\n    if (value > 1000000) {\n      return `${+((value / 1000000).toFixed(3))}M`\n    }\n    if (value > 1000) {\n      return `${+((value / 1000).toFixed(3))}K`\n    }\n    return value\n  }\n  return '--'\n}\n","/**\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n\n * http://www.apache.org/licenses/LICENSE-2.0\n\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nconst DEV = '__BUILD_ENV__' === 'development'\n\n/**\n * 打印警告日志\n * @param api\n * @param invalidParam\n * @param append\n */\nexport function logWarn (api, invalidParam, append = '') {\n  if (DEV) {\n    console.log(\n      '%c😑 klinecharts warning: \\n%s%s%s',\n      'color:#fcaf17;font-weight:bold',\n      api ? `Call api ${api}${invalidParam || append ? ', ' : '.'}` : '',\n      invalidParam ? `invalid parameter ${invalidParam}${append ? ', ' : '.'}` : '',\n      append ? `${append}` : ''\n    )\n  }\n}\n\n/**\n * 打印错误日志\n * @param api\n * @param invalidParam\n * @param append\n */\nexport function logError (api, invalidParam, append = '') {\n  if (DEV) {\n    console.log(\n      '%c😟 klinecharts error: \\n%s%s%s',\n      'color:#ed1941;font-weight:bold',\n      api ? `Call api ${api}${invalidParam || append ? ', ' : '.'},` : '',\n      invalidParam ? `invalid parameter ${invalidParam}${append ? ', ' : '.'}` : '',\n      append ? `${append}` : ''\n    )\n  }\n}\n\n/**\n * 打印标识\n */\nexport function logTag () {\n  if (DEV) {\n    console.log(\n      '%c❤️ Welcome to klinecharts. Version is __BUILD_VERSION__',\n      'border-radius:2px;border:dashed 1px #2196F3;padding:26px 20px;font-size:14px;color:#2196F3'\n    )\n  }\n}\n","/**\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n\n * http://www.apache.org/licenses/LICENSE-2.0\n\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n/**\n * 二分查找最接近的数\n * @param dataList\n * @param valueKey\n * @param targetNumber\n * @return {number}\n */\nexport function binarySearchNearest (dataList, valueKey, targetNumber) {\n  let left = 0\n  let right = 0\n  for (right = dataList.length - 1; left !== right;) {\n    const midIndex = Math.floor((right + left) / 2)\n    const mid = right - left\n    const midValue = dataList[midIndex][valueKey]\n    if (targetNumber === dataList[left][valueKey]) {\n      return left\n    }\n    if (targetNumber === dataList[right][valueKey]) {\n      return right\n    }\n    if (targetNumber === midValue) {\n      return midIndex\n    }\n\n    if (targetNumber > midValue) {\n      left = midIndex\n    } else {\n      right = midIndex\n    }\n\n    if (mid <= 2) {\n      break\n    }\n  }\n  return left\n}\n\n/**\n * 优化数字\n * @param value\n * @return {number|number}\n */\nexport function nice (value) {\n  const exponent = Math.floor(log10(value))\n  const exp10 = index10(exponent)\n  const f = value / exp10 // 1 <= f < 10\n  let nf = 0\n  if (f < 1.5) {\n    nf = 1\n  } else if (f < 2.5) {\n    nf = 2\n  } else if (f < 3.5) {\n    nf = 3\n  } else if (f < 4.5) {\n    nf = 4\n  } else if (f < 5.5) {\n    nf = 5\n  } else if (f < 6.5) {\n    nf = 6\n  } else {\n    nf = 8\n  }\n  value = nf * exp10\n  return exponent >= -20 ? +value.toFixed(exponent < 0 ? -exponent : 0) : value\n}\n\n/**\n * 四和五入\n * @param value\n * @param precision\n * @return {number}\n */\nexport function round (value, precision) {\n  if (precision == null) {\n    precision = 10\n  }\n  precision = Math.min(Math.max(0, precision), 20)\n  value = (+value).toFixed(precision)\n  return +value\n}\n\n/**\n * 获取小数位数\n * @param value\n * @return {number|number}\n */\nexport function getPrecision (value) {\n  const str = value.toString()\n  const eIndex = str.indexOf('e')\n  if (eIndex > 0) {\n    const precision = +str.slice(eIndex + 1)\n    return precision < 0 ? -precision : 0\n  } else {\n    const dotIndex = str.indexOf('.')\n    return dotIndex < 0 ? 0 : str.length - 1 - dotIndex\n  }\n}\n\n/**\n * 10为低的对数函数\n * @param value\n * @return {number}\n */\nexport function log10 (value) {\n  return Math.log(value) / Math.log(10)\n}\n\n/**\n * 10的指数函数\n * @param value\n * @return {number}\n */\nexport function index10 (value) {\n  return Math.pow(10, value)\n}\n","/**\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n\n * http://www.apache.org/licenses/LICENSE-2.0\n\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n/**\n * 图表动作\n */\nconst ActionType = {\n  ZOOM: 'zoom',\n  SCROLL: 'scroll',\n  CROSSHAIR: 'crosshair',\n  TOOLTIP: 'tooltip',\n  PANE_DRAG: 'pane_drag'\n}\n\nexport function hasAction (type) {\n  return Object.values(ActionType).indexOf(type) > -1\n}\n\nexport default ActionType\n","/**\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n\n * http://www.apache.org/licenses/LICENSE-2.0\n\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { isFunction, isValid } from '../utils/typeChecks'\nimport { formatValue } from '../utils/format'\nimport { logWarn } from '../utils/logger'\nimport { binarySearchNearest } from '../utils/number'\n\nimport ActionType from '../enum/ActionType'\n\n// 最小单条数据宽度\nconst MIN_DATA_SPACE = 1\n\n// 最大单条数据宽度\nconst MAX_DATA_SPACE = 50\n\nexport default class TimeScaleStore {\n  constructor (chartStore) {\n    this._chartStore = chartStore\n    this._dateTimeFormat = new Intl.DateTimeFormat(\n      'en', {\n        hour12: false, year: 'numeric', month: '2-digit', day: '2-digit', hour: '2-digit', minute: '2-digit'\n      }\n    )\n\n    // 是否可以缩放\n    this._zoomEnabled = true\n    // 是否可以拖拽滑动\n    this._scrollEnabled = true\n\n    // 是否在加载中\n    this._loading = true\n    // 加载更多回调\n    this._loadMoreCallback = null\n    // 还有更多\n    this._more = true\n\n    // 可见区域数据占用的空间\n    this._totalDataSpace = 0\n    // 每一条数据的空间\n    this._dataSpace = 6\n    // bar的空间\n    this._barSpace = this._calcBarSpace()\n    // 向右偏移的空间\n    this._offsetRightSpace = 50\n    // 向右偏移的数量\n    this._offsetRightBarCount = this._offsetRightSpace / this._dataSpace\n    // 左边最小可见bar的个数\n    this._leftMinVisibleBarCount = 2\n    // 右边最小可见bar的个数\n    this._rightMinVisibleBarCount = 2\n    // 开始绘制的索引\n    this._from = 0\n    // 结束的索引\n    this._to = 0\n\n    // 用来记录开始拖拽时向右偏移的数量\n    this._preOffsetRightBarCount = 0\n  }\n\n  /**\n   * 计算一条柱子的空间\n   * @returns {number}\n   * @private\n   */\n  _calcBarSpace () {\n    const rateBarSpace = Math.floor(this._dataSpace * 0.82)\n    const floorBarSpace = Math.floor(this._dataSpace)\n    const optimalBarSpace = Math.min(rateBarSpace, floorBarSpace - 1)\n    return Math.max(1, optimalBarSpace)\n  }\n\n  /**\n   * 调整绘制起点终点位置\n   * @private\n   */\n  adjustFromTo () {\n    const dataSize = this._chartStore.dataList().length\n    const barLength = this._totalDataSpace / this._dataSpace\n    const maxRightOffsetBarCount = barLength - Math.min(this._leftMinVisibleBarCount, dataSize)\n    if (this._offsetRightBarCount > maxRightOffsetBarCount) {\n      this._offsetRightBarCount = maxRightOffsetBarCount\n    }\n\n    const minRightOffsetBarCount = -dataSize + Math.min(this._rightMinVisibleBarCount, dataSize)\n\n    if (this._offsetRightBarCount < minRightOffsetBarCount) {\n      this._offsetRightBarCount = minRightOffsetBarCount\n    }\n    this._to = Math.round(this._offsetRightBarCount + dataSize + 0.5)\n    this._from = Math.round(this._to - barLength) - 1\n    if (this._to > dataSize) {\n      this._to = dataSize\n    }\n    if (this._from < 0) {\n      this._from = 0\n    }\n    this._chartStore.adjustVisibleDataList()\n    // 处理加载更多，有更多并且没有在加载则去加载更多\n    if (this._from === 0 && this._more && !this._loading && isFunction(this._loadMoreCallback)) {\n      this._loading = true\n      this._loadMoreCallback(formatValue(this._chartStore.dataList()[0], 'timestamp'))\n    }\n  }\n\n  /**\n   * 设置是否有更多\n   * @param more\n   */\n  setMore (more) {\n    this._more = more\n  }\n\n  /**\n   * 设置是否在加载\n   */\n  setLoading (loading) {\n    this._loading = loading\n  }\n\n  /**\n   * 获取时间格式化\n   * @returns {Intl.DateTimeFormat | Intl.DateTimeFormat}\n   */\n  dateTimeFormat () {\n    return this._dateTimeFormat\n  }\n\n  /**\n   * 设置时区\n   * @param timezone\n   */\n  setTimezone (timezone) {\n    let dateTimeFormat\n    try {\n      dateTimeFormat = new Intl.DateTimeFormat(\n        'en', {\n          hour12: false, timeZone: timezone, year: 'numeric', month: '2-digit', day: '2-digit', hour: '2-digit', minute: '2-digit'\n        }\n      )\n    } catch (e) {\n      logWarn('', '', 'Timezone is error!!!')\n    }\n    if (dateTimeFormat) {\n      this._dateTimeFormat = dateTimeFormat\n    }\n  }\n\n  /**\n   * 获取时区\n   * @returns {null}\n   */\n  timezone () {\n    return this._dateTimeFormat.resolvedOptions().timeZone\n  }\n\n  /**\n   * 获取一条数据的空间\n   * @returns {number}\n   */\n  dataSpace () {\n    return this._dataSpace\n  }\n\n  /**\n   * 获取绘制一条数据的空间（不包括bar之间的间隙）\n   * @returns {*}\n   */\n  barSpace () {\n    return this._barSpace\n  }\n\n  /**\n   * 获取绘制一条数据一半的空间（不包括bar之间的间隙）\n   * @returns\n   */\n  halfBarSpace () {\n    return this._barSpace / 2\n  }\n\n  /**\n   * 设置一条数据的空间\n   * @param dataSpace\n   * @param adjustBeforeFuc\n   */\n  setDataSpace (dataSpace, adjustBeforeFuc) {\n    if (dataSpace < MIN_DATA_SPACE || dataSpace > MAX_DATA_SPACE || this._dataSpace === dataSpace) {\n      return\n    }\n    this._dataSpace = dataSpace\n    this._barSpace = this._calcBarSpace()\n    adjustBeforeFuc && adjustBeforeFuc()\n    this.adjustFromTo()\n    this._chartStore.crosshairStore().recalculate(true)\n    this._chartStore.invalidate()\n  }\n\n  /**\n   * 设置可见区域数据占用的总空间\n   * @param totalSpace\n   */\n  setTotalDataSpace (totalSpace) {\n    if (this._totalDataSpace === totalSpace) {\n      return\n    }\n    this._totalDataSpace = totalSpace\n    this.adjustFromTo()\n    this._chartStore.crosshairStore().recalculate(true)\n  }\n\n  /**\n   * 设置右边可以偏移的空间\n   * @param space\n   * @param invalidate\n   */\n  setOffsetRightSpace (space, invalidate) {\n    this._offsetRightSpace = space\n    this._offsetRightBarCount = space / this._dataSpace\n    if (invalidate) {\n      this.adjustFromTo()\n      this._chartStore.crosshairStore().recalculate(true)\n      this._chartStore.invalidate()\n    }\n  }\n\n  /**\n   * 重置右边可以偏移的空间\n   */\n  resetOffsetRightSpace () {\n    this.setOffsetRightSpace(this._offsetRightSpace)\n  }\n\n  /**\n   * 右偏移距离\n   * @return {number}\n   */\n  offsetRightSpace () {\n    return this._offsetRightSpace\n  }\n\n  /**\n   * 右偏移bar数量\n   * @return {*|number}\n   */\n  offsetRightBarCount () {\n    return this._offsetRightBarCount\n  }\n\n  /**\n   * 设置右偏移bar数量\n   * @param barCount\n   */\n  setOffsetRightBarCount (barCount) {\n    this._offsetRightBarCount = barCount\n  }\n\n  /**\n   * 设置左边可见的最小bar数量\n   * @param barCount\n   */\n  setLeftMinVisibleBarCount (barCount) {\n    this._leftMinVisibleBarCount = barCount\n  }\n\n  /**\n   * 设置右边可见的最小bar数量\n   * @param barCount\n   */\n  setRightMinVisibleBarCount (barCount) {\n    this._rightMinVisibleBarCount = barCount\n  }\n\n  /**\n   * 获取数据绘制起点\n   * @returns {number}\n   */\n  from () {\n    return this._from\n  }\n\n  /**\n   * 获取数据绘制终点\n   * @returns {number}\n   */\n  to () {\n    return this._to\n  }\n\n  /**\n   * 开始滚动\n   */\n  startScroll () {\n    this._preOffsetRightBarCount = this._offsetRightBarCount\n  }\n\n  /**\n   * 滚动\n   * @param distance\n   * @param crosshair\n   */\n  scroll (distance, crosshair) {\n    if (!this._scrollEnabled) {\n      return\n    }\n    const distanceBarCount = distance / this._dataSpace\n    this._chartStore.actionStore().execute(ActionType.SCROLL, { barCount: distanceBarCount, distance })\n    this._offsetRightBarCount = this._preOffsetRightBarCount - distanceBarCount\n    this.adjustFromTo()\n    const cross = crosshair || this._chartStore.crosshairStore().get()\n    this._chartStore.crosshairStore().set(cross, true)\n    this._chartStore.invalidate()\n  }\n\n  /**\n   * 根据索引获取数据\n   * @param dataIndex\n   */\n  getDataByDataIndex (dataIndex) {\n    return this._chartStore.dataList()[dataIndex]\n  }\n\n  /**\n   * x转换成浮点数的位置\n   * @param x\n   * @returns {number}\n   */\n  coordinateToFloatIndex (x) {\n    const dataSize = this._chartStore.dataList().length\n    const deltaFromRight = (this._totalDataSpace - x) / this._dataSpace\n    const index = dataSize + this._offsetRightBarCount - deltaFromRight\n    return Math.round(index * 1000000) / 1000000\n  }\n\n  /**\n   * 数据索引转换成时间戳\n   * @param dataIndex\n   * @return {*}\n   */\n  dataIndexToTimestamp (dataIndex) {\n    const data = this.getDataByDataIndex(dataIndex)\n    if (data) {\n      return data.timestamp\n    }\n  }\n\n  /**\n   * 将时间戳转换成数据索引位置\n   * @param timestamp\n   * @return {number}\n   */\n  timestampToDataIndex (timestamp) {\n    if (this._chartStore.dataList().length === 0) {\n      return 0\n    }\n    return binarySearchNearest(this._chartStore.dataList(), 'timestamp', timestamp)\n  }\n\n  /**\n   * 数据索引转换成坐标\n   * @param dataIndex\n   */\n  dataIndexToCoordinate (dataIndex) {\n    const dataSize = this._chartStore.dataList().length\n    const deltaFromRight = dataSize + this._offsetRightBarCount - dataIndex\n    return this._totalDataSpace - (deltaFromRight - 0.5) * this._dataSpace\n  }\n\n  /**\n   * 坐标换成数据索引转\n   * @param pixel\n   */\n  coordinateToDataIndex (pixel) {\n    return Math.ceil(this.coordinateToFloatIndex(pixel)) - 1\n  }\n\n  /**\n   * 缩放\n   * @param scale\n   * @param coordinate\n   */\n  zoom (scale, coordinate) {\n    if (!this._zoomEnabled) {\n      return\n    }\n    if (!coordinate || !isValid(coordinate.x)) {\n      const crosshair = this._chartStore.crosshairStore().get()\n      coordinate = { x: isValid(crosshair.x) ? crosshair.x : this._totalDataSpace / 2 }\n    }\n    this._chartStore.actionStore().execute(ActionType.ZOOM, { coordinate, scale })\n    const floatIndex = this.coordinateToFloatIndex(coordinate.x)\n    const dataSpace = this._dataSpace + scale * (this._dataSpace / 10)\n    this.setDataSpace(dataSpace, () => {\n      this._offsetRightBarCount += (floatIndex - this.coordinateToFloatIndex(coordinate.x))\n    })\n  }\n\n  /**\n   * 设置是否可以缩放\n   * @param enabled\n   */\n  setZoomEnabled (enabled) {\n    this._zoomEnabled = enabled\n  }\n\n  /**\n   * 获取是否可以缩放\n   * @return {boolean}\n   */\n  zoomEnabled () {\n    return this._zoomEnabled\n  }\n\n  /**\n   * 设置是否可以拖拽滚动\n   * @param enabled\n   */\n  setScrollEnabled (enabled) {\n    this._scrollEnabled = enabled\n  }\n\n  /**\n   * 获取是否可以拖拽滚动\n   * @return {boolean}\n   */\n  scrollEnabled () {\n    return this._scrollEnabled\n  }\n\n  /**\n   * 设置加载更多\n   * @param callback\n   */\n  setLoadMoreCallback (callback) {\n    this._loadMoreCallback = callback\n  }\n\n  /**\n   * 清除数据\n   */\n  clear () {\n    this._more = true\n    this._loading = true\n    this._from = 0\n    this._to = 0\n  }\n}\n","export default function _setPrototypeOf(o, p) {\n  _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n\n  return _setPrototypeOf(o, p);\n}","import setPrototypeOf from \"./setPrototypeOf.js\";\nexport default function _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      writable: true,\n      configurable: true\n    }\n  });\n  Object.defineProperty(subClass, \"prototype\", {\n    writable: false\n  });\n  if (superClass) setPrototypeOf(subClass, superClass);\n}","export default function _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return self;\n}","import _typeof from \"./typeof.js\";\nimport assertThisInitialized from \"./assertThisInitialized.js\";\nexport default function _possibleConstructorReturn(self, call) {\n  if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) {\n    return call;\n  } else if (call !== void 0) {\n    throw new TypeError(\"Derived constructors may only return object or undefined\");\n  }\n\n  return assertThisInitialized(self);\n}","export default function _getPrototypeOf(o) {\n  _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {\n    return o.__proto__ || Object.getPrototypeOf(o);\n  };\n  return _getPrototypeOf(o);\n}","function asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) {\n  try {\n    var info = gen[key](arg);\n    var value = info.value;\n  } catch (error) {\n    reject(error);\n    return;\n  }\n\n  if (info.done) {\n    resolve(value);\n  } else {\n    Promise.resolve(value).then(_next, _throw);\n  }\n}\n\nexport default function _asyncToGenerator(fn) {\n  return function () {\n    var self = this,\n        args = arguments;\n    return new Promise(function (resolve, reject) {\n      var gen = fn.apply(self, args);\n\n      function _next(value) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value);\n      }\n\n      function _throw(err) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err);\n      }\n\n      _next(undefined);\n    });\n  };\n}","/**\n * Copyright (c) 2014-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\nvar runtime = (function (exports) {\n  \"use strict\";\n\n  var Op = Object.prototype;\n  var hasOwn = Op.hasOwnProperty;\n  var undefined; // More compressible than void 0.\n  var $Symbol = typeof Symbol === \"function\" ? Symbol : {};\n  var iteratorSymbol = $Symbol.iterator || \"@@iterator\";\n  var asyncIteratorSymbol = $Symbol.asyncIterator || \"@@asyncIterator\";\n  var toStringTagSymbol = $Symbol.toStringTag || \"@@toStringTag\";\n\n  function define(obj, key, value) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n    return obj[key];\n  }\n  try {\n    // IE 8 has a broken Object.defineProperty that only works on DOM objects.\n    define({}, \"\");\n  } catch (err) {\n    define = function(obj, key, value) {\n      return obj[key] = value;\n    };\n  }\n\n  function wrap(innerFn, outerFn, self, tryLocsList) {\n    // If outerFn provided and outerFn.prototype is a Generator, then outerFn.prototype instanceof Generator.\n    var protoGenerator = outerFn && outerFn.prototype instanceof Generator ? outerFn : Generator;\n    var generator = Object.create(protoGenerator.prototype);\n    var context = new Context(tryLocsList || []);\n\n    // The ._invoke method unifies the implementations of the .next,\n    // .throw, and .return methods.\n    generator._invoke = makeInvokeMethod(innerFn, self, context);\n\n    return generator;\n  }\n  exports.wrap = wrap;\n\n  // Try/catch helper to minimize deoptimizations. Returns a completion\n  // record like context.tryEntries[i].completion. This interface could\n  // have been (and was previously) designed to take a closure to be\n  // invoked without arguments, but in all the cases we care about we\n  // already have an existing method we want to call, so there's no need\n  // to create a new function object. We can even get away with assuming\n  // the method takes exactly one argument, since that happens to be true\n  // in every case, so we don't have to touch the arguments object. The\n  // only additional allocation required is the completion record, which\n  // has a stable shape and so hopefully should be cheap to allocate.\n  function tryCatch(fn, obj, arg) {\n    try {\n      return { type: \"normal\", arg: fn.call(obj, arg) };\n    } catch (err) {\n      return { type: \"throw\", arg: err };\n    }\n  }\n\n  var GenStateSuspendedStart = \"suspendedStart\";\n  var GenStateSuspendedYield = \"suspendedYield\";\n  var GenStateExecuting = \"executing\";\n  var GenStateCompleted = \"completed\";\n\n  // Returning this object from the innerFn has the same effect as\n  // breaking out of the dispatch switch statement.\n  var ContinueSentinel = {};\n\n  // Dummy constructor functions that we use as the .constructor and\n  // .constructor.prototype properties for functions that return Generator\n  // objects. For full spec compliance, you may wish to configure your\n  // minifier not to mangle the names of these two functions.\n  function Generator() {}\n  function GeneratorFunction() {}\n  function GeneratorFunctionPrototype() {}\n\n  // This is a polyfill for %IteratorPrototype% for environments that\n  // don't natively support it.\n  var IteratorPrototype = {};\n  define(IteratorPrototype, iteratorSymbol, function () {\n    return this;\n  });\n\n  var getProto = Object.getPrototypeOf;\n  var NativeIteratorPrototype = getProto && getProto(getProto(values([])));\n  if (NativeIteratorPrototype &&\n      NativeIteratorPrototype !== Op &&\n      hasOwn.call(NativeIteratorPrototype, iteratorSymbol)) {\n    // This environment has a native %IteratorPrototype%; use it instead\n    // of the polyfill.\n    IteratorPrototype = NativeIteratorPrototype;\n  }\n\n  var Gp = GeneratorFunctionPrototype.prototype =\n    Generator.prototype = Object.create(IteratorPrototype);\n  GeneratorFunction.prototype = GeneratorFunctionPrototype;\n  define(Gp, \"constructor\", GeneratorFunctionPrototype);\n  define(GeneratorFunctionPrototype, \"constructor\", GeneratorFunction);\n  GeneratorFunction.displayName = define(\n    GeneratorFunctionPrototype,\n    toStringTagSymbol,\n    \"GeneratorFunction\"\n  );\n\n  // Helper for defining the .next, .throw, and .return methods of the\n  // Iterator interface in terms of a single ._invoke method.\n  function defineIteratorMethods(prototype) {\n    [\"next\", \"throw\", \"return\"].forEach(function(method) {\n      define(prototype, method, function(arg) {\n        return this._invoke(method, arg);\n      });\n    });\n  }\n\n  exports.isGeneratorFunction = function(genFun) {\n    var ctor = typeof genFun === \"function\" && genFun.constructor;\n    return ctor\n      ? ctor === GeneratorFunction ||\n        // For the native GeneratorFunction constructor, the best we can\n        // do is to check its .name property.\n        (ctor.displayName || ctor.name) === \"GeneratorFunction\"\n      : false;\n  };\n\n  exports.mark = function(genFun) {\n    if (Object.setPrototypeOf) {\n      Object.setPrototypeOf(genFun, GeneratorFunctionPrototype);\n    } else {\n      genFun.__proto__ = GeneratorFunctionPrototype;\n      define(genFun, toStringTagSymbol, \"GeneratorFunction\");\n    }\n    genFun.prototype = Object.create(Gp);\n    return genFun;\n  };\n\n  // Within the body of any async function, `await x` is transformed to\n  // `yield regeneratorRuntime.awrap(x)`, so that the runtime can test\n  // `hasOwn.call(value, \"__await\")` to determine if the yielded value is\n  // meant to be awaited.\n  exports.awrap = function(arg) {\n    return { __await: arg };\n  };\n\n  function AsyncIterator(generator, PromiseImpl) {\n    function invoke(method, arg, resolve, reject) {\n      var record = tryCatch(generator[method], generator, arg);\n      if (record.type === \"throw\") {\n        reject(record.arg);\n      } else {\n        var result = record.arg;\n        var value = result.value;\n        if (value &&\n            typeof value === \"object\" &&\n            hasOwn.call(value, \"__await\")) {\n          return PromiseImpl.resolve(value.__await).then(function(value) {\n            invoke(\"next\", value, resolve, reject);\n          }, function(err) {\n            invoke(\"throw\", err, resolve, reject);\n          });\n        }\n\n        return PromiseImpl.resolve(value).then(function(unwrapped) {\n          // When a yielded Promise is resolved, its final value becomes\n          // the .value of the Promise<{value,done}> result for the\n          // current iteration.\n          result.value = unwrapped;\n          resolve(result);\n        }, function(error) {\n          // If a rejected Promise was yielded, throw the rejection back\n          // into the async generator function so it can be handled there.\n          return invoke(\"throw\", error, resolve, reject);\n        });\n      }\n    }\n\n    var previousPromise;\n\n    function enqueue(method, arg) {\n      function callInvokeWithMethodAndArg() {\n        return new PromiseImpl(function(resolve, reject) {\n          invoke(method, arg, resolve, reject);\n        });\n      }\n\n      return previousPromise =\n        // If enqueue has been called before, then we want to wait until\n        // all previous Promises have been resolved before calling invoke,\n        // so that results are always delivered in the correct order. If\n        // enqueue has not been called before, then it is important to\n        // call invoke immediately, without waiting on a callback to fire,\n        // so that the async generator function has the opportunity to do\n        // any necessary setup in a predictable way. This predictability\n        // is why the Promise constructor synchronously invokes its\n        // executor callback, and why async functions synchronously\n        // execute code before the first await. Since we implement simple\n        // async functions in terms of async generators, it is especially\n        // important to get this right, even though it requires care.\n        previousPromise ? previousPromise.then(\n          callInvokeWithMethodAndArg,\n          // Avoid propagating failures to Promises returned by later\n          // invocations of the iterator.\n          callInvokeWithMethodAndArg\n        ) : callInvokeWithMethodAndArg();\n    }\n\n    // Define the unified helper method that is used to implement .next,\n    // .throw, and .return (see defineIteratorMethods).\n    this._invoke = enqueue;\n  }\n\n  defineIteratorMethods(AsyncIterator.prototype);\n  define(AsyncIterator.prototype, asyncIteratorSymbol, function () {\n    return this;\n  });\n  exports.AsyncIterator = AsyncIterator;\n\n  // Note that simple async functions are implemented on top of\n  // AsyncIterator objects; they just return a Promise for the value of\n  // the final result produced by the iterator.\n  exports.async = function(innerFn, outerFn, self, tryLocsList, PromiseImpl) {\n    if (PromiseImpl === void 0) PromiseImpl = Promise;\n\n    var iter = new AsyncIterator(\n      wrap(innerFn, outerFn, self, tryLocsList),\n      PromiseImpl\n    );\n\n    return exports.isGeneratorFunction(outerFn)\n      ? iter // If outerFn is a generator, return the full iterator.\n      : iter.next().then(function(result) {\n          return result.done ? result.value : iter.next();\n        });\n  };\n\n  function makeInvokeMethod(innerFn, self, context) {\n    var state = GenStateSuspendedStart;\n\n    return function invoke(method, arg) {\n      if (state === GenStateExecuting) {\n        throw new Error(\"Generator is already running\");\n      }\n\n      if (state === GenStateCompleted) {\n        if (method === \"throw\") {\n          throw arg;\n        }\n\n        // Be forgiving, per 25.3.3.3.3 of the spec:\n        // https://people.mozilla.org/~jorendorff/es6-draft.html#sec-generatorresume\n        return doneResult();\n      }\n\n      context.method = method;\n      context.arg = arg;\n\n      while (true) {\n        var delegate = context.delegate;\n        if (delegate) {\n          var delegateResult = maybeInvokeDelegate(delegate, context);\n          if (delegateResult) {\n            if (delegateResult === ContinueSentinel) continue;\n            return delegateResult;\n          }\n        }\n\n        if (context.method === \"next\") {\n          // Setting context._sent for legacy support of Babel's\n          // function.sent implementation.\n          context.sent = context._sent = context.arg;\n\n        } else if (context.method === \"throw\") {\n          if (state === GenStateSuspendedStart) {\n            state = GenStateCompleted;\n            throw context.arg;\n          }\n\n          context.dispatchException(context.arg);\n\n        } else if (context.method === \"return\") {\n          context.abrupt(\"return\", context.arg);\n        }\n\n        state = GenStateExecuting;\n\n        var record = tryCatch(innerFn, self, context);\n        if (record.type === \"normal\") {\n          // If an exception is thrown from innerFn, we leave state ===\n          // GenStateExecuting and loop back for another invocation.\n          state = context.done\n            ? GenStateCompleted\n            : GenStateSuspendedYield;\n\n          if (record.arg === ContinueSentinel) {\n            continue;\n          }\n\n          return {\n            value: record.arg,\n            done: context.done\n          };\n\n        } else if (record.type === \"throw\") {\n          state = GenStateCompleted;\n          // Dispatch the exception by looping back around to the\n          // context.dispatchException(context.arg) call above.\n          context.method = \"throw\";\n          context.arg = record.arg;\n        }\n      }\n    };\n  }\n\n  // Call delegate.iterator[context.method](context.arg) and handle the\n  // result, either by returning a { value, done } result from the\n  // delegate iterator, or by modifying context.method and context.arg,\n  // setting context.delegate to null, and returning the ContinueSentinel.\n  function maybeInvokeDelegate(delegate, context) {\n    var method = delegate.iterator[context.method];\n    if (method === undefined) {\n      // A .throw or .return when the delegate iterator has no .throw\n      // method always terminates the yield* loop.\n      context.delegate = null;\n\n      if (context.method === \"throw\") {\n        // Note: [\"return\"] must be used for ES3 parsing compatibility.\n        if (delegate.iterator[\"return\"]) {\n          // If the delegate iterator has a return method, give it a\n          // chance to clean up.\n          context.method = \"return\";\n          context.arg = undefined;\n          maybeInvokeDelegate(delegate, context);\n\n          if (context.method === \"throw\") {\n            // If maybeInvokeDelegate(context) changed context.method from\n            // \"return\" to \"throw\", let that override the TypeError below.\n            return ContinueSentinel;\n          }\n        }\n\n        context.method = \"throw\";\n        context.arg = new TypeError(\n          \"The iterator does not provide a 'throw' method\");\n      }\n\n      return ContinueSentinel;\n    }\n\n    var record = tryCatch(method, delegate.iterator, context.arg);\n\n    if (record.type === \"throw\") {\n      context.method = \"throw\";\n      context.arg = record.arg;\n      context.delegate = null;\n      return ContinueSentinel;\n    }\n\n    var info = record.arg;\n\n    if (! info) {\n      context.method = \"throw\";\n      context.arg = new TypeError(\"iterator result is not an object\");\n      context.delegate = null;\n      return ContinueSentinel;\n    }\n\n    if (info.done) {\n      // Assign the result of the finished delegate to the temporary\n      // variable specified by delegate.resultName (see delegateYield).\n      context[delegate.resultName] = info.value;\n\n      // Resume execution at the desired location (see delegateYield).\n      context.next = delegate.nextLoc;\n\n      // If context.method was \"throw\" but the delegate handled the\n      // exception, let the outer generator proceed normally. If\n      // context.method was \"next\", forget context.arg since it has been\n      // \"consumed\" by the delegate iterator. If context.method was\n      // \"return\", allow the original .return call to continue in the\n      // outer generator.\n      if (context.method !== \"return\") {\n        context.method = \"next\";\n        context.arg = undefined;\n      }\n\n    } else {\n      // Re-yield the result returned by the delegate method.\n      return info;\n    }\n\n    // The delegate iterator is finished, so forget it and continue with\n    // the outer generator.\n    context.delegate = null;\n    return ContinueSentinel;\n  }\n\n  // Define Generator.prototype.{next,throw,return} in terms of the\n  // unified ._invoke helper method.\n  defineIteratorMethods(Gp);\n\n  define(Gp, toStringTagSymbol, \"Generator\");\n\n  // A Generator should always return itself as the iterator object when the\n  // @@iterator function is called on it. Some browsers' implementations of the\n  // iterator prototype chain incorrectly implement this, causing the Generator\n  // object to not be returned from this call. This ensures that doesn't happen.\n  // See https://github.com/facebook/regenerator/issues/274 for more details.\n  define(Gp, iteratorSymbol, function() {\n    return this;\n  });\n\n  define(Gp, \"toString\", function() {\n    return \"[object Generator]\";\n  });\n\n  function pushTryEntry(locs) {\n    var entry = { tryLoc: locs[0] };\n\n    if (1 in locs) {\n      entry.catchLoc = locs[1];\n    }\n\n    if (2 in locs) {\n      entry.finallyLoc = locs[2];\n      entry.afterLoc = locs[3];\n    }\n\n    this.tryEntries.push(entry);\n  }\n\n  function resetTryEntry(entry) {\n    var record = entry.completion || {};\n    record.type = \"normal\";\n    delete record.arg;\n    entry.completion = record;\n  }\n\n  function Context(tryLocsList) {\n    // The root entry object (effectively a try statement without a catch\n    // or a finally block) gives us a place to store values thrown from\n    // locations where there is no enclosing try statement.\n    this.tryEntries = [{ tryLoc: \"root\" }];\n    tryLocsList.forEach(pushTryEntry, this);\n    this.reset(true);\n  }\n\n  exports.keys = function(object) {\n    var keys = [];\n    for (var key in object) {\n      keys.push(key);\n    }\n    keys.reverse();\n\n    // Rather than returning an object with a next method, we keep\n    // things simple and return the next function itself.\n    return function next() {\n      while (keys.length) {\n        var key = keys.pop();\n        if (key in object) {\n          next.value = key;\n          next.done = false;\n          return next;\n        }\n      }\n\n      // To avoid creating an additional object, we just hang the .value\n      // and .done properties off the next function object itself. This\n      // also ensures that the minifier will not anonymize the function.\n      next.done = true;\n      return next;\n    };\n  };\n\n  function values(iterable) {\n    if (iterable) {\n      var iteratorMethod = iterable[iteratorSymbol];\n      if (iteratorMethod) {\n        return iteratorMethod.call(iterable);\n      }\n\n      if (typeof iterable.next === \"function\") {\n        return iterable;\n      }\n\n      if (!isNaN(iterable.length)) {\n        var i = -1, next = function next() {\n          while (++i < iterable.length) {\n            if (hasOwn.call(iterable, i)) {\n              next.value = iterable[i];\n              next.done = false;\n              return next;\n            }\n          }\n\n          next.value = undefined;\n          next.done = true;\n\n          return next;\n        };\n\n        return next.next = next;\n      }\n    }\n\n    // Return an iterator with no values.\n    return { next: doneResult };\n  }\n  exports.values = values;\n\n  function doneResult() {\n    return { value: undefined, done: true };\n  }\n\n  Context.prototype = {\n    constructor: Context,\n\n    reset: function(skipTempReset) {\n      this.prev = 0;\n      this.next = 0;\n      // Resetting context._sent for legacy support of Babel's\n      // function.sent implementation.\n      this.sent = this._sent = undefined;\n      this.done = false;\n      this.delegate = null;\n\n      this.method = \"next\";\n      this.arg = undefined;\n\n      this.tryEntries.forEach(resetTryEntry);\n\n      if (!skipTempReset) {\n        for (var name in this) {\n          // Not sure about the optimal order of these conditions:\n          if (name.charAt(0) === \"t\" &&\n              hasOwn.call(this, name) &&\n              !isNaN(+name.slice(1))) {\n            this[name] = undefined;\n          }\n        }\n      }\n    },\n\n    stop: function() {\n      this.done = true;\n\n      var rootEntry = this.tryEntries[0];\n      var rootRecord = rootEntry.completion;\n      if (rootRecord.type === \"throw\") {\n        throw rootRecord.arg;\n      }\n\n      return this.rval;\n    },\n\n    dispatchException: function(exception) {\n      if (this.done) {\n        throw exception;\n      }\n\n      var context = this;\n      function handle(loc, caught) {\n        record.type = \"throw\";\n        record.arg = exception;\n        context.next = loc;\n\n        if (caught) {\n          // If the dispatched exception was caught by a catch block,\n          // then let that catch block handle the exception normally.\n          context.method = \"next\";\n          context.arg = undefined;\n        }\n\n        return !! caught;\n      }\n\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        var record = entry.completion;\n\n        if (entry.tryLoc === \"root\") {\n          // Exception thrown outside of any try block that could handle\n          // it, so set the completion value of the entire function to\n          // throw the exception.\n          return handle(\"end\");\n        }\n\n        if (entry.tryLoc <= this.prev) {\n          var hasCatch = hasOwn.call(entry, \"catchLoc\");\n          var hasFinally = hasOwn.call(entry, \"finallyLoc\");\n\n          if (hasCatch && hasFinally) {\n            if (this.prev < entry.catchLoc) {\n              return handle(entry.catchLoc, true);\n            } else if (this.prev < entry.finallyLoc) {\n              return handle(entry.finallyLoc);\n            }\n\n          } else if (hasCatch) {\n            if (this.prev < entry.catchLoc) {\n              return handle(entry.catchLoc, true);\n            }\n\n          } else if (hasFinally) {\n            if (this.prev < entry.finallyLoc) {\n              return handle(entry.finallyLoc);\n            }\n\n          } else {\n            throw new Error(\"try statement without catch or finally\");\n          }\n        }\n      }\n    },\n\n    abrupt: function(type, arg) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.tryLoc <= this.prev &&\n            hasOwn.call(entry, \"finallyLoc\") &&\n            this.prev < entry.finallyLoc) {\n          var finallyEntry = entry;\n          break;\n        }\n      }\n\n      if (finallyEntry &&\n          (type === \"break\" ||\n           type === \"continue\") &&\n          finallyEntry.tryLoc <= arg &&\n          arg <= finallyEntry.finallyLoc) {\n        // Ignore the finally entry if control is not jumping to a\n        // location outside the try/catch block.\n        finallyEntry = null;\n      }\n\n      var record = finallyEntry ? finallyEntry.completion : {};\n      record.type = type;\n      record.arg = arg;\n\n      if (finallyEntry) {\n        this.method = \"next\";\n        this.next = finallyEntry.finallyLoc;\n        return ContinueSentinel;\n      }\n\n      return this.complete(record);\n    },\n\n    complete: function(record, afterLoc) {\n      if (record.type === \"throw\") {\n        throw record.arg;\n      }\n\n      if (record.type === \"break\" ||\n          record.type === \"continue\") {\n        this.next = record.arg;\n      } else if (record.type === \"return\") {\n        this.rval = this.arg = record.arg;\n        this.method = \"return\";\n        this.next = \"end\";\n      } else if (record.type === \"normal\" && afterLoc) {\n        this.next = afterLoc;\n      }\n\n      return ContinueSentinel;\n    },\n\n    finish: function(finallyLoc) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.finallyLoc === finallyLoc) {\n          this.complete(entry.completion, entry.afterLoc);\n          resetTryEntry(entry);\n          return ContinueSentinel;\n        }\n      }\n    },\n\n    \"catch\": function(tryLoc) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.tryLoc === tryLoc) {\n          var record = entry.completion;\n          if (record.type === \"throw\") {\n            var thrown = record.arg;\n            resetTryEntry(entry);\n          }\n          return thrown;\n        }\n      }\n\n      // The context.catch method must only be called with a location\n      // argument that corresponds to a known catch block.\n      throw new Error(\"illegal catch attempt\");\n    },\n\n    delegateYield: function(iterable, resultName, nextLoc) {\n      this.delegate = {\n        iterator: values(iterable),\n        resultName: resultName,\n        nextLoc: nextLoc\n      };\n\n      if (this.method === \"next\") {\n        // Deliberately forget the last sent value so that we don't\n        // accidentally pass it on to the delegate.\n        this.arg = undefined;\n      }\n\n      return ContinueSentinel;\n    }\n  };\n\n  // Regardless of whether this script is executing as a CommonJS module\n  // or not, return the runtime object so that we can declare the variable\n  // regeneratorRuntime in the outer scope, which allows this module to be\n  // injected easily by `bin/regenerator --include-runtime script.js`.\n  return exports;\n\n}(\n  // If this script is executing as a CommonJS module, use module.exports\n  // as the regeneratorRuntime namespace. Otherwise create a new empty\n  // object. Either way, the resulting object will be used to initialize\n  // the regeneratorRuntime variable at the top of this file.\n  typeof module === \"object\" ? module.exports : {}\n));\n\ntry {\n  regeneratorRuntime = runtime;\n} catch (accidentalStrictMode) {\n  // This module should not be running in strict mode, so the above\n  // assignment should always work unless something is misconfigured. Just\n  // in case runtime.js accidentally runs in strict mode, in modern engines\n  // we can explicitly access globalThis. In older engines we can escape\n  // strict mode using a global Function call. This could conceivably fail\n  // if a Content Security Policy forbids using Function, but in that case\n  // the proper solution is to fix the accidental strict mode problem. If\n  // you've misconfigured your bundler to force strict mode and applied a\n  // CSP to forbid Function, and you're not willing to fix either of those\n  // problems, please detail your unique predicament in a GitHub issue.\n  if (typeof globalThis === \"object\") {\n    globalThis.regeneratorRuntime = runtime;\n  } else {\n    Function(\"r\", \"regeneratorRuntime = r\")(runtime);\n  }\n}\n","module.exports = require(\"regenerator-runtime\");\n","/**\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n\n * http://www.apache.org/licenses/LICENSE-2.0\n\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { clone, isArray, isBoolean, isNumber, merge, isObject, isFunction, isValid } from '../../utils/typeChecks'\n\n/**\n * 绘制类型\n * @type {{BAR: string, LINE: string, CIRCLE: string}}\n */\nexport const TechnicalIndicatorPlotType = {\n  LINE: 'line',\n  BAR: 'bar',\n  CIRCLE: 'circle'\n}\n\n/**\n * 系列\n */\nexport const TechnicalIndicatorSeries = {\n  PRICE: 'price',\n  VOLUME: 'volume',\n  NORMAL: 'normal'\n}\n\n/**\n * 获取指标配置项样式\n * @param kLineDataList\n * @param techDataList\n * @param dataIndex\n * @param plot\n * @param techStyles\n * @param defaultStyle\n * @returns\n */\nexport function getTechnicalIndicatorPlotStyle (\n  kLineDataList, techDataList, dataIndex, plot, techStyles, defaultStyle\n) {\n  let color = defaultStyle.color\n  let isStroke = defaultStyle.isStroke\n  const cbData = {\n    prev: { kLineData: kLineDataList[dataIndex - 1], technicalIndicatorData: techDataList[dataIndex - 1] },\n    current: { kLineData: kLineDataList[dataIndex], technicalIndicatorData: techDataList[dataIndex] },\n    next: { kLineData: kLineDataList[dataIndex + 1], technicalIndicatorData: techDataList[dataIndex + 1] }\n  }\n  if (isValid(plot.color)) {\n    if (isFunction(plot.color)) {\n      color = plot.color(cbData, techStyles) || defaultStyle.color\n    } else {\n      color = plot.color || defaultStyle.color\n    }\n  }\n  if (isValid(plot.isStroke)) {\n    if (isFunction(plot.isStroke)) {\n      isStroke = plot.isStroke(cbData)\n    } else {\n      isStroke = plot.isStroke\n    }\n  }\n  return { color, isStroke }\n}\n\nexport default class TechnicalIndicator {\n  constructor ({\n    name, shortName, series, calcParams, plots, precision,\n    shouldCheckParamCount, shouldOhlc, shouldFormatBigNumber,\n    minValue, maxValue, styles\n  }) {\n    // 指标名\n    this.name = name || ''\n    // 指标简短名称，用于显示\n    this.shortName = isValid(shortName) ? shortName : name\n    // 系列\n    this.series = Object.values(TechnicalIndicatorSeries).indexOf(series) !== -1 ? series : TechnicalIndicatorSeries.NORMAL\n    // 精度\n    this.precision = isNumber(precision) && precision >= 0 ? precision : 4\n    // 精度设置标识\n    this._precisionFlag = false\n    // 计算参数\n    this.calcParams = isArray(calcParams) ? calcParams : []\n    // 数据信息\n    this.plots = isArray(plots) ? plots : []\n    // 是否需要检查参数\n    this.shouldCheckParamCount = isBoolean(shouldCheckParamCount) ? shouldCheckParamCount : true\n    // 是否需要ohlc\n    this.shouldOhlc = isBoolean(shouldOhlc) ? shouldOhlc : false\n    // 是否需要格式化大数据值，从1000开始格式化，比如100000是否需要格式化100K\n    this.shouldFormatBigNumber = isBoolean(shouldFormatBigNumber) ? shouldFormatBigNumber : false\n    // 指定的最小值\n    this.minValue = minValue\n    // 指定的最大值\n    this.maxValue = maxValue\n    // 样式\n    this.styles = styles\n    // 结果\n    this.result = []\n  }\n\n  _createParams (calcParams) {\n    return calcParams.map(param => {\n      if (isObject(param)) {\n        return param.value\n      }\n      return param\n    })\n  }\n\n  /**\n   * 设置简短名称\n   * @param shortName\n   * @returns\n   */\n  setShortName (shortName) {\n    if (isValid(shortName) && this.shortName !== shortName) {\n      this.shortName = shortName\n      return true\n    }\n    return false\n  }\n\n  /**\n   * 设置精度\n   * @param precision\n   * @param flag\n   * @returns\n   */\n  setPrecision (precision, flag) {\n    if (isNumber(precision) && precision >= 0 && (!flag || (flag && !this._precisionFlag))) {\n      this.precision = parseInt(precision, 10)\n      if (!flag) {\n        this._precisionFlag = true\n      }\n      return true\n    }\n    return false\n  }\n\n  /**\n   * 设置计算参数\n   * @param params\n   * @returns\n   */\n  setCalcParams (params) {\n    if (!isArray(params)) {\n      return false\n    }\n    if (this.shouldCheckParamCount && params.length !== this.calcParams.length) {\n      return false\n    }\n    const calcParams = []\n    for (let i = 0; i < params.length; i++) {\n      const param = params[i]\n      let v\n      let allowDecimal\n      if (isObject(param)) {\n        v = param.value\n        allowDecimal = param.allowDecimal\n      } else {\n        v = param\n        allowDecimal = false\n      }\n      const oldParam = this.calcParams[i]\n      if (isObject(oldParam) && isBoolean(oldParam.allowDecimal)) {\n        allowDecimal = oldParam.allowDecimal\n      }\n      if (\n        !isNumber(v) ||\n        (!allowDecimal && parseInt(v, 10) !== v)\n      ) {\n        return false\n      }\n      calcParams.push({ allowDecimal, value: v })\n    }\n    this.calcParams = calcParams\n    const plots = this.regeneratePlots(this._createParams(calcParams))\n    if (plots && isArray(plots)) {\n      this.plots = plots\n    }\n    return true\n  }\n\n  setShouldOhlc (shouldOhlc) {\n    if (isBoolean(shouldOhlc) && this.shouldOhlc !== shouldOhlc) {\n      this.shouldOhlc = shouldOhlc\n      return true\n    }\n    return false\n  }\n\n  setShouldFormatBigNumber (shouldFormatBigNumber) {\n    if (isBoolean(shouldFormatBigNumber) && this.shouldFormatBigNumber !== shouldFormatBigNumber) {\n      this.shouldFormatBigNumber = shouldFormatBigNumber\n      return true\n    }\n    return false\n  }\n\n  setStyles (styles, defaultStyles) {\n    if (!isObject(styles)) {\n      return false\n    }\n    if (!this.styles) {\n      this.styles = {\n        margin: clone(defaultStyles.margin),\n        bar: clone(defaultStyles.bar),\n        line: clone(defaultStyles.line),\n        circle: clone(defaultStyles.circle)\n      }\n    }\n    merge(this.styles, styles)\n    return true\n  }\n\n  /**\n   * 计算\n   * @param dataList\n   * @return {*}\n   */\n  async calc (dataList) {\n    this.result = await this.calcTechnicalIndicator(dataList, {\n      params: this._createParams(this.calcParams),\n      plots: this.plots\n    }) || []\n  }\n\n  /**\n   * 计算技术指标\n   */\n  calcTechnicalIndicator (dataList, options) {}\n\n  /**\n   * 重新生成各项数据\n   * @param params\n   */\n  regeneratePlots (params) {}\n}\n","/**\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n\n * http://www.apache.org/licenses/LICENSE-2.0\n\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport extension from './extension'\n\nimport { isFunction, isValid } from '../utils/typeChecks'\nimport { logWarn } from '../utils/logger'\n\nimport TechnicalIndicator, { TechnicalIndicatorSeries } from '../component/technicalindicator/TechnicalIndicator'\n\nexport default class TechnicalIndicatorStore {\n  constructor (chartStore) {\n    this._chartStore = chartStore\n    // 指标模板\n    this._templates = this._createTemplates()\n    this._instances = new Map()\n  }\n\n  /**\n   * 获取指标信息\n   * @param tech\n   * @return {{ calcParams, series, precision, name, shortName, shouldCheckParamCount, shouldOhlc, shouldFormatBigNumber, styles }}\n   */\n  _createTechInfo (tech) {\n    return {\n      name: tech.name,\n      shortName: tech.shortName,\n      series: tech.series,\n      calcParams: tech.calcParams,\n      shouldCheckParamCount: tech.shouldCheckParamCount,\n      shouldOhlc: tech.shouldOhlc,\n      shouldFormatBigNumber: tech.shouldFormatBigNumber,\n      precision: tech.precision,\n      styles: tech.styles,\n      plots: tech.plots,\n      result: tech.result || []\n    }\n  }\n\n  /**\n   * 创建技术指标模板\n   * @return {{}}\n   */\n  _createTemplates () {\n    const mapping = {}\n    const extensions = extension.technicalIndicatorExtensions\n    for (const name in extensions) {\n      const templateInstance = this._createTemplateInstance(extensions[name])\n      if (templateInstance) {\n        mapping[name] = templateInstance\n      }\n    }\n    return mapping\n  }\n\n  /**\n   * 创建一个新的技术指标\n   * @param name\n   * @param shortName\n   * @param series\n   * @param calcParams\n   * @param plots\n   * @param precision\n   * @param shouldCheckParamCount\n   * @param shouldOhlc\n   * @param shouldFormatBigNumber\n   * @param minValue\n   * @param maxValue\n   * @param styles\n   * @param calcTechnicalIndicator\n   * @param regeneratePlots\n   * @param render\n   * @returns {templateInstance|null}\n   */\n  _createTemplateInstance ({\n    name, shortName, series, calcParams, plots, precision,\n    shouldCheckParamCount, shouldOhlc, shouldFormatBigNumber,\n    minValue, maxValue, styles,\n    calcTechnicalIndicator, regeneratePlots, createToolTipDataSource, render\n  }) {\n    if (!name || !isFunction(calcTechnicalIndicator)) {\n      logWarn('', '', 'The required attribute \"name\" and method \"calcTechnicalIndicator\" are missing, and new technical indicator cannot be generated!!!')\n      return null\n    }\n    class Template extends TechnicalIndicator {\n      constructor () {\n        super(\n          {\n            name,\n            shortName,\n            series,\n            calcParams,\n            plots,\n            precision,\n            shouldCheckParamCount,\n            shouldOhlc,\n            shouldFormatBigNumber,\n            minValue,\n            maxValue,\n            styles\n          }\n        )\n      }\n    }\n    Template.prototype.calcTechnicalIndicator = calcTechnicalIndicator\n    if (isFunction(regeneratePlots)) {\n      Template.prototype.regeneratePlots = regeneratePlots\n    }\n    if (isFunction(createToolTipDataSource)) {\n      Template.prototype.createToolTipDataSource = createToolTipDataSource\n    }\n    if (isFunction(render)) {\n      Template.prototype.render = render\n    }\n    return new Template()\n  }\n\n  /**\n   * 添加指标模板\n   * @param templates\n   */\n  addTemplate (templates) {\n    templates.forEach(tmp => {\n      const instance = this._createTemplateInstance(tmp || {})\n      if (instance) {\n        // 将生成的新的指标类放入集合\n        this._templates[instance.name] = instance\n      }\n    })\n  }\n\n  /**\n   * 模板是否存在\n   * @param {*} name\n   * @returns\n   */\n  hasTemplate (name) {\n    return !!this._templates[name]\n  }\n\n  /**\n   * 获取技术指标模板信息\n   * @param name\n   * @return {{}|{calcParams: *, precision: *, name: *}}\n   */\n  getTemplateInfo (name) {\n    if (isValid(name)) {\n      const template = this._templates[name]\n      if (template) {\n        return this._createTechInfo(template)\n      }\n    } else {\n      const templateInfos = {}\n      for (const name in this._templates) {\n        const template = this._templates[name]\n        templateInfos[name] = this._createTechInfo(template)\n      }\n      return templateInfos\n    }\n    return {}\n  }\n\n  /**\n   * 添加技术指标实例\n   * @param paneId\n   * @param tech\n   * @param isStack\n   * @returns\n   */\n  addInstance (paneId, tech, isStack) {\n    const { name, calcParams, precision, shouldOhlc, shouldFormatBigNumber, styles } = tech\n    let paneInstances = this._instances.get(paneId)\n    if (paneInstances && paneInstances.has(name)) {\n      return\n    }\n    if (!paneInstances) {\n      paneInstances = new Map()\n      this._instances.set(paneId, paneInstances)\n    }\n    const template = this._templates[name]\n    const instance = Object.create(Object.getPrototypeOf(template))\n    for (const key in template) {\n      if (Object.prototype.hasOwnProperty.call(template, key)) {\n        instance[key] = template[key]\n      }\n    }\n    instance.setCalcParams(calcParams)\n    instance.setPrecision(precision)\n    instance.setShouldOhlc(shouldOhlc)\n    instance.setShouldFormatBigNumber(shouldFormatBigNumber)\n    instance.setStyles(styles, this._chartStore.styleOptions().technicalIndicator)\n    if (!isStack) {\n      paneInstances.clear()\n    }\n    paneInstances.set(name, instance)\n    return instance.calc(this._chartStore.dataList())\n  }\n\n  /**\n   * 获取实例\n   * @param {*} paneId\n   * @returns\n   */\n  instances (paneId) {\n    return this._instances.get(paneId) || new Map()\n  }\n\n  /**\n   * 移除技术指标\n   * @param paneId\n   * @param name\n   * @return {boolean}\n   */\n  removeInstance (paneId, name) {\n    let removed = false\n    if (this._instances.has(paneId)) {\n      const paneInstances = this._instances.get(paneId)\n      if (isValid(name)) {\n        if (paneInstances.has(name)) {\n          paneInstances.delete(name)\n          removed = true\n        }\n      } else {\n        paneInstances.clear()\n        removed = true\n      }\n      if (paneInstances.size === 0) {\n        this._instances.delete(paneId)\n      }\n    }\n    return removed\n  }\n\n  /**\n   * 是否有实例\n   * @param paneId\n   * @returns\n   */\n  hasInstance (paneId) {\n    return this._instances.has(paneId)\n  }\n\n  /**\n   * 实例计算\n   * @param paneId\n   * @param name\n   */\n  calcInstance (name, paneId) {\n    const tasks = []\n    if (isValid(name)) {\n      if (isValid(paneId)) {\n        const paneInstances = this._instances.get(paneId)\n        if (paneInstances && paneInstances.has(name)) {\n          tasks.push(paneInstances.get(name).calc(this._chartStore.dataList()))\n        }\n      } else {\n        this._instances.forEach(paneInstances => {\n          if (paneInstances.has(name)) {\n            tasks.push(paneInstances.get(name).calc(this._chartStore.dataList()))\n          }\n        })\n      }\n    } else {\n      this._instances.forEach(paneInstances => {\n        paneInstances.forEach(instance => {\n          tasks.push(instance.calc(this._chartStore.dataList()))\n        })\n      })\n    }\n    return Promise.all(tasks)\n  }\n\n  /**\n   * 获取实例信息\n   * @param paneId\n   * @param name\n   * @returns\n   */\n  getInstanceInfo (paneId, name) {\n    const info = (paneInstances) => {\n      const instanceInfos = []\n      for (const entry of paneInstances) {\n        const instance = entry[1]\n        if (instance) {\n          const instanceInfo = this._createTechInfo(instance)\n          if (instance.name === name) {\n            return instanceInfo\n          }\n          instanceInfos.push(instanceInfo)\n        }\n      }\n      return instanceInfos\n    }\n\n    if (isValid(paneId)) {\n      if (this._instances.has(paneId)) {\n        return info(this._instances.get(paneId))\n      }\n    } else {\n      const infos = {}\n      this._instances.forEach((paneInstance, paneId) => {\n        infos[paneId] = info(paneInstance)\n      })\n      return infos\n    }\n    return {}\n  }\n\n  /**\n   * 设置系列精度\n   * @param pricePrecision\n   * @param volumePrecision\n   */\n  setSeriesPrecision (pricePrecision, volumePrecision) {\n    const setPrecision = (tech) => {\n      if (tech.series === TechnicalIndicatorSeries.PRICE) {\n        tech.setPrecision(pricePrecision, true)\n      }\n      if (tech.series === TechnicalIndicatorSeries.VOLUME) {\n        tech.setPrecision(volumePrecision, true)\n      }\n    }\n    for (const key in this._templates) {\n      setPrecision(this._templates[key])\n    }\n    this._instances.forEach(paneInstances => {\n      paneInstances.forEach(instance => {\n        setPrecision(instance)\n      })\n    })\n  }\n\n  /**\n   * 覆盖\n   * @param techOverride\n   * @param paneId\n   * @returns\n   */\n  override (techOverride, paneId) {\n    const { name, shortName, calcParams, precision, shouldOhlc, shouldFormatBigNumber, styles } = techOverride\n    const defaultTechStyleOptions = this._chartStore.styleOptions().technicalIndicator\n    let instances = new Map()\n    if (isValid(paneId)) {\n      if (this._instances.has(paneId)) {\n        instances.set(paneId, this._instances.get(paneId))\n      }\n    } else {\n      instances = this._instances\n      const template = this._templates[name]\n      if (template) {\n        template.setCalcParams(calcParams)\n        template.setShortName(shortName)\n        template.setPrecision(precision)\n        template.setShouldOhlc(shouldOhlc)\n        template.setShouldFormatBigNumber(shouldFormatBigNumber)\n        template.setStyles(styles, defaultTechStyleOptions)\n      }\n    }\n    let overiderSuccss = false\n    const tasks = []\n    instances.forEach(paneInstances => {\n      if (paneInstances.has(name)) {\n        const tech = paneInstances.get(name)\n        const shortNameSuccess = tech.setShortName(shortName)\n        const calcParamsSuccess = tech.setCalcParams(calcParams)\n        const precisionSuccess = tech.setPrecision(precision)\n        const shouldOhlcSuccess = tech.setShouldOhlc(shouldOhlc)\n        const shouldFormatBigNumberSuccess = tech.setShouldFormatBigNumber(shouldFormatBigNumber)\n        const styleSuccess = tech.setStyles(styles, defaultTechStyleOptions)\n        if (shortNameSuccess || calcParamsSuccess || precisionSuccess || shouldOhlcSuccess || shouldFormatBigNumberSuccess || styleSuccess) {\n          overiderSuccss = true\n        }\n        if (calcParamsSuccess) {\n          tasks.push(tech.calc(this._chartStore.dataList()))\n        }\n      }\n    })\n    if (overiderSuccss) {\n      return Promise.all(tasks)\n    }\n  }\n}\n","export default function _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}","/**\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n\n * http://www.apache.org/licenses/LICENSE-2.0\n\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { isFunction, isObject, clone, merge } from '../../utils/typeChecks'\n\n/**\n * 完善覆盖物实例\n * @param overlay 覆盖物实例\n * @param options 参数\n */\nexport function perfectOverlayFunc (overlay, funcs) {\n  funcs.forEach(({ key, fn }) => {\n    if (isFunction(fn)) {\n      overlay[key] = fn\n    }\n  })\n}\n\n/**\n * 覆盖物\n */\nexport default class Overlay {\n  constructor ({\n    id, chartStore, xAxis, yAxis\n  }) {\n    this._id = id\n    this._chartStore = chartStore\n    this._xAxis = xAxis\n    this._yAxis = yAxis\n    this._styles = null\n  }\n\n  /**\n   * 绘制\n   * @param ctx\n   */\n  draw (ctx) {}\n\n  /**\n   * 设置样式\n   * @param styles\n   * @param defaultStyles\n   */\n  setStyles (styles, defaultStyles) {\n    if (!isObject(styles)) {\n      return false\n    }\n    if (!this._styles) {\n      this._styles = clone(defaultStyles)\n    }\n    merge(this._styles, styles)\n    return true\n  }\n\n  /**\n   * 获取id\n   * @return {*}\n   */\n  id () {\n    return this._id\n  }\n\n  /**\n   * 获取样式\n   * @return {null}\n   */\n  styles () {\n    return this._styles\n  }\n\n  /**\n   * 设置y轴\n   * @param yAxis\n   */\n  setYAxis (yAxis) {\n    if (yAxis) {\n      this._yAxis = yAxis\n    }\n  }\n\n  /**\n   * 检查鼠标点是否在图形上\n   * @param coordinate\n   */\n  checkEventCoordinateOn (coordinate) {}\n\n  // -------------------- 事件开始 -------------------\n\n  /**\n   * 点击事件\n   * @param id\n   * @param points\n   * @param event\n   */\n  onClick ({ id, points, event }) {}\n\n  /**\n   * 右击事件\n   * @param id\n   * @param points\n   * @param event\n   */\n  onRightClick ({ id, points, event }) {}\n\n  /**\n   * 鼠标进入事件\n   * @param id\n   * @param points\n   * @param event\n   */\n  onMouseEnter ({ id, points, event }) {}\n\n  /**\n   * 鼠标离开事件\n   * @param id\n   * @param points\n   * @param event\n   */\n  onMouseLeave ({ id, points, event }) {}\n\n  // -------------------- 事件结束 -------------------\n}\n","/**\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n\n * http://www.apache.org/licenses/LICENSE-2.0\n\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n/**\n * 绘制边框圆\n * @param ctx\n * @param borderColor\n * @param borderSize\n * @param circleCoordinate\n * @param radius\n */\nexport function renderStrokeCircle (ctx, borderColor, borderSize, circleCoordinate, radius) {\n  ctx.lineWidth = borderSize\n  ctx.strokeStyle = borderColor\n  ctx.beginPath()\n  ctx.arc(circleCoordinate.x, circleCoordinate.y, radius, 0, Math.PI * 2)\n  ctx.closePath()\n  ctx.stroke()\n}\n\n/**\n * 绘制实心圆\n * @param ctx\n * @param fillColor\n * @param circleCoordinate\n * @param radius\n */\nexport function renderFillCircle (ctx, fillColor, circleCoordinate, radius) {\n  ctx.fillStyle = fillColor\n  ctx.beginPath()\n  ctx.arc(circleCoordinate.x, circleCoordinate.y, radius, 0, Math.PI * 2)\n  ctx.closePath()\n  ctx.fill()\n}\n","/**\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n\n * http://www.apache.org/licenses/LICENSE-2.0\n\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nexport const DEVIATION = 2\n\n/**\n * 获取两点之间的距离\n * @param coordinate\n * @param coordinate2\n * @return {number}\n */\nexport function getDistance (coordinate1, coordinate2) {\n  const xDif = coordinate1.x - coordinate2.x\n  const yDif = coordinate1.y - coordinate2.y\n  return Math.sqrt(xDif * xDif + yDif * yDif)\n}\n\n/**\n * 根据三角形三个点获取三角形面积\n * @param coordinate1\n * @param coordinate2\n * @param coordinate3\n * @return {number}\n */\nexport function getTriangleSquare (coordinate1, coordinate2, coordinate3) {\n  const x1 = Math.abs(coordinate2.x - coordinate1.x)\n  const y1 = Math.abs(coordinate2.y - coordinate1.y)\n  const x2 = Math.abs(coordinate3.x - coordinate1.x)\n  const y2 = Math.abs(coordinate3.y - coordinate1.y)\n  return Math.abs(x1 * y2 - x2 * y1) / 2\n}\n\n/**\n * 获取一点绕另一点旋转一定角度后新的点坐标\n * @param coordinate 旋转点\n * @param targetCoordinate 参照点\n * @param angle 角度\n * @return {{x: *, y: *}}\n */\nexport function getRotateCoordinate (coordinate, targetCoordinate, angle) {\n  const x = (coordinate.x - targetCoordinate.x) * Math.cos(angle) - (coordinate.y - targetCoordinate.y) * Math.sin(angle) + targetCoordinate.x\n  const y = (coordinate.x - targetCoordinate.x) * Math.sin(angle) + (coordinate.y - targetCoordinate.y) * Math.cos(angle) + targetCoordinate.y\n  return { x, y }\n}\n\n/**\n * 获取一次函数斜率和截距，即 y = kx + b 中的k值和b值\n * @param coordinate1\n * @param coordinate2\n */\nexport function getLinearSlopeIntercept (coordinate1, coordinate2) {\n  const difX = (coordinate1.x - coordinate2.x)\n  if (difX !== 0) {\n    const k = (coordinate1.y - coordinate2.y) / difX\n    const b = coordinate1.y - k * coordinate1.x\n    return { k, b }\n  }\n}\n\n/**\n * 获取点在两点决定的一次函数上的y值\n * @param coordinate1\n * @param coordinate2\n * @param targetCoordinate\n */\nexport function getLinearYFromCoordinates (coordinate1, coordinate2, targetCoordinate) {\n  const kb = getLinearSlopeIntercept(coordinate1, coordinate2)\n  return getLinearYFromSlopeIntercept(kb, targetCoordinate)\n}\n\n/**\n * 获取点在斜率和截距确定的线上的y值\n * @param kb\n * @param targetCoordinate\n */\nexport function getLinearYFromSlopeIntercept (kb, targetCoordinate) {\n  if (kb) {\n    return targetCoordinate.x * kb.k + kb.b\n  }\n  return targetCoordinate.y\n}\n\n/**\n * 点是否在线上\n * @param coordinate1\n * @param coordinate2\n * @param targetCoordinate\n */\nexport function checkCoordinateOnStraightLine (coordinate1, coordinate2, targetCoordinate) {\n  if (!targetCoordinate || !coordinate1 || !coordinate2) {\n    return false\n  }\n  if (coordinate1.x === coordinate2.x) {\n    return Math.abs(targetCoordinate.x - coordinate1.x) < DEVIATION\n  }\n  const kb = getLinearSlopeIntercept(coordinate1, coordinate2)\n  const y = getLinearYFromSlopeIntercept(kb, targetCoordinate)\n  const yDif = Math.abs(y - targetCoordinate.y)\n  return yDif * yDif / (kb.k * kb.k + 1) < DEVIATION * DEVIATION\n}\n\n/**\n * 点是否在线段上\n * @param coordinate1\n * @param coordinate2\n * @param targetCoordinate\n * @returns {boolean}\n */\nexport function checkCoordinateOnRayLine (coordinate1, coordinate2, targetCoordinate) {\n  if (checkCoordinateOnStraightLine(coordinate1, coordinate2, targetCoordinate)) {\n    if (coordinate1.x === coordinate2.x) {\n      if (coordinate1.y < coordinate2.y) {\n        return coordinate1.y - targetCoordinate.y < DEVIATION\n      } else {\n        return targetCoordinate.y - coordinate1.y < DEVIATION\n      }\n    }\n    if (coordinate1.x < coordinate2.x) {\n      return coordinate1.x - targetCoordinate.x < DEVIATION\n    } else {\n      return targetCoordinate.x - coordinate1.x < DEVIATION\n    }\n  }\n  return false\n}\n\n/**\n * 判断点是否在线段上面\n * @param coordinate1\n * @param coordinate2\n * @param targetCoordinate\n */\nexport function checkCoordinateOnSegment (coordinate1, coordinate2, targetCoordinate) {\n  if (checkCoordinateOnStraightLine(coordinate1, coordinate2, targetCoordinate)) {\n    if (coordinate1.x === coordinate2.x) {\n      return Math.abs(coordinate1.y - targetCoordinate.y) + Math.abs(coordinate2.y - targetCoordinate.y) - Math.abs(coordinate1.y - coordinate2.y) < DEVIATION * 2\n    }\n    return Math.abs(coordinate1.x - targetCoordinate.x) + Math.abs(coordinate2.x - targetCoordinate.x) - Math.abs(coordinate1.x - coordinate2.x) < DEVIATION * 2\n  }\n  return false\n}\n\n/**\n * 点是否在圆内\n * @param circleCenterCoordinate\n * @param radius\n * @param targetCoordinate\n * @returns {boolean}\n */\nexport function checkCoordinateInCircle (circleCenterCoordinate, radius, targetCoordinate) {\n  if (!targetCoordinate) {\n    return false\n  }\n  const difX = targetCoordinate.x - circleCenterCoordinate.x\n  const difY = targetCoordinate.y - circleCenterCoordinate.y\n  return !(difX * difX + difY * difY > radius * radius)\n}\n\n/**\n * 点是否在圆上\n * @param circleCenterCoordinate\n * @param radius\n * @param targetCoordinate\n * @return {boolean}\n */\nexport function checkCoordinateOnCircle (circleCenterCoordinate, radius, targetCoordinate) {\n  if (!targetCoordinate) {\n    return false\n  }\n  return Math.abs(getDistance(targetCoordinate, circleCenterCoordinate) - radius) < DEVIATION\n}\n\n/**\n * 检查点是否在圆弧上\n * @param circleCenterCoordinate\n * @param radius\n * @param startAngle\n * @param endAngle\n * @param targetCoordinate\n * @return {boolean}\n */\nexport function checkCoordinateOnArc (circleCenterCoordinate, radius, startAngle, endAngle, targetCoordinate) {\n  if (checkCoordinateOnCircle(circleCenterCoordinate, radius, targetCoordinate)) {\n    const startCoordinateX = radius * Math.cos(startAngle) + circleCenterCoordinate.x\n    const startCoordinateY = radius * Math.sin(startAngle) + circleCenterCoordinate.y\n    const endCoordinateX = radius * Math.cos(endAngle) + circleCenterCoordinate.x\n    const endCoordinateY = radius * Math.sin(endAngle) + circleCenterCoordinate.y\n    return (\n      targetCoordinate.x <= Math.max(startCoordinateX, endCoordinateX) + DEVIATION &&\n      targetCoordinate.x >= Math.min(startCoordinateX, endCoordinateX) - DEVIATION &&\n      targetCoordinate.y <= Math.max(startCoordinateY, endCoordinateY) + DEVIATION &&\n      targetCoordinate.y >= Math.min(startCoordinateY, endCoordinateY) - DEVIATION\n    )\n  }\n}\n\n/**\n * 检查点是否在三角形内部\n * @param triangleCoordinates\n * @param targetCoordinate\n * @return {boolean}\n */\nexport function checkCoordinateInTriangle (triangleCoordinates, targetCoordinate) {\n  const square = getTriangleSquare(triangleCoordinates[0], triangleCoordinates[1], triangleCoordinates[2])\n  const compareSquare =\n    getTriangleSquare(triangleCoordinates[0], triangleCoordinates[1], targetCoordinate) +\n    getTriangleSquare(triangleCoordinates[0], triangleCoordinates[2], targetCoordinate) +\n    getTriangleSquare(triangleCoordinates[1], triangleCoordinates[2], targetCoordinate)\n  return Math.abs(square - compareSquare) < DEVIATION\n}\n\n/**\n * 检查点是否在三角形菱形内部\n * @param centerCoordinate\n * @param width\n * @param height\n * @param targetCoordinate\n * @return {boolean}\n */\nexport function checkCoordinateInDiamond (centerCoordinate, width, height, targetCoordinate) {\n  const xDis = Math.abs(centerCoordinate.x - targetCoordinate.x)\n  const yDis = Math.abs(centerCoordinate.y - targetCoordinate.y)\n  return xDis * height + yDis * width < width * height / 2 + DEVIATION\n}\n\n/**\n * 检查点是否在矩形内部\n * @param coordinate1\n * @param coordinate2\n * @param targetCoordinate\n * @return {boolean}\n */\nexport function checkCoordinateInRect (coordinate1, coordinate2, targetCoordinate) {\n  return targetCoordinate.x >= coordinate1.x && targetCoordinate.x <= coordinate2.x && targetCoordinate.y >= coordinate1.y && targetCoordinate.y <= coordinate2.y\n}\n\n/**\n * 根据两点获取一条射线\n * @param coordinate1\n * @param coordinate2\n * @param xyMax\n * @return {(*|{x: *, y: *})[]|*[]}\n */\nexport function getRayLine (coordinate1, coordinate2, xyMax) {\n  if (coordinate1 && coordinate2) {\n    let coordinate\n    if (coordinate1.x === coordinate2.x && coordinate1.y !== coordinate2.y) {\n      if (coordinate1.y < coordinate2.y) {\n        coordinate = {\n          x: coordinate1.x,\n          y: xyMax.y\n        }\n      } else {\n        coordinate = {\n          x: coordinate1.x,\n          y: 0\n        }\n      }\n    } else if (coordinate1.x > coordinate2.x) {\n      coordinate = {\n        x: 0,\n        y: getLinearYFromCoordinates(coordinate1, coordinate2, { x: 0, y: coordinate1.y })\n      }\n    } else {\n      coordinate = {\n        x: xyMax.x,\n        y: getLinearYFromCoordinates(coordinate1, coordinate2, { x: xyMax.x, y: coordinate1.y })\n      }\n    }\n    return [coordinate1, coordinate]\n  }\n  return []\n}\n\n/**\n * 获取平行线\n * @param coordinates\n * @param xyMax\n * @param extendParallelLineCount\n * @returns {Array}\n */\nexport function getParallelLines (coordinates, xyMax, extendParallelLineCount = 0) {\n  const lines = []\n  if (coordinates.length > 1) {\n    if (coordinates[0].x === coordinates[1].x) {\n      const startY = 0\n      const endY = xyMax.y\n      lines.push([{ x: coordinates[0].x, y: startY }, { x: coordinates[0].x, y: endY }])\n      if (coordinates.length > 2) {\n        lines.push([{ x: coordinates[2].x, y: startY }, { x: coordinates[2].x, y: endY }])\n        const distance = coordinates[0].x - coordinates[2].x\n        for (let i = 0; i < extendParallelLineCount; i++) {\n          const d = distance * (i + 1)\n          lines.push([{ x: coordinates[0].x + d, y: startY }, { x: coordinates[0].x + d, y: endY }])\n        }\n      }\n    } else {\n      const startX = 0\n      const endX = xyMax.x\n      const kb = getLinearSlopeIntercept(coordinates[0], coordinates[1])\n      const k = kb.k\n      const b = kb.b\n      lines.push([{ x: startX, y: startX * k + b }, { x: endX, y: endX * k + b }])\n      if (coordinates.length > 2) {\n        const b1 = coordinates[2].y - k * coordinates[2].x\n        lines.push([{ x: startX, y: startX * k + b1 }, { x: endX, y: endX * k + b1 }])\n        const distance = b - b1\n        for (let i = 0; i < extendParallelLineCount; i++) {\n          const b2 = b + distance * (i + 1)\n          lines.push([{ x: startX, y: startX * k + b2 }, { x: endX, y: endX * k + b2 }])\n        }\n      }\n    }\n  }\n  return lines\n}\n","/**\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n\n * http://www.apache.org/licenses/LICENSE-2.0\n\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n/**\n * 绘制路径\n * @param ctx\n * @param coordinates\n * @param strokeFill\n */\nexport function renderPath (ctx, coordinates, strokeFill) {\n  ctx.save()\n  if (ctx.lineWidth % 2) {\n    ctx.translate(0.5, 0.5)\n  }\n  ctx.beginPath()\n  let move = true\n  coordinates.forEach(coordinate => {\n    if (coordinate) {\n      if (move) {\n        ctx.moveTo(coordinate.x, coordinate.y)\n        move = false\n      } else {\n        ctx.lineTo(coordinate.x, coordinate.y)\n      }\n    }\n  })\n  strokeFill()\n  ctx.restore()\n}\n\nexport function renderCloseStrokePath (ctx, coordinates) {\n  renderPath(ctx, coordinates, () => {\n    ctx.closePath()\n    ctx.stroke()\n  })\n}\n\n/**\n * 渲染填充路径\n * @param ctx\n * @param coordinates\n */\nexport function renderCloseFillPath (ctx, coordinates) {\n  renderPath(ctx, coordinates, () => {\n    ctx.closePath()\n    ctx.fill()\n  })\n}\n","/**\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n\n * http://www.apache.org/licenses/LICENSE-2.0\n\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { renderPath } from './path'\n\n/**\n * 绘制水平直线\n * @param ctx\n * @param y\n * @param left\n * @param right\n */\nexport function renderHorizontalLine (ctx, y, left, right) {\n  ctx.beginPath()\n  const correction = (ctx.lineWidth % 2) ? 0.5 : 0\n  ctx.moveTo(left, y + correction)\n  ctx.lineTo(right, y + correction)\n  ctx.stroke()\n  ctx.closePath()\n}\n\n/**\n * 绘制垂直直线\n * @param ctx\n * @param x\n * @param top\n * @param bottom\n */\nexport function renderVerticalLine (ctx, x, top, bottom) {\n  ctx.beginPath()\n  const correction = (ctx.lineWidth % 2) ? 0.5 : 0\n  ctx.moveTo(x + correction, top)\n  ctx.lineTo(x + correction, bottom)\n  ctx.stroke()\n  ctx.closePath()\n}\n\n/**\n * 绘制线\n * @param ctx\n * @param coordinates\n */\nexport function renderLine (ctx, coordinates) {\n  renderPath(ctx, coordinates, () => {\n    ctx.stroke()\n    ctx.closePath()\n  })\n}\n","/**\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n\n * http://www.apache.org/licenses/LICENSE-2.0\n\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n/**\n * 获取屏幕比\n * @param canvas\n * @returns {number}\n */\nexport function getPixelRatio (canvas) {\n  return (canvas.ownerDocument && canvas.ownerDocument.defaultView && canvas.ownerDocument.defaultView.devicePixelRatio) || 2\n}\n\n/**\n * 测量文字的宽度\n * @param ctx\n * @param text\n * @returns {number}\n */\nexport function calcTextWidth (ctx, text) {\n  return Math.round(ctx.measureText(text).width)\n}\n\n/**\n * 创建字体\n * @param fontSize\n * @param fontFamily\n * @param fontWeight\n * @returns {string}\n */\nexport function createFont (fontSize = 12, fontWeight = 'normal', fontFamily = 'Helvetica Neue') {\n  return `${fontWeight} ${fontSize}px ${fontFamily}`\n}\n\n/**\n * 获取文字框宽度\n * @param ctx\n * @param text\n * @param options\n * @returns {number}\n */\nexport function getTextRectWidth (ctx, text, options) {\n  ctx.font = createFont(options.size, options.weight, options.family)\n  const textWidth = calcTextWidth(ctx, text)\n  return options.paddingLeft + options.paddingRight + textWidth + (options.borderSize || 0) * 2\n}\n\n/**\n * 获取文字框高度\n * @param options\n * @returns {number}\n */\nexport function getTextRectHeight (options) {\n  return options.paddingTop + options.paddingBottom + options.size + (options.borderSize || 0) * 2\n}\n","/**\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n\n * http://www.apache.org/licenses/LICENSE-2.0\n\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport Overlay from './Overlay'\n\nimport { renderFillCircle } from '../../renderer/circle'\nimport { checkCoordinateInCircle } from '../../extension/shape/shapeHelper'\nimport { renderHorizontalLine, renderLine, renderVerticalLine } from '../../renderer/line'\nimport { renderCloseStrokePath, renderCloseFillPath } from '../../renderer/path'\nimport { isArray, isValid, clone } from '../../utils/typeChecks'\nimport { createFont } from '../../utils/canvas'\n\nimport { StrokeFillStyle, LineStyle } from '../../options/styleOptions'\n\n// 标记图形绘制步骤开始\nconst SHAPE_DRAW_STEP_START = 1\n\n// 标记图形绘制步骤结束\nconst SHAPE_DRAW_STEP_FINISHED = -1\n\n/**\n * 图形标记鼠标操作元素类型\n * @type {{OTHER: string, POINT: string, NONE: string}}\n */\nexport const ShapeMouseOperateElement = {\n  OTHER: 'other',\n  POINT: 'point',\n  NONE: 'none'\n}\n\n/**\n * 绘制类型\n * @type {{ARC: string, POLYGON: string, LINE: string, CONTINUOUS_LINE: string, TEXT: string}}\n */\nconst ShapeElementType = {\n  LINE: 'line',\n  TEXT: 'text',\n  CONTINUOUS_LINE: 'continuous_line',\n  POLYGON: 'polygon',\n  ARC: 'arc'\n}\n\n/**\n * 线类型\n * @type {{VERTICAL: number, COMMON: number, HORIZONTAL: number}}\n */\nconst LineType = {\n  COMMON: 0,\n  HORIZONTAL: 1,\n  VERTICAL: 2\n}\n\n/**\n * 图形模式\n */\nconst ShapeMode = {\n  NORMAL: 'normal',\n  WEAK_MAGNET: 'weak_magnet',\n  STRONG_MAGNET: 'strong_magnet'\n}\n\n/**\n * 获取绘制线类型\n * @param coordinate1\n * @param coordinate2\n * @private\n */\nfunction getLineType (coordinate1, coordinate2) {\n  if (coordinate1.x === coordinate2.x) {\n    return LineType.VERTICAL\n  }\n  if (coordinate1.y === coordinate2.y) {\n    return LineType.HORIZONTAL\n  }\n  return LineType.COMMON\n}\n\n/**\n * 标记图形\n */\nexport default class Shape extends Overlay {\n  constructor ({\n    id, name, totalStep,\n    chartStore, xAxis, yAxis,\n    points, styles, lock, mode, data\n  }) {\n    super({ id, chartStore, xAxis, yAxis })\n    this._name = name\n    this._totalStep = totalStep\n    this._lock = lock\n    this._mode = ShapeMode.NORMAL\n    this.setMode(mode)\n    this._data = data\n    this._drawStep = SHAPE_DRAW_STEP_START\n    this._points = []\n    this.setPoints(points)\n    this.setStyles(styles, chartStore.styleOptions().shape)\n    this._prevPressPoint = null\n    this._prevPoints = null\n    this._coordinates = []\n  }\n\n  /**\n   * 加载点\n   * @param points\n   */\n  setPoints (points) {\n    if (isArray(points) && points.length > 0) {\n      let repeatTotalStep\n      if (points.length >= this._totalStep - 1) {\n        this._drawStep = SHAPE_DRAW_STEP_FINISHED\n        this._points = points.slice(0, this._totalStep - 1)\n        repeatTotalStep = this._totalStep - 1\n      } else {\n        this._drawStep = points.length + 1\n        this._points = clone(points)\n        repeatTotalStep = points.length\n      }\n      // 重新演练绘制一遍，防止因为点不对而绘制出错误的图形\n      for (let i = 0; i < repeatTotalStep; i++) {\n        this.performEventMoveForDrawing({\n          step: i + 2,\n          mode: this._mode,\n          points: this._points,\n          movePoint: this._points[i],\n          xAxis: this._xAxis,\n          yAxis: this._yAxis\n        })\n      }\n      if (this._drawStep === SHAPE_DRAW_STEP_FINISHED) {\n        this.performEventPressedMove({\n          mode: this._mode,\n          points: this._points,\n          pressPointIndex: this._points.length - 1,\n          pressPoint: this._points[this._points.length - 1],\n          xAxis: this._xAxis,\n          yAxis: this._yAxis\n        })\n      }\n    }\n  }\n\n  /**\n   * 时间戳转换成x轴上点的位置\n   * @param point\n   * @return {*|number}\n   * @private\n   */\n  _timestampOrDataIndexToCoordinateX ({ timestamp, dataIndex }) {\n    if (timestamp) {\n      dataIndex = this._chartStore.timeScaleStore().timestampToDataIndex(timestamp)\n    }\n    return this._xAxis.convertToPixel(dataIndex)\n  }\n\n  /**\n   * 绘制线\n   * @param ctx\n   * @param lines\n   * @param styles\n   * @param defaultStyles\n   * @private\n   */\n  _drawLines (ctx, lines, styles, defaultStyles) {\n    ctx.save()\n    ctx.strokeStyle = styles.color || defaultStyles.color\n    ctx.lineWidth = styles.size || defaultStyles.size\n    if (styles.style === LineStyle.DASH) {\n      ctx.setLineDash(styles.dashValue || defaultStyles.dashValue)\n    }\n    lines.forEach(coordinates => {\n      if (coordinates.length > 1) {\n        const lineType = getLineType(coordinates[0], coordinates[1])\n        switch (lineType) {\n          case LineType.COMMON: {\n            renderLine(ctx, coordinates)\n            break\n          }\n          case LineType.HORIZONTAL: {\n            renderHorizontalLine(ctx, coordinates[0].y, coordinates[0].x, coordinates[1].x)\n            break\n          }\n          case LineType.VERTICAL: {\n            renderVerticalLine(ctx, coordinates[0].x, coordinates[0].y, coordinates[1].y)\n            break\n          }\n          default: { break }\n        }\n      }\n    })\n    ctx.restore()\n  }\n\n  /**\n   * 绘制连续线\n   * @param ctx\n   * @param continuousLines\n   * @param styles\n   * @param styles\n   * @private\n   */\n  _drawContinuousLines (ctx, continuousLines, styles, defaultStyles) {\n    ctx.save()\n    ctx.strokeStyle = styles.color || defaultStyles.color\n    ctx.lineWidth = styles.size || defaultStyles.size\n    if (styles.style === LineStyle.DASH) {\n      ctx.setLineDash(styles.dashValue || defaultStyles.dashValue)\n    }\n    continuousLines.forEach(coordinates => {\n      if (coordinates.length > 0) {\n        renderLine(ctx, coordinates)\n      }\n    })\n    ctx.restore()\n  }\n\n  /**\n   * 绘制多边形\n   * @param ctx\n   * @param polygons\n   * @param styles\n   * @param defaultStyles\n   * @private\n   */\n  _drawPolygons (ctx, polygons, styles, defaultStyles) {\n    ctx.save()\n    let strokeFill\n    if (styles.style === StrokeFillStyle.FILL) {\n      ctx.fillStyle = (styles.fill || defaultStyles.fill).color\n      strokeFill = renderCloseFillPath\n    } else {\n      const strokeStyles = styles.stroke || defaultStyles.stroke\n      if (strokeStyles.style === LineStyle.DASH) {\n        ctx.setLineDash(strokeStyles.dashValue)\n      }\n      ctx.lineWidth = strokeStyles.size\n      ctx.strokeStyle = strokeStyles.color\n      strokeFill = renderCloseStrokePath\n    }\n    polygons.forEach(coordinates => {\n      if (coordinates.length > 0) {\n        strokeFill(ctx, coordinates)\n      }\n    })\n    ctx.restore()\n  }\n\n  /**\n   * 画圆弧\n   * @param ctx\n   * @param arcs\n   * @param styles\n   * @param defaultStyles\n   * @private\n   */\n  _drawArcs (ctx, arcs, styles, defaultStyles) {\n    ctx.save()\n    if (styles.style === StrokeFillStyle.FILL) {\n      ctx.fillStyle = (styles.fill || defaultStyles.fill).color\n    } else {\n      const strokeStyles = styles.stroke || defaultStyles.stroke\n      if (strokeStyles.style === LineStyle.DASH) {\n        ctx.setLineDash(strokeStyles.dashValue)\n      }\n      ctx.lineWidth = strokeStyles.size\n      ctx.strokeStyle = strokeStyles.color\n    }\n    arcs.forEach(({ x, y, radius, startAngle, endAngle }) => {\n      ctx.beginPath()\n      ctx.arc(x, y, radius, startAngle, endAngle)\n      if (styles.style === StrokeFillStyle.FILL) {\n        ctx.closePath()\n        ctx.fill()\n      } else {\n        ctx.stroke()\n        ctx.closePath()\n      }\n    })\n    ctx.restore()\n  }\n\n  /**\n   * 绘制文字\n   * @param ctx\n   * @param texts\n   * @param styles\n   * @param defaultStyles\n   * @private\n   */\n  _drawText (ctx, texts, styles, defaultStyles) {\n    ctx.save()\n    let fillStroke\n    if (styles.style === StrokeFillStyle.STROKE) {\n      ctx.strokeStyle = styles.color || defaultStyles.color\n      fillStroke = ctx.strokeText\n    } else {\n      ctx.fillStyle = styles.color || defaultStyles.color\n      fillStroke = ctx.fillText\n    }\n    ctx.font = createFont(\n      styles.size || defaultStyles.size,\n      styles.family || defaultStyles.family,\n      styles.weight || defaultStyles.weight\n    )\n    const offset = styles.offset || defaultStyles.offset || [0, 0]\n    texts.forEach(({ x, y, text }) => {\n      fillStroke.call(\n        ctx,\n        text,\n        x + offset[1],\n        y + offset[0]\n      )\n    })\n    ctx.restore()\n  }\n\n  /**\n   * 绘制\n   * @param ctx\n   */\n  draw (ctx) {\n    this._coordinates = this._points.map(({ timestamp, value, dataIndex }) => {\n      return {\n        x: this._timestampOrDataIndexToCoordinateX({ timestamp, dataIndex }),\n        y: this._yAxis.convertToPixel(value)\n      }\n    })\n    const shapeOptions = this._styles || this._chartStore.styleOptions().shape\n    if (this._drawStep !== SHAPE_DRAW_STEP_START && this._coordinates.length > 0) {\n      const viewport = { width: this._xAxis.width(), height: this._yAxis.height() }\n      const precision = { price: this._chartStore.pricePrecision(), volume: this._chartStore.volumePrecision() }\n      this._shapeDataSources = this.createShapeDataSource({\n        step: this._drawStep,\n        mode: this._mode,\n        points: this._points,\n        coordinates: this._coordinates,\n        viewport: { width: this._xAxis.width(), height: this._yAxis.height() },\n        precision: { price: this._chartStore.pricePrecision(), volume: this._chartStore.volumePrecision() },\n        styles: shapeOptions,\n        xAxis: this._xAxis,\n        yAxis: this._yAxis,\n        data: this._data\n      }) || []\n      this._shapeDataSources.forEach(({ type, isDraw, styles, dataSource = [] }) => {\n        if (isDraw) {\n          switch (type) {\n            case ShapeElementType.LINE: {\n              this._drawLines(ctx, dataSource, styles || shapeOptions.line, shapeOptions.line)\n              break\n            }\n            case ShapeElementType.CONTINUOUS_LINE: {\n              this._drawContinuousLines(ctx, dataSource, styles || shapeOptions.line, shapeOptions.line)\n              break\n            }\n            case ShapeElementType.POLYGON: {\n              this._drawPolygons(ctx, dataSource, styles || shapeOptions.polygon, shapeOptions.polygon)\n              break\n            }\n            case ShapeElementType.ARC: {\n              this._drawArcs(ctx, dataSource, styles || shapeOptions.arc, shapeOptions.arc)\n              break\n            }\n            case ShapeElementType.TEXT: {\n              this._drawText(ctx, dataSource, styles || shapeOptions.text, shapeOptions.text)\n              break\n            }\n            default: { break }\n          }\n        }\n      })\n      if (this.drawExtend) {\n        ctx.save()\n        this.drawExtend({\n          ctx,\n          dataSource: this._shapeDataSources,\n          styles: shapeOptions,\n          viewport,\n          precision,\n          mode: this._mode,\n          xAxis: this._xAxis,\n          yAxis: this._yAxis,\n          data: this._data\n        })\n        ctx.restore()\n      }\n    }\n    const shapeMouseOperate = this._chartStore.shapeStore().mouseOperate()\n    if (\n      (shapeMouseOperate.hover.id === this._id && shapeMouseOperate.hover.element !== ShapeMouseOperateElement.NONE) ||\n      (shapeMouseOperate.click.id === this._id && shapeMouseOperate.click.element !== ShapeMouseOperateElement.NONE) ||\n      this.isDrawing()\n    ) {\n      this._coordinates.forEach(({ x, y }, index) => {\n        let radius = shapeOptions.point.radius\n        let color = shapeOptions.point.backgroundColor\n        let borderColor = shapeOptions.point.borderColor\n        let borderSize = shapeOptions.point.borderSize\n        if (\n          shapeMouseOperate.hover.id === this._id &&\n          shapeMouseOperate.hover.element === ShapeMouseOperateElement.POINT &&\n          index === shapeMouseOperate.hover.elementIndex\n        ) {\n          radius = shapeOptions.point.activeRadius\n          color = shapeOptions.point.activeBackgroundColor\n          borderColor = shapeOptions.point.activeBorderColor\n          borderSize = shapeOptions.point.activeBorderSize\n        }\n        renderFillCircle(ctx, borderColor, { x, y }, radius + borderSize)\n        renderFillCircle(ctx, color, { x, y }, radius)\n      })\n    }\n  }\n\n  /**\n   * 设置是否锁定\n   * @param lock\n   */\n  setLock (lock) {\n    this._lock = lock\n  }\n\n  /**\n   * 获取名字\n   * @return {*}\n   */\n  name () {\n    return this._name\n  }\n\n  /**\n   * 是否锁定\n   * @return {*}\n   */\n  lock () {\n    return this._lock\n  }\n\n  /**\n   * 总步骤数\n   * @return {*}\n   */\n  totalStep () {\n    return this._totalStep\n  }\n\n  /**\n   * 获取模式类型\n   * @returns\n   */\n  mode () {\n    return this._mode\n  }\n\n  /**\n   * 设置模式\n   * @param mode\n   */\n  setMode (mode) {\n    if (Object.values(ShapeMode).indexOf(mode) > -1) {\n      this._mode = mode\n    }\n  }\n\n  /**\n   * 设置数据\n   * @param data\n   */\n  setData (data) {\n    if (data !== this._data) {\n      this._data = data\n      return true\n    }\n    return false\n  }\n\n  /**\n   * 获取数据\n   * @returns\n   */\n  data () {\n    return this._data\n  }\n\n  /**\n   * 获取点\n   * @return {[]}\n   */\n  points () {\n    return this._points\n  }\n\n  /**\n   * 是否在绘制中\n   * @return {boolean}\n   */\n  isDrawing () {\n    return this._drawStep !== SHAPE_DRAW_STEP_FINISHED\n  }\n\n  /**\n   * 是否开始\n   * @returns\n   */\n  isStart () {\n    return this._drawStep === SHAPE_DRAW_STEP_START\n  }\n\n  /**\n   * 检查鼠标点是否在图形上\n   * @param mouseCoordinate\n   * @return {{id: *, elementIndex: number, element: string}}\n   */\n  checkEventCoordinateOn (eventCoordinate) {\n    const shapeOptions = this._styles || this._chartStore.styleOptions().shape\n    // 检查鼠标点是否在图形的点上\n    const start = this._coordinates.length - 1\n    for (let i = start; i > -1; i--) {\n      if (checkCoordinateInCircle(this._coordinates[i], shapeOptions.point.radius, eventCoordinate)) {\n        return {\n          id: this._id,\n          element: ShapeMouseOperateElement.POINT,\n          elementIndex: i,\n          instance: this\n        }\n      }\n    }\n    // 检查鼠标点是否在点构成的其它图形上\n    if (this._shapeDataSources) {\n      for (const { key, type, isCheck, dataSource = [] } of this._shapeDataSources) {\n        if (isCheck) {\n          for (let i = 0; i < dataSource.length; i++) {\n            const sources = dataSource[i]\n            if (this.checkEventCoordinateOnShape({ key, type, dataSource: sources, eventCoordinate })) {\n              return {\n                id: this._id,\n                element: ShapeMouseOperateElement.OTHER,\n                elementIndex: i,\n                instance: this\n              }\n            }\n          }\n        }\n      }\n    }\n  }\n\n  /**\n   * 不同的模式下处理值\n   * @param value\n   * @param dataIndex\n   * @param paneId\n   */\n  _performValue (y, dataIndex, paneId) {\n    const value = this._yAxis.convertFromPixel(y)\n    if (this._mode === ShapeMode.NORMAL || paneId !== 'candle_pane') {\n      return value\n    }\n    const kLineData = this._chartStore.timeScaleStore().getDataByDataIndex(dataIndex)\n    if (!kLineData) {\n      return value\n    }\n    if (value > kLineData.high) {\n      if (this._mode === ShapeMode.WEAK_MAGNET) {\n        const highY = this._yAxis.convertToPixel(kLineData.high)\n        const buffValue = this._yAxis.convertFromPixel(highY - 8)\n        if (value < buffValue) {\n          return kLineData.high\n        }\n        return value\n      }\n      return kLineData.high\n    }\n    if (value < kLineData.low) {\n      if (this._mode === ShapeMode.WEAK_MAGNET) {\n        const lowY = this._yAxis.convertToPixel(kLineData.low)\n        const buffValue = this._yAxis.convertFromPixel(lowY - 8)\n        if (value > buffValue) {\n          return kLineData.low\n        }\n        return value\n      }\n      return kLineData.low\n    }\n    const max = Math.max(kLineData.open, kLineData.close)\n    if (value > max) {\n      if (value - max < kLineData.high - value) {\n        return max\n      }\n      return kLineData.high\n    }\n    const min = Math.min(kLineData.open, kLineData.close)\n    if (value < min) {\n      if (value - kLineData.low < min - value) {\n        return kLineData.low\n      }\n      return min\n    }\n    if (max - value < value - min) {\n      return max\n    }\n    return min\n  }\n\n  /**\n   * 绘制过程中鼠标移动事件\n   * @param coordinate\n   * @param event\n   */\n  mouseMoveForDrawing (coordinate, event) {\n    const dataIndex = this._xAxis.convertFromPixel(coordinate.x)\n    const timestamp = this._chartStore.timeScaleStore().dataIndexToTimestamp(dataIndex)\n    const value = this._performValue(coordinate.y, dataIndex, event.paneId)\n    this._points[this._drawStep - 1] = { timestamp, value, dataIndex }\n    this.performEventMoveForDrawing({\n      step: this._drawStep,\n      mode: this._mode,\n      points: this._points,\n      movePoint: { timestamp, value, dataIndex },\n      xAxis: this._xAxis,\n      yAxis: this._yAxis\n    })\n    this.onDrawing({ id: this._id, step: this._drawStep, points: this._points })\n  }\n\n  /**\n   * 鼠标左边按钮点击事件\n   */\n  mouseLeftButtonDownForDrawing () {\n    if (this._drawStep === this._totalStep - 1) {\n      this._drawStep = SHAPE_DRAW_STEP_FINISHED\n      this._chartStore.shapeStore().progressInstanceComplete()\n      this.onDrawEnd({ id: this._id, points: this._points })\n    } else {\n      this._drawStep++\n    }\n  }\n\n  /**\n   * 鼠标按住移动方法\n   * @param coordinate\n   * @param event\n   */\n  mousePressedPointMove (coordinate, event) {\n    const shapeMouseOperate = this._chartStore.shapeStore().mouseOperate()\n    const elementIndex = shapeMouseOperate.click.elementIndex\n    if (\n      !this._lock &&\n      shapeMouseOperate.click.id === this._id &&\n      shapeMouseOperate.click.element === ShapeMouseOperateElement.POINT &&\n      elementIndex !== -1\n    ) {\n      const dataIndex = this._xAxis.convertFromPixel(coordinate.x)\n      const timestamp = this._chartStore.timeScaleStore().dataIndexToTimestamp(dataIndex)\n      const value = this._performValue(coordinate.y, dataIndex, event.paneId)\n      this._points[elementIndex].timestamp = timestamp\n      this._points[elementIndex].dataIndex = dataIndex\n      this._points[elementIndex].value = value\n      this.performEventPressedMove({\n        points: this._points,\n        mode: this._mode,\n        pressPointIndex: elementIndex,\n        pressPoint: { dataIndex, timestamp, value },\n        xAxis: this._xAxis,\n        yAxis: this._yAxis\n      })\n      this.onPressedMove({\n        id: this._id,\n        element: ShapeMouseOperateElement.POINT,\n        points: this._points,\n        event\n      })\n    }\n  }\n\n  /**\n   * 按住非点拖动开始事件\n   * @param coordinate\n   */\n  startPressedOtherMove (coordinate) {\n    const dataIndex = this._xAxis.convertFromPixel(coordinate.x)\n    const value = this._yAxis.convertFromPixel(coordinate.y)\n    this._prevPressPoint = { dataIndex, value }\n    this._prevPoints = clone(this._points)\n  }\n\n  /**\n   * 按住非点拖动时事件\n   * @param coordinate\n   */\n  mousePressedOtherMove (coordinate, event) {\n    if (!this._lock && this._prevPressPoint) {\n      const dataIndex = this._xAxis.convertFromPixel(coordinate.x)\n      const value = this._yAxis.convertFromPixel(coordinate.y)\n      const difDataIndex = dataIndex - this._prevPressPoint.dataIndex\n      const difValue = value - this._prevPressPoint.value\n      this._points = this._prevPoints.map(point => {\n        // 防止因为创建时传入进来的point没有dataIndex，导致无法计算时间戳问题\n        if (!isValid(point.dataIndex)) {\n          point.dataIndex = this._chartStore.timeScaleStore().timestampToDataIndex(point.timestamp)\n        }\n        const dataIndex = point.dataIndex + difDataIndex\n        const value = point.value + difValue\n        return {\n          dataIndex,\n          value,\n          timestamp: this._chartStore.timeScaleStore().dataIndexToTimestamp(dataIndex)\n        }\n      })\n      this.onPressedMove({\n        id: this._id,\n        element: ShapeMouseOperateElement.OTHER,\n        points: this._points,\n        event\n      })\n    }\n  }\n\n  // -------------------- 事件开始 -------------------\n\n  /**\n   * 开始绘制事件回调\n   * @param id\n   */\n  onDrawStart ({ id }) {}\n\n  /**\n   * 绘制过程中事件回调\n   * @param id\n   * @param step\n   * @param points\n   */\n  onDrawing ({ id, step, points }) {}\n\n  /**\n   * 绘制结束事件回调\n   * @param id\n   * @param points\n   */\n  onDrawEnd ({ id, points }) {}\n\n  /**\n   * 按住移动事件\n   * @param id\n   * @param points\n   * @param event\n   */\n  onPressedMove ({ id, points, event }) {}\n\n  /**\n   * 移除事件回调\n   * @param id\n   */\n  onRemove ({ id }) {}\n\n  // -------------------- 事件结束 -------------------\n\n  // --------------------- 自定义时需要实现的一些方法开始 ----------------------\n\n  /**\n   * 检查事件坐标是否在图形上\n   * @param key\n   * @param type\n   * @param points\n   * @param mousePoint\n   */\n  checkEventCoordinateOnShape ({ key, type, dataSource, eventCoordinate }) {}\n\n  /**\n   * 创建图形配置\n   * @param step\n   * @param points\n   * @param coordinates\n   * @param viewport\n   * @param precision\n   * @param xAxis\n   * @param yAxis\n   */\n  createShapeDataSource ({ step, mode, points, coordinates, viewport, precision, styles, xAxis, yAxis, data }) {}\n\n  /**\n   * 处理绘制过程中鼠标移动\n   * @param step\n   * @param mode\n   * @param points\n   * @param point\n   * @param xAxis\n   * @param yAxis\n   */\n  performEventMoveForDrawing ({ step, mode, points, movePoint, xAxis, yAxis }) {}\n\n  /**\n   * 处理鼠标按住移动\n   * @param mode\n   * @param points\n   * @param pressPointIndex\n   * @param point\n   * @param xAxis\n   * @param yAxis\n   */\n  performEventPressedMove ({ mode, points, pressPointIndex, pressPoint, xAxis, yAxis }) {}\n\n  // --------------------- 自定义时需要实现的一些方法结束 ----------------------\n}\n","/**\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n\n * http://www.apache.org/licenses/LICENSE-2.0\n\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n/**\n * 刷新层级\n * @type {{OVERLAY: number, MAIN: number, NONE: number, FULL: number}}\n */\nconst InvalidateLevel = {\n  NONE: 0,\n  OVERLAY: 1,\n  MAIN: 2,\n  FULL: 3\n}\n\nexport default InvalidateLevel\n","/**\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n\n * http://www.apache.org/licenses/LICENSE-2.0\n\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport extension from './extension'\n\nimport { isNumber, isFunction, isValid } from '../utils/typeChecks'\nimport { logWarn } from '../utils/logger'\n\nimport Shape, { ShapeMouseOperateElement } from '../component/overlay/Shape'\n\nimport InvalidateLevel from '../enum/InvalidateLevel'\n\nexport default class ShapeStore {\n  constructor (chartStore) {\n    this._chartStore = chartStore\n    // 图形标记映射\n    this._templates = this._createTemplates()\n    // 图形标记鼠标操作信息\n    this._mouseOperate = {\n      click: {\n        id: '',\n        element: ShapeMouseOperateElement.NONE,\n        elementIndex: -1\n      },\n      hover: {\n        id: '',\n        element: ShapeMouseOperateElement.NONE,\n        elementIndex: -1\n      }\n    }\n    // 进行中的实例\n    this._progressInstance = null\n    // 事件按住的示例\n    this._pressedInstance = null\n    // 图形实例\n    this._instances = new Map()\n  }\n\n  /**\n   * 创建模板\n   * @returns\n   */\n  _createTemplates () {\n    const templates = {}\n    const extensions = extension.shapeExtensions\n    for (const name in extensions) {\n      const TemplateClass = this._createTemplateClass(extensions[name])\n      if (TemplateClass) {\n        templates[name] = TemplateClass\n      }\n    }\n    return templates\n  }\n\n  /**\n   * 创建模板类\n   * @param name\n   * @param totalStep\n   * @param checkEventCoordinateOnShape\n   * @param createShapeDataSource\n   * @param performEventPressedMove\n   * @param performEventMoveForDrawing\n   * @param drawExtend\n   * @return\n   */\n  _createTemplateClass ({\n    name, totalStep,\n    checkEventCoordinateOnShape,\n    createShapeDataSource,\n    performEventPressedMove,\n    performEventMoveForDrawing,\n    drawExtend\n  }) {\n    if (\n      !name ||\n      !isNumber(totalStep) ||\n      !isFunction(checkEventCoordinateOnShape) ||\n      !isFunction(createShapeDataSource)\n    ) {\n      logWarn('', '', 'Required attribute \"name\" and \"totalStep\", method \"checkEventCoordinateOnShape\" and \"createShapeDataSource\", new shape cannot be generated!!!')\n      return null\n    }\n    class Template extends Shape {\n      constructor ({\n        id, chartStore, xAxis, yAxis, points, styles, lock, mode, data\n      }) {\n        super({\n          id, name, totalStep, chartStore, xAxis, yAxis, points, styles, lock, mode, data\n        })\n      }\n    }\n    Template.prototype.checkEventCoordinateOnShape = checkEventCoordinateOnShape\n    Template.prototype.createShapeDataSource = createShapeDataSource\n    if (isFunction(performEventPressedMove)) {\n      Template.prototype.performEventPressedMove = performEventPressedMove\n    }\n    if (isFunction(performEventMoveForDrawing)) {\n      Template.prototype.performEventMoveForDrawing = performEventMoveForDrawing\n    }\n    if (isFunction(drawExtend)) {\n      Template.prototype.drawExtend = drawExtend\n    }\n    return Template\n  }\n\n  /**\n   * 添加自定义标记图形\n   * @param templates\n   */\n  addTemplate (templates) {\n    templates.forEach(tmp => {\n      const Template = this._createTemplateClass(tmp)\n      if (Template) {\n        this._templates[tmp.name] = Template\n      }\n    })\n  }\n\n  /**\n   * 获取图形标记模板类\n   * @param name\n   * @return {*}\n   */\n  getTemplate (name) {\n    return this._templates[name]\n  }\n\n  /**\n   * 获取实例\n   * @param shapeId\n   * @returns\n   */\n  getInstance (shapeId) {\n    for (const entry of this._instances) {\n      const shape = (entry[1] || []).find(s => s.id() === shapeId)\n      if (shape) {\n        return shape\n      }\n    }\n    return null\n  }\n\n  /**\n   * 是否有实例\n   * @param shapeId\n   * @returns\n   */\n  hasInstance (shapeId) {\n    return !!this.getInstance(shapeId)\n  }\n\n  /**\n   * 添加标记实例\n   * @param instance\n   * @param paneId\n   */\n  addInstance (instance, paneId) {\n    if (instance.isDrawing()) {\n      this._progressInstance = { paneId, instance, fixed: isValid(paneId) }\n    } else {\n      if (!this._instances.has(paneId)) {\n        this._instances.set(paneId, [])\n      }\n      this._instances.get(paneId).push(instance)\n    }\n    this._chartStore.invalidate(InvalidateLevel.OVERLAY)\n  }\n\n  /**\n   * 获取进行中的实例\n   * @returns\n   */\n  progressInstance () {\n    return this._progressInstance || {}\n  }\n\n  /**\n   * 进行中的实例完成\n   */\n  progressInstanceComplete () {\n    const { instance, paneId } = this.progressInstance()\n    if (instance && !instance.isDrawing()) {\n      if (!this._instances.has(paneId)) {\n        this._instances.set(paneId, [])\n      }\n      this._instances.get(paneId).push(instance)\n      this._progressInstance = null\n    }\n  }\n\n  /**\n   * 更新进行中的实例\n   * @param yAxis\n   * @param paneId\n   */\n  updateProgressInstance (yAxis, paneId) {\n    const { instance, fixed } = this.progressInstance()\n    if (instance && !fixed) {\n      instance.setYAxis(yAxis)\n      this._progressInstance.paneId = paneId\n    }\n  }\n\n  /**\n   * 获取按住的实例\n   * @returns\n   */\n  pressedInstance () {\n    return this._pressedInstance || {}\n  }\n\n  /**\n   * 更新事件按住的实例\n   * @param instance\n   * @param paneId\n   * @param element\n   */\n  updatePressedInstance (instance, paneId, element) {\n    if (instance) {\n      this._pressedInstance = { instance, paneId, element }\n    } else {\n      this._pressedInstance = null\n    }\n  }\n\n  /**\n   * 获取图形标记的数据\n   * @param paneId\n   * @returns {{}}\n   */\n  instances (paneId) {\n    return this._instances.get(paneId) || []\n  }\n\n  /**\n   * 设置图形标记实例配置\n   * @param options\n   */\n  setInstanceOptions (options = {}) {\n    const { id, styles, lock, mode, data } = options\n    const defaultStyles = this._chartStore.styleOptions().shape\n    let shouldInvalidate = false\n    if (isValid(id)) {\n      const instance = this.getInstance(id)\n      if (instance) {\n        instance.setLock(lock)\n        instance.setMode(mode)\n        if (instance.setStyles(styles, defaultStyles) || instance.setData(data)) {\n          shouldInvalidate = true\n        }\n      }\n    } else {\n      this._instances.forEach(shapes => {\n        shapes.forEach(instance => {\n          instance.setLock(lock)\n          instance.setMode(mode)\n          if (instance.setStyles(styles, defaultStyles) || instance.setData(data)) {\n            shouldInvalidate = true\n          }\n        })\n      })\n    }\n    if (shouldInvalidate) {\n      this._chartStore.invalidate(InvalidateLevel.OVERLAY)\n    }\n  }\n\n  /**\n   * 获取图形标记信息\n   * @param id\n   * @return {{name, lock: *, styles, id, points: (*|*[])}[]|{name, lock: *, styles, id, points: (*|*[])}}\n   */\n  getInstanceInfo (shapeId) {\n    const create = (instance) => {\n      return {\n        name: instance.name(),\n        id: instance.id(),\n        totalStep: instance.totalStep(),\n        lock: instance.lock(),\n        mode: instance.mode(),\n        points: instance.points(),\n        styles: instance.styles(),\n        data: instance.data()\n      }\n    }\n    const progressInstance = this.progressInstance()\n    if (isValid(shapeId)) {\n      if (progressInstance.instance && progressInstance.instance.id() === shapeId) {\n        return create(progressInstance.instance)\n      }\n      const shape = this.getInstance(shapeId)\n      if (shape) {\n        return create(shape)\n      }\n    } else {\n      const infos = {}\n      this._instances.forEach((shapes, paneId) => {\n        infos[paneId] = shapes.map(shape => create(shape))\n        if (progressInstance.paneId === paneId && progressInstance.instance) {\n          infos[paneId].push(create(progressInstance.instance))\n        }\n      })\n      return infos\n    }\n    return null\n  }\n\n  /**\n   * 移除图形实例\n   * @param shapeId 参数\n   * @param isProgress\n   */\n  removeInstance (shapeId) {\n    let shouldInvalidate = false\n    const progressInstance = this.progressInstance().instance\n    if (progressInstance && (!isValid(shapeId) || progressInstance.id() === shapeId)) {\n      progressInstance.onRemove({ id: progressInstance.id() })\n      this._progressInstance = null\n      shouldInvalidate = true\n    }\n    if (isValid(shapeId)) {\n      for (const entry of this._instances) {\n        const shapes = entry[1] || []\n        const removeIndex = shapes.findIndex(shape => shape.id() === shapeId)\n        if (removeIndex > -1) {\n          shapes[removeIndex].onRemove({ id: shapes[removeIndex].id() })\n          shapes.splice(removeIndex, 1)\n          if (shapes.length === 0) {\n            this._instances.delete(entry[0])\n          }\n          shouldInvalidate = true\n          break\n        }\n      }\n    } else {\n      this._instances.forEach(shapes => {\n        if (shapes.length > 0) {\n          shapes.forEach(shape => {\n            shape.onRemove({ id: shape.id() })\n          })\n        }\n      })\n      this._instances.clear()\n      shouldInvalidate = true\n    }\n    if (shouldInvalidate) {\n      this._chartStore.invalidate(InvalidateLevel.OVERLAY)\n    }\n  }\n\n  /**\n   * 获取图形标记鼠标操作信息\n   * @return {{hover: {id: string, elementIndex: number, element: string}, click: {id: string, elementIndex: number, element: string}}}\n   */\n  mouseOperate () {\n    return this._mouseOperate\n  }\n\n  /**\n   * 设置鼠标操作信息\n   * @param mouseOperate\n   * @return\n   */\n  setMouseOperate (mouseOperate) {\n    const { hover, click } = this._mouseOperate\n    if (mouseOperate.hover &&\n      (hover.id !== mouseOperate.hover.id || hover.element !== mouseOperate.hover.element || hover.elementIndex !== mouseOperate.hover.elementIndex)\n    ) {\n      this._mouseOperate.hover = { ...mouseOperate.hover }\n    }\n    if (mouseOperate.click &&\n      (click.id !== mouseOperate.click.id || click.element !== mouseOperate.click.element || click.elementIndex !== mouseOperate.click.elementIndex)\n    ) {\n      this._mouseOperate.click = { ...mouseOperate.click }\n    }\n  }\n\n  /**\n   * 是否为空\n   * @returns\n   */\n  isEmpty () {\n    return this._instances.size === 0 && !this.progressInstance().instance\n  }\n\n  /**\n   * 是否正在绘制\n   * @return\n   */\n  isDrawing () {\n    const instance = this.progressInstance().instance\n    return instance && instance.isDrawing()\n  }\n\n  /**\n   * 是否按住\n   * @returns\n   */\n  isPressed () {\n    return !!this.pressedInstance().instance\n  }\n}\n","/**\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n\n * http://www.apache.org/licenses/LICENSE-2.0\n\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { isValid } from '../utils/typeChecks'\n\nimport InvalidateLevel from '../enum/InvalidateLevel'\n\nexport default class AnnotationStore {\n  constructor (chartStore) {\n    this._chartStore = chartStore\n    // 注解标记\n    this._annotations = new Map()\n    // 注解标记\n    this._visibleAnnotations = new Map()\n    // 注解鼠标操作信息\n    this._mouseOperate = { id: '' }\n  }\n\n  /**\n   * 获取注解鼠标操作信息\n   * @return {null}\n   */\n  mouseOperate () {\n    return this._mouseOperate\n  }\n\n  /**\n   * 设置鼠标操作\n   * @param operate\n   */\n  setMouseOperate (operate) {\n    const { id } = this._mouseOperate\n    if (operate && id !== operate.id) {\n      this._mouseOperate = { ...operate }\n    }\n  }\n\n  /**\n   * 创建可见的注解数据\n   */\n  createVisibleAnnotations () {\n    this._visibleAnnotations.clear()\n    if (this._annotations.size > 0) {\n      this._chartStore.visibleDataList().forEach(({ data, x }) => {\n        this._annotations.forEach((annotations, paneId) => {\n          if (annotations.size > 0) {\n            const annotation = annotations.get(data.timestamp) || []\n            if (annotation.length > 0) {\n              for (const an of annotation) {\n                an.createSymbolCoordinate(x)\n                if (this._visibleAnnotations.has(paneId)) {\n                  this._visibleAnnotations.get(paneId).push(an)\n                } else {\n                  this._visibleAnnotations.set(paneId, [an])\n                }\n              }\n            }\n          }\n        })\n      })\n    }\n  }\n\n  /**\n   * 创建注解\n   * @param annotations\n   * @param paneId\n   */\n  add (annotations, paneId) {\n    if (!this._annotations.has(paneId)) {\n      this._annotations.set(paneId, new Map())\n    }\n    annotations.forEach(annotation => {\n      const idAnnotations = this._annotations.get(paneId)\n      if (idAnnotations.has(annotation.id())) {\n        idAnnotations.get(annotation.id()).push(annotation)\n      } else {\n        idAnnotations.set(annotation.id(), [annotation])\n      }\n    })\n    this.createVisibleAnnotations()\n    this._chartStore.invalidate(InvalidateLevel.OVERLAY)\n  }\n\n  /**\n   * 获取注解\n   * @param paneId\n   * @returns\n   */\n  get (paneId) {\n    return this._visibleAnnotations.get(paneId)\n  }\n\n  /**\n   * 移除注解\n   * @param paneId\n   * @param point\n   */\n  remove (paneId, point) {\n    let shouldAdjust = false\n    if (isValid(paneId)) {\n      if (this._annotations.has(paneId)) {\n        if (isValid(point)) {\n          const paneAnnotations = this._annotations.get(paneId)\n          const points = [].concat(point)\n          points.forEach(({ timestamp }) => {\n            if (paneAnnotations.has(timestamp)) {\n              shouldAdjust = true\n              paneAnnotations.delete(timestamp)\n            }\n          })\n          if (paneAnnotations.size === 0) {\n            this._annotations.delete(paneId)\n          }\n          if (shouldAdjust) {\n            this.createVisibleAnnotations()\n          }\n        } else {\n          shouldAdjust = true\n          this._annotations.delete(paneId)\n          this._visibleAnnotations.delete(paneId)\n        }\n      }\n    } else {\n      shouldAdjust = true\n      this._annotations.clear()\n      this._visibleAnnotations.clear()\n    }\n    if (shouldAdjust) {\n      this._chartStore.invalidate(InvalidateLevel.OVERLAY)\n    }\n  }\n\n  /**\n   * 是否为空\n   * @returns\n   */\n  isEmpty () {\n    return this._visibleAnnotations.size === 0\n  }\n}\n","/**\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n\n * http://www.apache.org/licenses/LICENSE-2.0\n\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { isValid } from '../utils/typeChecks'\n\nimport InvalidateLevel from '../enum/InvalidateLevel'\n\nexport default class TagStore {\n  constructor (chartStore) {\n    // 刷新回调\n    this._chartStore = chartStore\n    // 标签\n    this._tags = new Map()\n  }\n\n  /**\n   * 根据id获取tag实例\n   * @param id\n   * @param paneId\n   * @returns\n   */\n  _getById (id, paneId) {\n    const tags = this.get(paneId)\n    if (tags) {\n      return tags.get(id)\n    }\n    return null\n  }\n\n  /**\n   * 是否包含某一个标签\n   * @param id\n   * @param paneId\n   * @returns\n   */\n  has (id, paneId) {\n    return !!this._getById(id, paneId)\n  }\n\n  /**\n   * 更新tag\n   * @param id\n   * @param paneId\n   * @param options\n   */\n  update (id, paneId, options) {\n    const tag = this._getById(id, paneId)\n    if (tag) {\n      return tag.update(options)\n    }\n    return false\n  }\n\n  /**\n  * 根据id获取标签实例\n  * @param tagId\n  * @param paneId\n  * @return\n  */\n  get (paneId) {\n    return this._tags.get(paneId)\n  }\n\n  /**\n  * 添加标签\n  * @param tags\n  * @param paneId\n  */\n  add (tags, paneId) {\n    if (!this._tags.has(paneId)) {\n      this._tags.set(paneId, new Map())\n    }\n    const idTags = this._tags.get(paneId)\n    tags.forEach(tag => {\n      idTags.set(tag.id(), tag)\n    })\n    this._chartStore.invalidate(InvalidateLevel.OVERLAY)\n  }\n\n  /**\n  * 移除标签\n  * @param paneId\n  * @param tagId\n  */\n  remove (paneId, tagId) {\n    let shouldInvalidate = false\n    if (isValid(paneId)) {\n      if (this._tags.has(paneId)) {\n        if (isValid(tagId)) {\n          const paneTags = this._tags.get(paneId)\n          const ids = [].concat(tagId)\n          ids.forEach(id => {\n            if (paneTags.has(id)) {\n              shouldInvalidate = true\n              paneTags.delete(id)\n            }\n          })\n          if (paneTags.size === 0) {\n            this._tags.delete(paneId)\n          }\n        } else {\n          shouldInvalidate = true\n          this._tags.delete(paneId)\n        }\n      }\n    } else {\n      shouldInvalidate = true\n      this._tags.clear()\n    }\n    if (shouldInvalidate) {\n      this._chartStore.invalidate(InvalidateLevel.OVERLAY)\n    }\n  }\n}\n","/**\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n\n * http://www.apache.org/licenses/LICENSE-2.0\n\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { isValid } from '../utils/typeChecks'\n\nimport InvalidateLevel from '../enum/InvalidateLevel'\n\nexport default class CrosshairStore {\n  constructor (chartStore) {\n    this._chartStore = chartStore\n    // 十字光标信息\n    this._crosshair = {}\n  }\n\n  /**\n     * 设置十字光标点信息\n     * @param crosshair\n     * @param notInvalidate\n     */\n  set (crosshair, notInvalidate) {\n    const dataList = this._chartStore.dataList()\n    const cr = crosshair || {}\n    let realDataIndex\n    let dataIndex\n    if (isValid(cr.x)) {\n      realDataIndex = this._chartStore.timeScaleStore().coordinateToDataIndex(cr.x)\n      if (realDataIndex < 0) {\n        dataIndex = 0\n      } else if (realDataIndex > dataList.length - 1) {\n        dataIndex = dataList.length - 1\n      } else {\n        dataIndex = realDataIndex\n      }\n    } else {\n      realDataIndex = dataList.length - 1\n      dataIndex = realDataIndex\n    }\n    const kLineData = dataList[dataIndex]\n    const realX = this._chartStore.timeScaleStore().dataIndexToCoordinate(realDataIndex)\n    const prevCrosshair = { x: this._crosshair.x, y: this._crosshair.y, paneId: this._crosshair.paneId }\n    this._crosshair = { ...cr, realX, kLineData, realDataIndex, dataIndex }\n    if (kLineData) {\n      this._chartStore.crosshairChange(this._crosshair)\n    }\n    if (\n      (prevCrosshair.x !== cr.x || prevCrosshair.y !== cr.y || prevCrosshair.paneId !== cr.paneId) && !notInvalidate\n    ) {\n      this._chartStore.invalidate(InvalidateLevel.OVERLAY)\n    }\n  }\n\n  /**\n   * 重新计算十字光标\n   * @param notInvalidate\n   */\n  recalculate (notInvalidate) {\n    this.set(this._crosshair, notInvalidate)\n  }\n\n  /**\n   * 获取crosshair信息\n   * @returns\n   */\n  get () {\n    return this._crosshair\n  }\n}\n","/**\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n\n * http://www.apache.org/licenses/LICENSE-2.0\n\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { hasAction } from '../enum/ActionType'\n\nclass Delegate {\n  constructor () {\n    this._observers = []\n  }\n\n  subscribe (observer) {\n    if (this._observers.indexOf(observer) < 0) {\n      this._observers.push(observer)\n    }\n  }\n\n  unsubscribe (observer) {\n    const index = this._observers.indexOf(observer)\n    if (index > -1) {\n      this._observers.splice(index, 1)\n    } else {\n      this._observers = []\n    }\n  }\n\n  execute (data) {\n    this._observers.forEach(observer => {\n      observer(data)\n    })\n  }\n\n  hasObservers () {\n    return this._observers.length > 0\n  }\n}\n\nexport default class ActionStore {\n  constructor () {\n    // 事件代理\n    this._delegates = new Map()\n  }\n\n  /**\n   * 事件执行\n   * @param type\n   * @param data\n   */\n  execute (type, data) {\n    if (this.has(type)) {\n      this._delegates.get(type).execute(data)\n    }\n  }\n\n  /**\n   * 是否有事件监听\n   * @param type\n   * @return {boolean}\n   */\n  has (type) {\n    return this._delegates.has(type) && this._delegates.get(type).hasObservers()\n  }\n\n  /**\n   * 订阅事件\n   * @param type\n   * @param callback\n   * @return {boolean}\n   */\n  subscribe (type, callback) {\n    if (hasAction(type)) {\n      if (!this._delegates.has(type)) {\n        this._delegates.set(type, new Delegate())\n      }\n      this._delegates.get(type).subscribe(callback)\n      return true\n    }\n    return false\n  }\n\n  /**\n   * 取消事件订阅\n   * @param type\n   * @param callback\n   * @return {boolean}\n   */\n  unsubscribe (type, callback) {\n    if (hasAction(type)) {\n      const delegate = this._delegates.get(type)\n      delegate.unsubscribe(callback)\n      if (!delegate.hasObservers()) {\n        this._delegates.delete(type)\n      }\n      return true\n    }\n    return false\n  }\n}\n","/**\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n\n * http://www.apache.org/licenses/LICENSE-2.0\n\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { isArray, isObject, isBoolean, merge, clone } from '../utils/typeChecks'\nimport { defaultStyleOptions } from '../options/styleOptions'\n\nimport TimeScaleStore from './TimeScaleStore'\nimport TechnicalIndicatorStore from './TechnicalIndicatorStore'\nimport ShapeStore from './ShapeStore'\nimport AnnotationStore from './AnnotationStore'\nimport TagStore from './TagStore'\nimport CrosshairStore from './CrosshairStore'\nimport ActionStore from './ActionStore'\n\nexport default class ChartStore {\n  constructor (styleOptions, handler) {\n    // 持有者\n    this._handler = handler\n    // 样式配置\n    this._styleOptions = clone(defaultStyleOptions)\n    merge(this._styleOptions, styleOptions)\n\n    // 价格精度\n    this._pricePrecision = 2\n    // 数量精度\n    this._volumePrecision = 0\n\n    // 数据源\n    this._dataList = []\n\n    this._asksBidsData = {}\n\n    // 可见的数据(需要绘制的数据)\n    this._visibleDataList = []\n\n    // 调整pane标记\n    this._dragPaneFlag = false\n\n    // 时间轴缩放数据存储\n    this._timeScaleStore = new TimeScaleStore(this)\n    // 技术指标数据存储\n    this._technicalIndicatorStore = new TechnicalIndicatorStore(this)\n    // 图形数据存储\n    this._shapeStore = new ShapeStore(this)\n    // 注解数据存储\n    this._annotationStore = new AnnotationStore(this)\n    // 标签数据存储\n    this._tagStore = new TagStore(this)\n    // 十字光标数据存储\n    this._crosshairStore = new CrosshairStore(this)\n    // 事件存储\n    this._actionStore = new ActionStore()\n  }\n\n  /**\n   * 调整可见数据\n   */\n  adjustVisibleDataList () {\n    // 处理需要绘制的数据\n    this._visibleDataList = []\n    const from = this._timeScaleStore.from()\n    const to = this._timeScaleStore.to()\n    for (let i = from; i < to; i++) {\n      const kLineData = this._dataList[i]\n      const x = this._timeScaleStore.dataIndexToCoordinate(i)\n      this._visibleDataList.push({\n        index: i,\n        x,\n        data: kLineData\n      })\n    }\n    this._annotationStore.createVisibleAnnotations()\n  }\n\n  /**\n   * 获取样式配置\n   * @return {{}}\n   */\n  styleOptions () {\n    return this._styleOptions\n  }\n\n  /**\n   * 设置样式配置\n   * @param options\n   */\n  applyStyleOptions (options) {\n    merge(this._styleOptions, options)\n  }\n\n  /**\n   * 价格精度\n   * @returns {number}\n   */\n  pricePrecision () {\n    return this._pricePrecision\n  }\n\n  /**\n   * 数量精度\n   * @returns {number}\n   */\n  volumePrecision () {\n    return this._volumePrecision\n  }\n\n  /**\n   * 设置价格和数量精度\n   * @param pricePrecision\n   * @param volumePrecision\n   */\n  setPriceVolumePrecision (pricePrecision, volumePrecision) {\n    this._pricePrecision = pricePrecision\n    this._volumePrecision = volumePrecision\n    this._technicalIndicatorStore.setSeriesPrecision(pricePrecision, volumePrecision)\n  }\n\n  /**\n   * 获取数据源\n   * @returns {[]|*[]}\n   */\n  dataList () {\n    return this._dataList\n  }\n\n  getAsksBidsData () {\n    return this._asksBidsData\n  }\n\n  /**\n   * 获取可见数据源\n   * @returns {[]|*[]}\n   */\n  visibleDataList () {\n    return this._visibleDataList\n  }\n\n  /**\n   * 添加数据\n   * @param data\n   * @param pos\n   * @param more\n   */\n  addData (data, pos, more) {\n    if (isObject(data)) {\n      if (isArray(data)) {\n        this._timeScaleStore.setLoading(false)\n        this._timeScaleStore.setMore(isBoolean(more) ? more : true)\n        const isFirstAdd = this._dataList.length === 0\n        this._dataList = data.concat(this._dataList)\n        if (isFirstAdd) {\n          this._timeScaleStore.resetOffsetRightSpace()\n        }\n        this._timeScaleStore.adjustFromTo()\n      } else {\n        const dataSize = this._dataList.length\n        if (pos >= dataSize) {\n          this._dataList.push(data)\n          let offsetRightBarCount = this._timeScaleStore.offsetRightBarCount()\n          if (offsetRightBarCount < 0) {\n            this._timeScaleStore.setOffsetRightBarCount(--offsetRightBarCount)\n          }\n          this._timeScaleStore.adjustFromTo()\n        } else {\n          this._dataList[pos] = data\n          this.adjustVisibleDataList()\n        }\n      }\n      this._crosshairStore.recalculate(true)\n    }\n  }\n\n  addAsksBidsData (data) {\n    this._asksBidsData = data;\n  }\n\n  /**\n   * 清空数据源\n   */\n  clearDataList () {\n    this._dataList = []\n    this._visibleDataList = []\n    this._asksBidsData = {}\n    this._timeScaleStore.clear()\n  }\n\n  /**\n   * 获取时间缩放存储\n   * @returns\n   */\n  timeScaleStore () {\n    return this._timeScaleStore\n  }\n\n  /**\n   * 获取技术指标存储\n   * @returns\n   */\n  technicalIndicatorStore () {\n    return this._technicalIndicatorStore\n  }\n\n  /**\n   * 获取图形存储\n   * @returns\n   */\n  shapeStore () {\n    return this._shapeStore\n  }\n\n  /**\n   * 获取注解存储\n   * @returns\n   */\n  annotationStore () {\n    return this._annotationStore\n  }\n\n  /**\n   * 获取标签数据存储\n   * @returns\n   */\n  tagStore () {\n    return this._tagStore\n  }\n\n  /**\n   * 获取十字光标数据存储\n   * @returns\n   */\n  crosshairStore () {\n    return this._crosshairStore\n  }\n\n  /**\n   * 获取事件数据存储\n   * @returns\n   */\n  actionStore () {\n    return this._actionStore\n  }\n\n  /**\n   * 刷新\n   * @param invalidateLevel\n   */\n  invalidate (invalidateLevel) {\n    this._handler.invalidate(invalidateLevel)\n  }\n\n  /**\n   * 十字光标变化\n   * @param data\n   */\n  crosshairChange (data) {\n    this._handler.crosshair(data)\n  }\n\n  /**\n   * 获取拖拽Pane标记\n   * @return {boolean}\n   */\n  dragPaneFlag () {\n    return this._dragPaneFlag\n  }\n\n  /**\n   * 设置拖拽Pane标记\n   * @param flag\n   */\n  setDragPaneFlag (flag) {\n    this._dragPaneFlag = flag\n  }\n}\n","import getPrototypeOf from \"./getPrototypeOf.js\";\nexport default function _superPropBase(object, property) {\n  while (!Object.prototype.hasOwnProperty.call(object, property)) {\n    object = getPrototypeOf(object);\n    if (object === null) break;\n  }\n\n  return object;\n}","import superPropBase from \"./superPropBase.js\";\nexport default function _get() {\n  if (typeof Reflect !== \"undefined\" && Reflect.get) {\n    _get = Reflect.get;\n  } else {\n    _get = function _get(target, property, receiver) {\n      var base = superPropBase(target, property);\n      if (!base) return;\n      var desc = Object.getOwnPropertyDescriptor(base, property);\n\n      if (desc.get) {\n        return desc.get.call(arguments.length < 3 ? target : receiver);\n      }\n\n      return desc.value;\n    };\n  }\n\n  return _get.apply(this, arguments);\n}","/**\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n\n * http://www.apache.org/licenses/LICENSE-2.0\n\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n/**\n * 创建一个元素\n * @param name\n * @param styles\n * @return {*}\n */\nexport function createElement (name, styles = {}) {\n  const element = document.createElement(name)\n  for (const key in styles) {\n    if (Object.prototype.hasOwnProperty.call(styles, key)) {\n      (element.style)[key] = styles[key]\n    }\n  }\n  return element\n}\n","/**\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n\n * http://www.apache.org/licenses/LICENSE-2.0\n\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { getPixelRatio } from '../utils/canvas'\nimport { createElement } from '../utils/element'\n\nexport default class Pane {\n  constructor (props) {\n    this._height = -1\n    this._container = props.container\n    this._chartStore = props.chartStore\n    this._initBefore(props)\n    this._initElement()\n    this._mainWidget = this._createMainWidget(this._element, props)\n    this._yAxisWidget = this._createYAxisWidget(this._element, props)\n  }\n\n  _initBefore (props) {}\n\n  _initElement () {\n    this._element = createElement('div', {\n      width: '100%',\n      margin: '0',\n      padding: '0',\n      position: 'relative',\n      overflow: 'hidden',\n      boxSizing: 'border-box'\n    })\n    const lastElement = this._container.lastChild\n    if (lastElement) {\n      this._container.insertBefore(this._element, lastElement)\n    } else {\n      this._container.appendChild(this._element)\n    }\n  }\n\n  /**\n   * 创建主组件\n   * @param container\n   * @param props\n   * @private\n   */\n  _createMainWidget (container, props) {}\n\n  /**\n   * 创建y轴组件\n   * @param container\n   * @param props\n   * @private\n   */\n  _createYAxisWidget (container, props) {}\n\n  /**\n   * 获取宽度\n   * @returns {number}\n   */\n  width () {\n    return this._element.offsetWidth\n  }\n\n  setWidth (mainWidgetWidth, yAxisWidgetWidth) {\n    this._mainWidget.setWidth(mainWidgetWidth)\n    this._yAxisWidget && this._yAxisWidget.setWidth(yAxisWidgetWidth)\n  }\n\n  /**\n   * 获取高度\n   */\n  height () {\n    return this._height\n  }\n\n  /**\n   * 设置临时高度\n   * @param height\n   */\n  setHeight (height) {\n    this._height = height\n    this._mainWidget.setHeight(height)\n    this._yAxisWidget && this._yAxisWidget.setHeight(height)\n  }\n\n  setOffsetLeft (mainWidgetOffsetLeft, yAxisWidgetOffsetLeft) {\n    this._mainWidget.setOffsetLeft(mainWidgetOffsetLeft)\n    this._yAxisWidget && this._yAxisWidget.setOffsetLeft(yAxisWidgetOffsetLeft)\n  }\n\n  layout () {\n    if (this._element.offsetHeight !== this._height) {\n      this._element.style.height = `${this._height}px`\n    }\n    this._mainWidget.layout()\n    this._yAxisWidget && this._yAxisWidget.layout()\n  }\n\n  /**\n   * 刷新\n   * @param level\n   */\n  invalidate (level) {\n    this._yAxisWidget && this._yAxisWidget.invalidate(level)\n    this._mainWidget.invalidate(level)\n  }\n\n  /**\n   * 创建html元素\n   */\n  createHtml ({ id, content, style, position }) {\n    let htmlId\n    if (position === 'yAxis') {\n      htmlId = this._yAxisWidget && this._yAxisWidget.createHtml({ id, content, style })\n    } else {\n      htmlId = this._mainWidget.createHtml({ id, content, style })\n    }\n    return htmlId\n  }\n\n  /**\n   * 移除html元素\n   * @param id\n   */\n  removeHtml (id) {\n    this._yAxisWidget && this._yAxisWidget.removeHtml(id)\n    this._mainWidget.removeHtml(id)\n  }\n\n  /**\n   * 将canvas转换成图片\n   * @param includeOverlay\n   * @return {HTMLCanvasElement}\n   */\n  getImage (includeOverlay) {\n    const width = this._element.offsetWidth\n    const height = this._element.offsetHeight\n    const canvas = createElement('canvas', {\n      width: `${width}px`,\n      height: `${height}px`,\n      boxSizing: 'border-box'\n    })\n    const ctx = canvas.getContext('2d')\n    const pixelRatio = getPixelRatio(canvas)\n    canvas.width = width * pixelRatio\n    canvas.height = height * pixelRatio\n    ctx.scale(pixelRatio, pixelRatio)\n\n    const mainWidgetElement = this._mainWidget.getElement()\n    const mainWidgetWidth = mainWidgetElement.offsetWidth\n    const mainWidgetHeight = mainWidgetElement.offsetHeight\n    const mainWidgetOffsetLeft = parseInt(mainWidgetElement.style.left, 10)\n\n    ctx.drawImage(\n      this._mainWidget.getImage(includeOverlay),\n      mainWidgetOffsetLeft, 0,\n      mainWidgetWidth, mainWidgetHeight\n    )\n    if (this._yAxisWidget) {\n      const yAxisWidgetElement = this._yAxisWidget.getElement()\n      const yAxisWidgetWidth = yAxisWidgetElement.offsetWidth\n      const yAxisWidgetHeight = yAxisWidgetElement.offsetHeight\n      const yAxisWidgetOffsetLeft = parseInt(yAxisWidgetElement.style.left, 10)\n      ctx.drawImage(\n        this._yAxisWidget.getImage(includeOverlay),\n        yAxisWidgetOffsetLeft, 0,\n        yAxisWidgetWidth, yAxisWidgetHeight\n      )\n    }\n    return canvas\n  }\n\n  /**\n   * 销毁\n   */\n  destroy () {\n    this._container.removeChild(this._element)\n  }\n}\n","/**\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n\n * http://www.apache.org/licenses/LICENSE-2.0\n\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport InvalidateLevel from '../enum/InvalidateLevel'\nimport { getPixelRatio } from '../utils/canvas'\nimport { createElement } from '../utils/element'\nimport { isString } from '../utils/typeChecks'\n\nexport default class Widget {\n  constructor (props) {\n    this._width = 0\n    this._height = 0\n    this._initElement(props.container)\n    this._overlayView = this._createOverlayView(this._element, props)\n    this._mainView = this._createMainView(this._element, props)\n    this._htmlBaseId = 0\n    this._htmls = new Map()\n  }\n\n  /**\n   * 初始化element\n   * @param container\n   * @private\n   */\n  _initElement (container) {\n    this._element = createElement('div', {\n      margin: '0',\n      padding: '0',\n      position: 'absolute',\n      top: '0',\n      overflow: 'hidden',\n      boxSizing: 'border-box'\n    })\n    container.appendChild(this._element)\n  }\n\n  /**\n   * 创建主view\n   * @param container\n   * @param props\n   * @private\n   */\n  _createMainView (container, props) {}\n\n  /**\n   * 创建浮层view\n   * @param container\n   * @param props\n   * @private\n   */\n  _createOverlayView (container, props) {}\n\n  /**\n   * 创建html元素\n   * @param id 标识\n   * @param content 内容\n   * @param style 样式\n   */\n  createHtml ({ id, content, style = {} }) {\n    const html = createElement('div', { boxSizing: 'border-box', position: 'absolute', zIndex: 12, ...style })\n    if (isString(content)) {\n      const str = content.replace(/(^\\s*)|(\\s*$)/g, '')\n      html.innerHTML = str\n    } else {\n      html.appendChild(content)\n    }\n    const htmlId = id || `html_${++this._htmlBaseId}`\n    if (this._htmls.has(htmlId)) {\n      this._element.replaceChild(html, this._htmls.get(htmlId))\n    } else {\n      this._element.appendChild(html)\n    }\n    this._htmls.set(htmlId, html)\n    return htmlId\n  }\n\n  /**\n   * 移除html元素\n   * @param id\n   */\n  removeHtml (id) {\n    if (id) {\n      const ids = [].concat(id)\n      ids.forEach(htmlId => {\n        const html = this._htmls.get(htmlId)\n        if (html) {\n          this._element.removeChild(html)\n          this._htmls.delete(htmlId)\n        }\n      })\n    } else {\n      this._htmls.forEach(html => {\n        this._element.removeChild(html)\n      })\n      this._htmls.clear()\n    }\n  }\n\n  getElement () {\n    return this._element\n  }\n\n  setWidth (width) {\n    this._width = width\n    this._mainView.setWidth(width)\n    this._overlayView.setWidth(width)\n  }\n\n  setHeight (height) {\n    this._height = height\n    this._mainView.setHeight(height)\n    this._overlayView.setHeight(height)\n  }\n\n  setOffsetLeft (offsetLeft) {\n    this._element.style.left = `${offsetLeft}px`\n  }\n\n  layout () {\n    if (this._element.offsetWidth !== this._width) {\n      this._element.style.width = `${this._width}px`\n    }\n    if (this._element.offsetHeight !== this._height) {\n      this._element.style.height = `${this._height}px`\n    }\n    this._mainView.layout()\n    this._overlayView.layout()\n  }\n\n  /**\n   * 更新\n   * @param level\n   */\n  invalidate (level) {\n    switch (level) {\n      case InvalidateLevel.OVERLAY: {\n        this._overlayView.flush()\n        break\n      }\n      case InvalidateLevel.MAIN:\n      case InvalidateLevel.FULL: {\n        this._mainView.flush()\n        this._overlayView.flush()\n        break\n      }\n      default: {\n        break\n      }\n    }\n  }\n\n  /**\n   * 将widget转换成图片\n   * @param includeOverlay\n   * @returns {HTMLCanvasElement}\n   */\n  getImage (includeOverlay) {\n    const canvas = createElement('canvas', {\n      width: `${this._width}px`,\n      height: `${this._height}px`,\n      boxSizing: 'border-box'\n    })\n    const ctx = canvas.getContext('2d')\n    const pixelRatio = getPixelRatio(canvas)\n    canvas.width = this._width * pixelRatio\n    canvas.height = this._height * pixelRatio\n    ctx.scale(pixelRatio, pixelRatio)\n\n    ctx.drawImage(this._mainView.getImage(), 0, 0, this._width, this._height)\n\n    if (includeOverlay && this._overlayView) {\n      ctx.drawImage(this._overlayView.getImage(), 0, 0, this._width, this._height)\n    }\n    return canvas\n  }\n}\n","/**\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n\n * http://www.apache.org/licenses/LICENSE-2.0\n\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n/**\n * requestAnimationFrame兼容\n * @param fn\n */\nexport function requestAnimationFrame (fn) {\n  if (!window.requestAnimationFrame) {\n    return window.setTimeout(fn, 20)\n  }\n  return window.requestAnimationFrame(fn)\n}\n\n/**\n * cancelAnimationFrame兼容\n * @param id\n */\nexport function cancelAnimationFrame (id) {\n  if (!window.cancelAnimationFrame) {\n    clearTimeout(id)\n  }\n  window.cancelAnimationFrame(id)\n}\n","/**\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n\n * http://www.apache.org/licenses/LICENSE-2.0\n\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { getPixelRatio } from '../utils/canvas'\nimport { createElement } from '../utils/element'\nimport { cancelAnimationFrame, requestAnimationFrame } from '../utils/compatible'\n\nclass View {\n  constructor (container, chartStore) {\n    this._chartStore = chartStore\n    this._initCanvas(container)\n  }\n\n  /**\n   * 初始化画布\n   * @param container\n   * @private\n   */\n  _initCanvas (container) {\n    this._canvas = createElement('canvas', {\n      position: 'absolute',\n      top: '0',\n      left: '0',\n      zIndex: '2',\n      boxSizing: 'border-box'\n    })\n    this._ctx = this._canvas.getContext('2d')\n    container.appendChild(this._canvas)\n  }\n\n  /**\n   * 重新绘制\n   * @param extendFun\n   * @private\n   */\n  _redraw (extendFun) {\n    this._ctx.clearRect(0, 0, this._canvas.offsetWidth, this._canvas.offsetHeight)\n    extendFun && extendFun()\n    this._draw()\n  }\n\n  /**\n   * 绘制\n   */\n  _draw () {\n  }\n\n  setWidth (width) {\n    this._width = width\n  }\n\n  setHeight (height) {\n    this._height = height\n  }\n\n  layout () {\n    if (this._height !== this._canvas.offsetHeight || this._width !== this._canvas.offsetWidth) {\n      this._redraw(() => {\n        const pixelRatio = getPixelRatio(this._canvas)\n        this._canvas.style.width = `${this._width}px`\n        this._canvas.style.height = `${this._height}px`\n        this._canvas.width = Math.floor(this._width * pixelRatio)\n        this._canvas.height = Math.floor(this._height * pixelRatio)\n        this._ctx.scale(pixelRatio, pixelRatio)\n      })\n    } else {\n      this.flush()\n    }\n  }\n\n  /**\n   * 刷新\n   */\n  flush () {\n    if (this.requestAnimationId) {\n      cancelAnimationFrame(this.requestAnimationId)\n      this.requestAnimationId = null\n    }\n    this.requestAnimationId = requestAnimationFrame(() => {\n      this._redraw()\n    })\n  }\n\n  /**\n   * 获取图片\n   * @returns {HTMLCanvasElement}\n   */\n  getImage () {\n    return this._canvas\n  }\n}\n\nexport default View\n","/**\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n\n * http://www.apache.org/licenses/LICENSE-2.0\n\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport View from './View'\n\nimport { CandleType, LineStyle } from '../options/styleOptions'\nimport { TechnicalIndicatorPlotType, getTechnicalIndicatorPlotStyle } from '../component/technicalindicator/TechnicalIndicator'\nimport { renderHorizontalLine, renderVerticalLine, renderLine } from '../renderer/line'\nimport { isValid } from '../utils/typeChecks'\n\nexport default class TechnicalIndicatorView extends View {\n  constructor (container, chartStore, xAxis, yAxis, paneId) {\n    super(container, chartStore)\n    this._xAxis = xAxis\n    this._yAxis = yAxis\n    this._paneId = paneId\n  }\n\n  _draw () {\n    this._ctx.globalCompositeOperation = 'destination-over'\n    this._drawContent()\n  }\n\n  _drawContent () {\n    this._drawTechs()\n    this._drawGrid()\n  }\n\n  /**\n   * 绘制网格\n   */\n  _drawGrid () {\n    const gridOptions = this._chartStore.styleOptions().grid\n    if (!gridOptions.show) {\n      return\n    }\n    const gridHorizontalOptions = gridOptions.horizontal\n    this._ctx.save()\n    if (gridHorizontalOptions.show) {\n      this._ctx.strokeStyle = gridHorizontalOptions.color\n      this._ctx.lineWidth = gridHorizontalOptions.size\n      if (gridHorizontalOptions.style === LineStyle.DASH) {\n        this._ctx.setLineDash(gridHorizontalOptions.dashValue)\n      } else {\n        this._ctx.setLineDash([])\n      }\n      this._yAxis.ticks().forEach(tick => {\n        renderHorizontalLine(this._ctx, tick.y, 0, this._width)\n      })\n    }\n\n    const gridVerticalOptions = gridOptions.vertical\n    if (gridVerticalOptions.show) {\n      this._ctx.strokeStyle = gridVerticalOptions.color\n      this._ctx.lineWidth = gridVerticalOptions.size\n      if (gridVerticalOptions.style === LineStyle.DASH) {\n        this._ctx.setLineDash(gridVerticalOptions.dashValue)\n      } else {\n        this._ctx.setLineDash([])\n      }\n      this._xAxis.ticks().forEach(tick => {\n        renderVerticalLine(this._ctx, tick.x, 0, this._height)\n      })\n    }\n    this._ctx.restore()\n  }\n\n  /**\n   * 绘制指标\n   */\n  _drawTechs () {\n    this._ctx.globalCompositeOperation = 'source-over'\n    const techOptions = this._chartStore.styleOptions().technicalIndicator\n    const techs = this._chartStore.technicalIndicatorStore().instances(this._paneId)\n    techs.forEach(tech => {\n      const plots = tech.plots\n      const lines = []\n      const dataList = this._chartStore.dataList()\n      const techResult = tech.result\n      const styles = tech.styles || techOptions\n      // 技术指标自定义绘制\n      if (tech.render) {\n        this._ctx.save()\n        tech.render({\n          ctx: this._ctx,\n          dataSource: {\n            from: this._chartStore.timeScaleStore().from(),\n            to: this._chartStore.timeScaleStore().to(),\n            kLineDataList: this._chartStore.dataList(),\n            technicalIndicatorDataList: techResult\n          },\n          viewport: {\n            width: this._width,\n            height: this._height,\n            dataSpace: this._chartStore.timeScaleStore().dataSpace(),\n            barSpace: this._chartStore.timeScaleStore().barSpace()\n          },\n          styles,\n          xAxis: this._xAxis,\n          yAxis: this._yAxis\n        })\n        this._ctx.restore()\n      }\n      const lineColors = styles.line.colors || []\n      const lineColorSize = lineColors.length\n      const isCandleYAxis = this._yAxis.isCandleYAxis()\n      this._ctx.lineWidth = 1\n      this._drawGraphics(\n        (x, i, kLineData, halfBarSpace, barSpace) => {\n          const techData = techResult[i] || {}\n          let lineCount = 0\n          if (tech.shouldOhlc && !isCandleYAxis) {\n            this._drawCandleBar(x, halfBarSpace, barSpace, i, kLineData, styles.bar, CandleType.OHLC)\n          }\n          plots.forEach(plot => {\n            const value = techData[plot.key]\n            const valueY = this._yAxis.convertToPixel(value)\n            switch (plot.type) {\n              case TechnicalIndicatorPlotType.CIRCLE: {\n                if (isValid(value)) {\n                  const plotStyle = getTechnicalIndicatorPlotStyle(\n                    dataList, techResult, i, plot, styles, { color: styles.circle.noChangeColor, isStroke: true }\n                  )\n                  this._drawCircle({\n                    x,\n                    y: valueY,\n                    radius: halfBarSpace,\n                    color: plotStyle.color,\n                    isStroke: plotStyle.isStroke\n                  })\n                }\n                break\n              }\n              case TechnicalIndicatorPlotType.BAR: {\n                if (isValid(value)) {\n                  let baseValue\n                  if (isValid(plot.baseValue)) {\n                    baseValue = plot.baseValue\n                  } else {\n                    baseValue = this._yAxis.min()\n                  }\n                  const baseValueY = this._yAxis.convertToPixel(baseValue)\n                  const height = Math.abs(baseValueY - valueY)\n                  const bar = {\n                    x: x - halfBarSpace,\n                    width: halfBarSpace * 2,\n                    height: Math.max(1, height)\n                  }\n                  if (valueY > baseValueY) {\n                    bar.y = baseValueY\n                  } else {\n                    bar.y = height < 1 ? baseValueY - 1 : valueY\n                  }\n                  const plotStyle = getTechnicalIndicatorPlotStyle(\n                    dataList, techResult, i, plot, styles, { color: styles.bar.noChangeColor }\n                  )\n                  bar.color = plotStyle.color\n                  bar.isStroke = plotStyle.isStroke\n                  this._drawBar(bar)\n                }\n                break\n              }\n              case TechnicalIndicatorPlotType.LINE: {\n                let coordinate = null\n                if (isValid(value)) {\n                  coordinate = { x: x, y: valueY }\n                }\n                if (lines[lineCount]) {\n                  lines[lineCount].coordinates.push(coordinate)\n                } else {\n                  const plotStyle = getTechnicalIndicatorPlotStyle(\n                    dataList, techResult, i, plot, styles, { color: lineColors[lineCount % lineColorSize] }\n                  )\n                  lines[lineCount] = { color: plotStyle.color, coordinates: [coordinate] }\n                }\n                lineCount++\n                break\n              }\n              default: { break }\n            }\n          })\n        },\n        () => {\n          this._drawLines(lines, styles)\n        }\n      )\n    })\n    this._ctx.globalCompositeOperation = 'destination-over'\n  }\n\n  /**\n   * 绘制图形\n   * @param onDrawing\n   * @param onDrawEnd\n   */\n  _drawGraphics (onDrawing, onDrawEnd) {\n    const visibleDataList = this._chartStore.visibleDataList()\n    const barSpace = this._chartStore.timeScaleStore().barSpace()\n    const halfBarSpace = this._chartStore.timeScaleStore().halfBarSpace()\n    visibleDataList.forEach(({ x, index, data }, n) => {\n      onDrawing(x, index, data, halfBarSpace, barSpace, n)\n    })\n    onDrawEnd && onDrawEnd()\n  }\n\n  /**\n   * 绘制线\n   * @param lines\n   * @param techOptions\n   */\n  _drawLines (lines, techOptions) {\n    this._ctx.lineWidth = techOptions.line.size\n    lines.forEach(line => {\n      this._ctx.strokeStyle = line.color\n      renderLine(this._ctx, line.coordinates)\n    })\n  }\n\n  /**\n   * 绘制柱\n   */\n  _drawBar (bar) {\n    if (bar.isStroke) {\n      this._ctx.strokeStyle = bar.color\n      this._ctx.strokeRect(bar.x + 0.5, bar.y, bar.width - 1, bar.height)\n    } else {\n      this._ctx.fillStyle = bar.color\n      this._ctx.fillRect(bar.x, bar.y, bar.width, bar.height)\n    }\n  }\n\n  /**\n   * 绘制圆点\n   * @param circle\n   * @private\n   */\n  _drawCircle (circle) {\n    this._ctx.strokeStyle = circle.color\n    this._ctx.fillStyle = circle.color\n    this._ctx.beginPath()\n    this._ctx.arc(circle.x, circle.y, circle.radius, Math.PI * 2, 0, true)\n    if (circle.isStroke) {\n      this._ctx.stroke()\n    } else {\n      this._ctx.fill()\n    }\n    this._ctx.closePath()\n  }\n\n  /**\n   * 绘制蜡烛柱\n   * @param x\n   * @param halfBarSpace\n   * @param barSpace\n   * @param dataIndex\n   * @param kLineData\n   * @param barOptions\n   * @param barStyle\n   */\n  _drawCandleBar (x, halfBarSpace, barSpace, dataIndex, kLineData, barOptions, barStyle) {\n    const { open, close, high, low } = kLineData\n    if (close > open) {\n      this._ctx.strokeStyle = barOptions.upColor\n      this._ctx.fillStyle = barOptions.upColor\n    } else if (close < open) {\n      this._ctx.strokeStyle = barOptions.downColor\n      this._ctx.fillStyle = barOptions.downColor\n    } else {\n      this._ctx.strokeStyle = barOptions.noChangeColor\n      this._ctx.fillStyle = barOptions.noChangeColor\n    }\n    const openY = this._yAxis.convertToPixel(open)\n    const closeY = this._yAxis.convertToPixel(close)\n    const highY = this._yAxis.convertToPixel(high)\n    const lowY = this._yAxis.convertToPixel(low)\n\n    const highEndY = Math.min(openY, closeY)\n    const lowStartY = Math.max(openY, closeY)\n    this._ctx.fillRect(x - 0.5, highY, 1, highEndY - highY)\n    this._ctx.fillRect(x - 0.5, lowStartY, 1, lowY - lowStartY)\n\n    const barHeight = Math.max(1, lowStartY - highEndY)\n    switch (barStyle) {\n      case CandleType.CANDLE_SOLID: {\n        this._ctx.fillRect(x - halfBarSpace, highEndY, barSpace, barHeight)\n        break\n      }\n      case CandleType.CANDLE_STROKE: {\n        this._ctx.strokeRect(x - halfBarSpace + 0.5, highEndY, barSpace - 1, barHeight)\n        break\n      }\n      case CandleType.CANDLE_UP_STROKE: {\n        if (close > open) {\n          this._ctx.strokeRect(x - halfBarSpace + 0.5, highEndY, barSpace - 1, barHeight)\n        } else {\n          this._ctx.fillRect(x - halfBarSpace, highEndY, barSpace, barHeight)\n        }\n        break\n      }\n      case CandleType.CANDLE_DOWN_STROKE: {\n        if (close > open) {\n          this._ctx.fillRect(x - halfBarSpace, highEndY, barSpace, barHeight)\n        } else {\n          this._ctx.strokeRect(x - halfBarSpace + 0.5, highEndY, barSpace - 1, barHeight)\n        }\n        break\n      }\n      default: {\n        this._ctx.fillRect(x - 0.5, highY, 1, lowY - highY)\n        this._ctx.fillRect(x - halfBarSpace, openY - 0.5, halfBarSpace, 1)\n        this._ctx.fillRect(x, closeY - 0.5, halfBarSpace, 1)\n        break\n      }\n    }\n  }\n}\n","/**\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n\n * http://www.apache.org/licenses/LICENSE-2.0\n\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n/**\n * 绘制文字\n * @param ctx\n * @param color\n * @param x\n * @param y\n * @param text\n */\nexport function renderText (ctx, color, x, y, text) {\n  ctx.fillStyle = color\n  ctx.fillText(text, x, y)\n}\n","/**\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n\n * http://www.apache.org/licenses/LICENSE-2.0\n\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport View from './View'\nimport { TooltipShowRule, LineStyle } from '../options/styleOptions'\nimport { TechnicalIndicatorPlotType, getTechnicalIndicatorPlotStyle } from '../component/technicalindicator/TechnicalIndicator'\nimport { isValid, isObject, isFunction } from '../utils/typeChecks'\nimport { formatPrecision, formatBigNumber } from '../utils/format'\nimport { renderHorizontalLine, renderVerticalLine } from '../renderer/line'\nimport { calcTextWidth, createFont } from '../utils/canvas'\nimport { renderText } from '../renderer/text'\n\nexport default class TechnicalIndicatorOverlayView extends View {\n  constructor (container, chartStore, xAxis, yAxis, paneId) {\n    super(container, chartStore)\n    this._xAxis = xAxis\n    this._yAxis = yAxis\n    this._paneId = paneId\n  }\n\n  _draw () {\n    this._ctx.textBaseline = 'alphabetic'\n    this._drawTag()\n    this._drawShape()\n    this._drawAnnotation()\n    const crosshair = this._chartStore.crosshairStore().get()\n    if (crosshair.kLineData) {\n      const styleOptions = this._chartStore.styleOptions()\n      const crosshairOptions = styleOptions.crosshair\n      if (crosshair.paneId === this._paneId) {\n        // 绘制十字光标水平线\n        this._drawCrosshairLine(crosshairOptions, 'horizontal', crosshair.y, 0, this._width, renderHorizontalLine)\n      }\n      if (crosshair.paneId) {\n        // 绘制十字光标垂直线\n        this._drawCrosshairLine(crosshairOptions, 'vertical', crosshair.realX, 0, this._height, renderVerticalLine)\n      }\n      this._drawTooltip(crosshair, this._chartStore.technicalIndicatorStore().instances(this._paneId))\n    }\n  }\n\n  /**\n   * 绘制注解\n   */\n  _drawAnnotation () {\n    const annotations = this._chartStore.annotationStore().get(this._paneId)\n    if (annotations) {\n      annotations.forEach(annotation => {\n        annotation.draw(this._ctx)\n      })\n    }\n  }\n\n  /**\n   * 绘制标签\n   */\n  _drawTag () {\n    const tags = this._chartStore.tagStore().get(this._paneId)\n    if (tags) {\n      tags.forEach(tag => {\n        tag.drawMarkLine(this._ctx)\n      })\n    }\n  }\n\n  /**\n   * 绘制图形标记\n   * @private\n   */\n  _drawShape () {\n    this._chartStore.shapeStore().instances(this._paneId).forEach(shape => {\n      shape.draw(this._ctx)\n    })\n    const progressShape = this._chartStore.shapeStore().progressInstance()\n    if (progressShape.paneId === this._paneId) {\n      progressShape.instance.draw(this._ctx)\n    }\n  }\n\n  /**\n   * 绘制图例\n   * @param crosshair\n   * @param techs\n   * @private\n   */\n  _drawTooltip (crosshair, techs) {\n    const techOptions = this._chartStore.styleOptions().technicalIndicator\n    this._drawBatchTechToolTip(\n      crosshair,\n      techs,\n      techOptions,\n      0,\n      this._shouldDrawTooltip(crosshair, techOptions.tooltip)\n    )\n  }\n\n  /**\n   * 绘制十字光标线\n   * @param crosshairOptions\n   * @param optionsKey\n   * @param fixed\n   * @param start\n   * @param end\n   * @param drawLine\n   * @private\n   */\n  _drawCrosshairLine (crosshairOptions, optionsKey, fixed, start, end, drawLine) {\n    const crosshairDirectionOptions = crosshairOptions[optionsKey]\n    const crosshairLineOptions = crosshairDirectionOptions.line\n    if (!crosshairOptions.show || !crosshairDirectionOptions.show || !crosshairLineOptions.show) {\n      return\n    }\n    this._ctx.save()\n    this._ctx.lineWidth = crosshairLineOptions.size\n    this._ctx.strokeStyle = crosshairLineOptions.color\n\n    if (crosshairLineOptions.style === LineStyle.DASH) {\n      this._ctx.setLineDash(crosshairLineOptions.dashValue)\n    }\n    drawLine(this._ctx, fixed, start, end)\n    this._ctx.restore()\n  }\n\n  /**\n   * 批量绘制技术指标提示\n   * @param crosshair\n   * @param techs\n   * @param techOptions\n   * @param offsetTop\n   * @param isDrawTechTooltip\n   */\n  _drawBatchTechToolTip (crosshair, techs, techOptions, offsetTop = 0, isDrawTechTooltip) {\n    if (!isDrawTechTooltip) {\n      return\n    }\n    const techTooltipOptions = techOptions.tooltip\n    let top = offsetTop\n    techs.forEach(tech => {\n      this._drawTechTooltip(crosshair, tech, techOptions, top)\n      top += (\n        techTooltipOptions.text.marginTop +\n        techTooltipOptions.text.size +\n        techTooltipOptions.text.marginBottom\n      )\n    })\n  }\n\n  /**\n   * 绘制指标图例\n   * @param crosshair\n   * @param tech\n   * @param techOptions\n   * @param offsetTop\n   * @private\n   */\n  _drawTechTooltip (crosshair, tech, techOptions, offsetTop = 0) {\n    const techTooltipOptions = techOptions.tooltip\n    const techTooltipTextOptions = techTooltipOptions.text\n    const textMarginLeft = techTooltipTextOptions.marginLeft\n    const textMarginRight = techTooltipTextOptions.marginRight\n    const textSize = techTooltipTextOptions.size\n    const textColor = techTooltipTextOptions.color\n    let labelX = 0\n    const labelY = techTooltipTextOptions.marginTop + offsetTop\n    const tooltipData = this._getTechTooltipData(crosshair, tech, techOptions)\n    this._ctx.textBaseline = 'top'\n    this._ctx.font = createFont(textSize, techTooltipTextOptions.weight, techTooltipTextOptions.family)\n    if (techTooltipOptions.showName) {\n      const nameText = tooltipData.name\n      const nameTextWidth = calcTextWidth(this._ctx, nameText)\n      labelX += textMarginLeft\n      renderText(this._ctx, textColor, labelX, labelY, nameText)\n      labelX += nameTextWidth\n      if (!techTooltipOptions.showParams) {\n        labelX += textMarginRight\n      }\n    }\n    if (techTooltipOptions.showParams) {\n      const calcParamText = tooltipData.calcParamText\n      const calcParamTextWidth = calcTextWidth(this._ctx, calcParamText)\n      if (!techTooltipOptions.showName) {\n        labelX += textMarginLeft\n      }\n      renderText(this._ctx, textColor, labelX, labelY, calcParamText)\n      labelX += (calcParamTextWidth + textMarginRight)\n    }\n    tooltipData.values.forEach(v => {\n      labelX += textMarginLeft\n      const text = `${v.title}${v.value}`\n      const textWidth = calcTextWidth(this._ctx, text)\n      renderText(this._ctx, v.color || techTooltipTextOptions.color, labelX, labelY, text)\n      labelX += (textWidth + textMarginRight)\n    })\n  }\n\n  /**\n   * 是否需要绘制图例\n   * @param crosshair\n   * @param tooltipOptions\n   * @return {boolean|boolean|*}\n   */\n  _shouldDrawTooltip (crosshair, tooltipOptions) {\n    const showRule = tooltipOptions.showRule\n    return showRule === TooltipShowRule.ALWAYS ||\n      (showRule === TooltipShowRule.FOLLOW_CROSS && (!!crosshair.paneId))\n  }\n\n  /**\n   * 获取技术指标提示数据\n   * @param techData\n   * @param tech\n   * @returns\n   */\n  _getTechTooltipData (crosshair, tech, techOptions) {\n    const dataList = this._chartStore.dataList()\n    const techResult = tech.result\n\n    let calcParamText = ''\n    const calcParams = tech.calcParams\n    if (calcParams.length > 0) {\n      const params = calcParams.map(param => {\n        if (isObject(param)) {\n          return param.value\n        }\n        return param\n      })\n      calcParamText = `(${params.join(',')})`\n    }\n\n    let values = []\n    if (isFunction(tech.createToolTipDataSource)) {\n      values = tech.createToolTipDataSource({\n        dataSource: {\n          from: this._chartStore.timeScaleStore().from(),\n          to: this._chartStore.timeScaleStore().to(),\n          kLineDataList: this._chartStore.dataList(),\n          technicalIndicatorDataList: techResult\n        },\n        viewport: {\n          width: this._width,\n          height: this._height,\n          dataSpace: this._chartStore.timeScaleStore().dataSpace(),\n          barSpace: this._chartStore.timeScaleStore().barSpace()\n        },\n        crosshair,\n        technicalIndicator: tech,\n        xAxis: this._xAxis,\n        yAxis: this._yAxis,\n        defaultStyles: techOptions\n      }) || []\n    } else {\n      const dataIndex = crosshair.dataIndex\n      const styles = tech.styles || techOptions\n      const techData = techResult[dataIndex]\n\n      const plots = tech.plots\n      const precision = tech.precision\n      const shouldFormatBigNumber = tech.shouldFormatBigNumber\n      const lineColors = styles.line.colors || []\n      const colorSize = lineColors.length\n      let lineCount = 0\n      plots.forEach(plot => {\n        let defaultStyle = {}\n        switch (plot.type) {\n          case TechnicalIndicatorPlotType.CIRCLE: {\n            defaultStyle = { color: styles.circle.noChangeColor }\n            break\n          }\n          case TechnicalIndicatorPlotType.BAR: {\n            defaultStyle = { color: styles.bar.noChangeColor }\n            break\n          }\n          case TechnicalIndicatorPlotType.LINE: {\n            defaultStyle = { color: lineColors[lineCount % colorSize] || techOptions.tooltip.text.color }\n            lineCount++\n            break\n          }\n          default: { break }\n        }\n        const plotStyle = getTechnicalIndicatorPlotStyle(\n          dataList, techResult, crosshair.dataIndex, plot, styles, defaultStyle\n        )\n        const data = {}\n        if (isValid(plot.title)) {\n          let value = (techData || {})[plot.key]\n          if (isValid(value)) {\n            value = formatPrecision(value, precision)\n            if (shouldFormatBigNumber) {\n              value = formatBigNumber(value)\n            }\n          }\n          data.title = plot.title\n          data.value = value || techOptions.tooltip.defaultValue\n          data.color = plotStyle.color\n          values.push(data)\n        }\n      })\n    }\n    return { values, name: tech.shortName, calcParamText }\n  }\n}\n","/**\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n\n * http://www.apache.org/licenses/LICENSE-2.0\n\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport Widget from './Widget'\nimport TechnicalIndicatorView from '../view/TechnicalIndicatorView'\nimport TechnicalIndicatorOverlayView from '../view/TechnicalIndicatorOverlayView'\n\nexport default class TechnicalIndicatorWidget extends Widget {\n  _createMainView (container, props) {\n    return new TechnicalIndicatorView(container, props.chartStore, props.xAxis, props.yAxis, props.paneId)\n  }\n\n  _createOverlayView (container, props) {\n    return new TechnicalIndicatorOverlayView(container, props.chartStore, props.xAxis, props.yAxis, props.paneId)\n  }\n}\n","/**\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n\n * http://www.apache.org/licenses/LICENSE-2.0\n\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n/**\n * 绘制带边框的圆角填充矩形\n * @param ctx\n * @param fillColor\n * @param borderColor\n * @param borderSize\n * @param x\n * @param y\n * @param width\n * @param height\n * @param borderRadius\n */\nexport function renderStrokeFillRoundRect (\n  ctx, fillColor, borderColor, borderSize,\n  x, y, width, height, borderRadius\n) {\n  renderFillRoundRect(ctx, fillColor, x, y, width, height, borderRadius)\n  renderStrokeRoundRect(ctx, borderColor, borderSize, x, y, width, height, borderRadius)\n}\n\n/**\n * 绘制填充的矩形\n * @param ctx\n * @param color\n * @param x\n * @param y\n * @param width\n * @param height\n */\nexport function renderFillRect (ctx, color, x, y, width, height) {\n  ctx.fillStyle = color\n  ctx.fillRect(x, y, width, height)\n}\n\n/**\n * 绘制圆角空心矩形\n * @param ctx\n * @param borderColor\n * @param borderSize\n * @param x\n * @param y\n * @param w\n * @param h\n * @param r\n */\nexport function renderStrokeRoundRect (ctx, borderColor, borderSize, x, y, w, h, r) {\n  ctx.lineWidth = borderSize\n  ctx.strokeStyle = borderColor\n  renderRoundRect(ctx, x, y, w, h, r)\n  ctx.stroke()\n}\n\n/**\n * 绘制填充圆角矩形\n * @param ctx\n * @param color\n * @param x\n * @param y\n * @param w\n * @param h\n * @param r\n */\nexport function renderFillRoundRect (ctx, color, x, y, w, h, r) {\n  ctx.fillStyle = color\n  renderRoundRect(ctx, x, y, w, h, r)\n  ctx.fill()\n}\n\n/**\n * 绘制圆角矩形\n * @param ctx\n * @param x\n * @param y\n * @param w\n * @param h\n * @param r\n */\nexport function renderRoundRect (ctx, x, y, w, h, r) {\n  ctx.beginPath()\n  ctx.moveTo(x + r, y)\n  ctx.arcTo(x + w, y, x + w, y + h, r)\n  ctx.arcTo(x + w, y + h, x, y + h, r)\n  ctx.arcTo(x, y + h, x, y, r)\n  ctx.arcTo(x, y, x + w, y, r)\n  ctx.closePath()\n}\n","/**\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n\n * http://www.apache.org/licenses/LICENSE-2.0\n\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport View from './View'\nimport { YAxisType } from '../options/styleOptions'\nimport { TechnicalIndicatorPlotType } from '../component/technicalindicator/TechnicalIndicator'\nimport { calcTextWidth, createFont } from '../utils/canvas'\nimport { renderHorizontalLine, renderVerticalLine } from '../renderer/line'\nimport { formatBigNumber, formatPrecision } from '../utils/format'\nimport { isValid } from '../utils/typeChecks'\nimport { renderFillRoundRect } from '../renderer/rect'\nimport { renderText } from '../renderer/text'\n\nexport default class YAxisView extends View {\n  constructor (container, chartStore, yAxis, paneId) {\n    super(container, chartStore)\n    this._yAxis = yAxis\n    this._paneId = paneId\n  }\n\n  _draw () {\n    const yAxisOptions = this._chartStore.styleOptions().yAxis\n    if (yAxisOptions.show) {\n      this._drawAxisLine(yAxisOptions)\n      this._drawTickLines(yAxisOptions)\n      this._drawTickLabels(yAxisOptions)\n      this._drawTechLastValue()\n      this._drawLastPriceLabel()\n    }\n  }\n\n  _drawAxisLine (yAxisOptions) {\n    const axisLine = yAxisOptions.axisLine\n    if (!axisLine.show) {\n      return\n    }\n    this._ctx.strokeStyle = axisLine.color\n    this._ctx.lineWidth = axisLine.size\n    let x\n    if (this._yAxis.isFromYAxisZero()) {\n      x = 0\n    } else {\n      x = this._width - 1\n    }\n    renderVerticalLine(this._ctx, x, 0, this._height)\n  }\n\n  _drawTickLines (yAxisOptions) {\n    const tickLine = yAxisOptions.tickLine\n    if (!tickLine.show) {\n      return\n    }\n    this._ctx.lineWidth = tickLine.size\n    this._ctx.strokeStyle = tickLine.color\n\n    const tickLineLength = tickLine.length\n\n    let startX\n    let endX\n    if (this._yAxis.isFromYAxisZero()) {\n      startX = 0\n      if (yAxisOptions.axisLine.show) {\n        startX += yAxisOptions.axisLine.size\n      }\n      endX = startX + tickLineLength\n    } else {\n      startX = this._width\n      if (yAxisOptions.axisLine.show) {\n        startX -= yAxisOptions.axisLine.size\n      }\n      endX = startX - tickLineLength\n    }\n    this._yAxis.ticks().forEach(tick => {\n      renderHorizontalLine(this._ctx, tick.y, startX, endX)\n    })\n  }\n\n  _drawTickLabels (yAxisOptions) {\n    const tickText = yAxisOptions.tickText\n    if (!tickText.show) {\n      return\n    }\n    const tickLine = yAxisOptions.tickLine\n    const tickLineShow = tickLine.show\n    const tickLineLength = tickLine.length\n    let labelX\n    if (this._yAxis.isFromYAxisZero()) {\n      labelX = tickText.paddingLeft\n      if (yAxisOptions.axisLine.show) {\n        labelX += yAxisOptions.axisLine.size\n      }\n      if (tickLineShow) {\n        labelX += tickLineLength\n      }\n      this._ctx.textAlign = 'left'\n    } else {\n      labelX = this._width - tickText.paddingRight\n      if (yAxisOptions.axisLine.show) {\n        labelX -= yAxisOptions.axisLine.size\n      }\n      if (tickLineShow) {\n        labelX -= tickLineLength\n      }\n      this._ctx.textAlign = 'right'\n    }\n    this._ctx.textBaseline = 'middle'\n    this._ctx.font = createFont(tickText.size, tickText.weight, tickText.family)\n    this._ctx.fillStyle = tickText.color\n    this._yAxis.ticks().forEach(tick => {\n      this._ctx.fillText(tick.v, labelX, tick.y)\n    })\n    this._ctx.textAlign = 'left'\n  }\n\n  /**\n   * 绘制技术指标最后值\n   * @private\n   */\n  _drawTechLastValue () {\n    const techOptions = this._chartStore.styleOptions().technicalIndicator\n    const lastValueMarkOptions = techOptions.lastValueMark\n    if (!lastValueMarkOptions.show || !lastValueMarkOptions.text.show) {\n      return\n    }\n    const techs = this._chartStore.technicalIndicatorStore().instances(this._paneId)\n    const dataList = this._chartStore.dataList()\n    techs.forEach(tech => {\n      const techResult = tech.result || []\n      const dataSize = techResult.length\n      const techData = techResult[dataSize - 1] || {}\n      const plots = tech.plots\n      const cbData = {\n        prev: { kLineData: dataList[dataSize - 2], technicalIndicatorData: techResult[dataSize - 2] },\n        current: { kLineData: dataList[dataSize - 1], technicalIndicatorData: techData },\n        next: { kLineData: null, technicalIndicatorData: null }\n      }\n      const precision = tech.precision\n      const styles = tech.styles || techOptions\n      const colors = styles.line.colors || []\n      const colorSize = colors.length\n      let lineCount = 0\n      plots.forEach(plot => {\n        const value = techData[plot.key]\n        let backgroundColor\n        switch (plot.type) {\n          case TechnicalIndicatorPlotType.CIRCLE: {\n            backgroundColor = (plot.color && plot.color(cbData, styles)) || styles.circle.noChangeColor\n            break\n          }\n          case TechnicalIndicatorPlotType.BAR: {\n            backgroundColor = (plot.color && plot.color(cbData, styles)) || styles.bar.noChangeColor\n            break\n          }\n          case TechnicalIndicatorPlotType.LINE: {\n            backgroundColor = colors[lineCount % colorSize]\n            lineCount++\n            break\n          }\n          default: { break }\n        }\n        if (isValid(value)) {\n          this._drawMarkLabel(\n            value, precision, tech.shouldFormatBigNumber,\n            {\n              ...lastValueMarkOptions.text, backgroundColor\n            }\n          )\n        }\n      })\n    })\n  }\n\n  /**\n   * 绘制最新价文字\n   * @private\n   */\n  _drawLastPriceLabel () {\n    if (!this._yAxis.isCandleYAxis()) {\n      return\n    }\n    const priceMarkOptions = this._chartStore.styleOptions().candle.priceMark\n    const lastPriceMarkOptions = priceMarkOptions.last\n    if (!priceMarkOptions.show || !lastPriceMarkOptions.show || !lastPriceMarkOptions.text.show) {\n      return\n    }\n    const dataList = this._chartStore.dataList()\n    const kLineData = dataList[dataList.length - 1]\n    if (!kLineData) {\n      return\n    }\n    const close = kLineData.close\n    const open = kLineData.open\n    let backgroundColor\n    if (close > open) {\n      backgroundColor = lastPriceMarkOptions.upColor\n    } else if (close < open) {\n      backgroundColor = lastPriceMarkOptions.downColor\n    } else {\n      backgroundColor = lastPriceMarkOptions.noChangeColor\n    }\n    this._drawMarkLabel(\n      close, this._chartStore.pricePrecision(), false,\n      {\n        ...lastPriceMarkOptions.text, backgroundColor\n      }\n    )\n  }\n\n  /**\n   * 绘制标记label\n   * @param value\n   * @param precision\n   * @param shouldFormatBigNumber\n   * @param size\n   * @param weight\n   * @param family\n   * @param color\n   * @param backgroundColor\n   * @param borderRadius\n   * @param paddingLeft\n   * @param paddingTop\n   * @param paddingRight\n   * @param paddingBottom\n   * @private\n   */\n  _drawMarkLabel (\n    value, precision, shouldFormatBigNumber,\n    {\n      size, weight, family, color, backgroundColor, borderRadius,\n      paddingLeft, paddingTop, paddingRight, paddingBottom\n    }\n  ) {\n    const valueY = this._yAxis.convertToNicePixel(value)\n    let text\n    if (this._yAxis.yAxisType() === YAxisType.PERCENTAGE) {\n      const fromData = (this._chartStore.visibleDataList()[0] || {}).data || {}\n      const fromClose = fromData.close\n      text = `${((value - fromClose) / fromClose * 100).toFixed(2)}%`\n    } else {\n      text = formatPrecision(value, precision)\n      if (shouldFormatBigNumber) {\n        text = formatBigNumber(text)\n      }\n    }\n    this._ctx.font = createFont(size, weight, family)\n    const rectWidth = calcTextWidth(this._ctx, text) + paddingLeft + paddingRight\n    const rectHeight = paddingTop + size + paddingBottom\n    let rectStartX\n    if (this._yAxis.isFromYAxisZero()) {\n      rectStartX = 0\n    } else {\n      rectStartX = this._width - rectWidth\n    }\n    renderFillRoundRect(\n      this._ctx, backgroundColor,\n      rectStartX, valueY - paddingTop - size / 2, rectWidth, rectHeight, borderRadius\n    )\n    this._ctx.textBaseline = 'middle'\n    renderText(this._ctx, color, rectStartX + paddingLeft, valueY, text)\n  }\n}\n","/**\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n\n * http://www.apache.org/licenses/LICENSE-2.0\n\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport View from './View'\nimport { getTextRectWidth, getTextRectHeight } from '../utils/canvas'\nimport { formatBigNumber, formatPrecision } from '../utils/format'\nimport { YAxisType } from '../options/styleOptions'\nimport { renderStrokeFillRoundRect } from '../renderer/rect'\nimport { renderText } from '../renderer/text'\n\nexport default class YAxisOverlayView extends View {\n  constructor (container, chartStore, yAxis, paneId) {\n    super(container, chartStore)\n    this._yAxis = yAxis\n    this._paneId = paneId\n  }\n\n  initialCoordinates = {\n    asksChart: {\n      x: 0,\n      y: () => (this._yAxis.convertToPixel(0))(),\n    },\n    bidsChart: {\n      x: 0,\n      y: 0,\n    },\n  }\n\n\n  _drawOrderChart(items, totalCount, chartType, styles) {\n    this._drawOrderLine(items, totalCount, chartType, styles);\n    this._drawOrdersArea(items, totalCount, chartType, styles);\n  }\n\n  _drawLine(orders, totalCount) {\n    let currentX = 0;\n\n    orders.forEach((order, index) => {\n      currentX += this._convertXToPixels(order.count, totalCount);\n\n      this._ctx.lineTo(currentX, this._yAxis.convertToPixel(order.price));\n      if (orders[index + 1]) {\n        this._ctx.lineTo(\n          currentX,\n          this._yAxis.convertToPixel(orders[index + 1].price),\n        );\n      }\n    });\n\n    return currentX;\n  }\n\n  _drawOrderLine(orders, totalCount, chartType, styles) {\n    this._ctx.beginPath();\n    this._ctx.strokeStyle = styles.lineColor;\n    this._ctx.lineWidth = 3;\n\n    let initialCoords = chartType === 'asks' ? this.initialCoordinates.asksChart : this.initialCoordinates.bidsChart;\n    this._ctx.moveTo(initialCoords.x, initialCoords.y);\n\n    this._ctx.lineTo(0, this._yAxis.convertToPixel(orders[0].price));\n    this._drawLine(orders, totalCount);\n\n    this._ctx.stroke();\n    this._ctx.closePath();\n  }\n\n  _drawOrdersArea(orders, totalCount, chartType, styles) {\n    this._ctx.beginPath();\n\n    let initialCoords = chartType === 'asks' ? this.initialCoordinates.asksChart : this.initialCoordinates.bidsChart;\n    this._ctx.moveTo(initialCoords.x, initialCoords.y);\n\n    this._ctx.lineTo(0, this._yAxis.convertToPixel(orders[0].price));\n\n    const currentX = this._drawLine(orders, totalCount);\n\n    this._ctx.lineTo(currentX, chartType === 'asks' ? this._yAxis.convertToPixel(0) : 0);\n    this._ctx.closePath();\n\n    var my_gradient = this._ctx.createLinearGradient(500, 0, 0, 0);\n    my_gradient.addColorStop(0, styles.colorRight);\n    my_gradient.addColorStop(1, styles.colorLeft);\n    this._ctx.fillStyle = my_gradient;\n\n    this._ctx.fill();\n  }\n\n  _convertXToPixels(x, totalCount) {\n    let fullWidth = this._yAxis.width();\n    return (fullWidth / totalCount) * x;\n  }\n\n  _draw() {\n    const asksBidsData = this._chartStore.getAsksBidsData();\n\n    if (asksBidsData.asks && asksBidsData.bids) {\n      const styles = this._chartStore.styleOptions().yAxis;\n      this._drawOrderChart(asksBidsData.asks.items, asksBidsData.asks.totalCount, 'asks', styles.asksChart)\n      this._drawOrderChart(asksBidsData.bids.items, asksBidsData.bids.totalCount, 'bids', styles.bidsChart)\n    }\n\n    this._ctx.textBaseline = 'middle';\n    this._drawTag();\n    this._drawCrossHairLabel();\n  }\n\n  /**\n   * 绘制标签\n   * @private\n   */\n  _drawTag () {\n    const tags = this._chartStore.tagStore().get(this._paneId)\n    if (tags) {\n      tags.forEach(tag => {\n        tag.drawText(this._ctx)\n      })\n    }\n  }\n\n  _drawCrossHairLabel () {\n    const crosshair = this._chartStore.crosshairStore().get()\n    if (crosshair.paneId !== this._paneId || this._chartStore.dataList().length === 0) {\n      return\n    }\n    const styleOptions = this._chartStore.styleOptions()\n    const crosshairOptions = styleOptions.crosshair\n    const crosshairHorizontalOptions = crosshairOptions.horizontal\n    const crosshairHorizontalTextOptions = crosshairHorizontalOptions.text\n    if (!crosshairOptions.show || !crosshairHorizontalOptions.show || !crosshairHorizontalTextOptions.show) {\n      return\n    }\n    const value = this._yAxis.convertFromPixel(crosshair.y)\n    let text\n    if (this._yAxis.yAxisType() === YAxisType.PERCENTAGE) {\n      const fromData = (this._chartStore.visibleDataList()[0] || {}).data || {}\n      text = `${((value - fromData.close) / fromData.close * 100).toFixed(2)}%`\n    } else {\n      const techs = this._chartStore.technicalIndicatorStore().instances(this._paneId)\n      let precision = 0\n      let shouldFormatBigNumber = false\n      if (this._yAxis.isCandleYAxis()) {\n        precision = this._chartStore.pricePrecision()\n      } else {\n        techs.forEach(tech => {\n          precision = Math.max(tech.precision, precision)\n          if (!shouldFormatBigNumber) {\n            shouldFormatBigNumber = tech.shouldFormatBigNumber\n          }\n        })\n      }\n      text = formatPrecision(value, precision)\n      if (shouldFormatBigNumber) {\n        text = formatBigNumber(text)\n      }\n    }\n    let rectStartX\n    const borderSize = crosshairHorizontalTextOptions.borderSize\n\n    const rectWidth = getTextRectWidth(this._ctx, text, crosshairHorizontalTextOptions)\n    const rectHeight = getTextRectHeight(crosshairHorizontalTextOptions)\n    if (this._yAxis.isFromYAxisZero()) {\n      rectStartX = 0\n    } else {\n      rectStartX = this._width - rectWidth\n    }\n\n    const rectY = crosshair.y - borderSize - crosshairHorizontalTextOptions.paddingTop - crosshairHorizontalTextOptions.size / 2\n    // 绘制y轴文字外的边框\n    renderStrokeFillRoundRect(\n      this._ctx,\n      crosshairHorizontalTextOptions.backgroundColor,\n      crosshairHorizontalTextOptions.borderColor,\n      borderSize,\n      rectStartX,\n      rectY,\n      rectWidth,\n      rectHeight,\n      crosshairHorizontalTextOptions.borderRadius\n    )\n    renderText(\n      this._ctx,\n      crosshairHorizontalTextOptions.color,\n      rectStartX + borderSize + crosshairHorizontalTextOptions.paddingLeft,\n      crosshair.y,\n      text\n    )\n  }\n}\n","/**\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n\n * http://www.apache.org/licenses/LICENSE-2.0\n\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport Widget from './Widget'\nimport YAxisView from '../view/YAxisView'\nimport YAxisOverlayView from '../view/YAxisOverlayView'\n\nexport default class YAxisWidget extends Widget {\n  _createMainView (container, props) {\n    return new YAxisView(container, props.chartStore, props.yAxis, props.paneId)\n  }\n\n  _createOverlayView (container, props) {\n    return new YAxisOverlayView(container, props.chartStore, props.yAxis, props.paneId)\n  }\n}\n","/**\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n\n * http://www.apache.org/licenses/LICENSE-2.0\n\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { getPixelRatio } from '../../utils/canvas'\nimport { getPrecision, nice, round } from '../../utils/number'\nimport { createElement } from '../../utils/element'\n\nexport default class Axis {\n  constructor (chartStore) {\n    this._chartStore = chartStore\n    this._width = 0\n    this._height = 0\n    this._cacheMinValue = 0\n    this._cacheMaxValue = 0\n    this._minValue = 0\n    this._maxValue = 0\n    this._range = 0\n    this._ticks = []\n    this._initMeasureCanvas()\n  }\n\n  _initMeasureCanvas () {\n    const measureCanvas = createElement('canvas')\n    const pixelRatio = getPixelRatio(measureCanvas)\n    this._measureCtx = measureCanvas.getContext('2d')\n    this._measureCtx.scale(pixelRatio, pixelRatio)\n  }\n\n  min () {\n    return this._minValue\n  }\n\n  max () {\n    return this._maxValue\n  }\n\n  width () {\n    return this._width\n  }\n\n  height () {\n    return this._height\n  }\n\n  setWidth (width) {\n    this._width = width\n  }\n\n  setHeight (height) {\n    this._height = height\n  }\n\n  /**\n   * 获取ticks\n   * @returns {[]|*[]}\n   */\n  ticks () {\n    return this._ticks\n  }\n\n  /**\n   * 计算轴\n   * @param forceCompute\n   */\n  computeAxis (forceCompute) {\n    const minMax = this._optimalMinMax(this._computeMinMax())\n    this._minValue = minMax.min\n    this._maxValue = minMax.max\n    this._range = minMax.range\n    if (this._cacheMinValue !== minMax.min || this._cacheMaxValue !== minMax.max || forceCompute) {\n      this._cacheMinValue = minMax.min\n      this._cacheMaxValue = minMax.max\n      this._ticks = this._optimalTicks(this._computeTicks())\n      return true\n    }\n    return false\n  }\n\n  /**\n   * 计算最大最小值\n   * @private\n   */\n  _computeMinMax () {}\n\n  /**\n   * 优化最大最小值\n   * @param minMax\n   * @private\n   */\n  _optimalMinMax (minMax) {}\n\n  /**\n   * 计算轴上的tick值\n   */\n  _computeTicks () {\n    const ticks = []\n    if (this._range >= 0) {\n      const intervalPrecision = this._computeInterval(this._range)\n      const interval = intervalPrecision.interval\n      const precision = intervalPrecision.precision\n      const first = round(Math.ceil(this._minValue / interval) * interval, precision)\n      const last = round(Math.floor(this._maxValue / interval) * interval, precision)\n      let n = 0\n      let f = first\n\n      if (interval !== 0) {\n        while (f <= last) {\n          ticks[n] = { v: f.toFixed(precision) }\n          ++n\n          f += interval\n        }\n      }\n    }\n    return ticks\n  }\n\n  /**\n   * 计算最佳的tick\n   * @param ticks\n   */\n  _optimalTicks (ticks) {}\n\n  /**\n   * 计算间隔\n   * @private\n   */\n  _computeInterval (range) {\n    const interval = nice(range / 8.0)\n    const precision = getPrecision(interval)\n    return {\n      interval, precision\n    }\n  }\n}\n","/**\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n\n * http://www.apache.org/licenses/LICENSE-2.0\n\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport Axis from './Axis'\nimport { CandleType, YAxisPosition, YAxisType } from '../../options/styleOptions'\nimport { isNumber, isValid } from '../../utils/typeChecks'\nimport { calcTextWidth, createFont } from '../../utils/canvas'\nimport { formatBigNumber, formatPrecision } from '../../utils/format'\nimport { round, log10, index10 } from '../../utils/number'\n\nexport default class YAxis extends Axis {\n  constructor (chartStore, isCandleYAxis, paneId) {\n    super(chartStore)\n    this._realRange = 0\n    this._isCandleYAxis = isCandleYAxis\n    this._paneId = paneId\n  }\n\n  _computeMinMax () {\n    const minMaxArray = [Number.MAX_SAFE_INTEGER, Number.MIN_SAFE_INTEGER]\n    const plotsResult = []\n    let shouldOhlc = false\n    let minValue = Number.MAX_SAFE_INTEGER\n    let maxValue = Number.MIN_SAFE_INTEGER\n    let techPrecision = Number.MAX_SAFE_INTEGER\n    const techs = this._chartStore.technicalIndicatorStore().instances(this._paneId)\n    let techGap\n    techs.forEach(tech => {\n      if (!shouldOhlc) {\n        shouldOhlc = tech.shouldOhlc\n      }\n      techPrecision = Math.min(techPrecision, tech.precision)\n      if (isNumber(tech.minValue)) {\n        minValue = Math.min(minValue, tech.minValue)\n      }\n      if (isNumber(tech.maxValue)) {\n        maxValue = Math.max(maxValue, tech.maxValue)\n      }\n      if (tech.styles) {\n        if (!techGap) {\n          techGap = { top: 0, bottom: 0 }\n        }\n        const margin = tech.styles.margin\n        if (isNumber(margin.top)) {\n          if (margin.top < 1) {\n            techGap.top = Math.max(margin.top, techGap.top)\n          } else {\n            techGap.top = Math.max(margin.top / this._height, techGap.top)\n          }\n        }\n        if (isNumber(margin.bottom)) {\n          if (margin.bottom < 1) {\n            techGap.bottom = Math.max(margin.bottom, techGap.bottom)\n          } else {\n            techGap.bottom = Math.max(margin.bottom / this._height, techGap.bottom)\n          }\n        }\n      }\n      plotsResult.push({\n        plots: tech.plots,\n        result: tech.result\n      })\n    })\n\n    let precision = 4\n    if (this._isCandleYAxis) {\n      const pricePrecision = this._chartStore.pricePrecision()\n      if (techPrecision !== Number.MAX_SAFE_INTEGER) {\n        precision = Math.min(techPrecision, pricePrecision)\n      } else {\n        precision = pricePrecision\n      }\n    } else {\n      if (techPrecision !== Number.MAX_SAFE_INTEGER) {\n        precision = techPrecision\n      }\n    }\n    const visibleDataList = this._chartStore.visibleDataList()\n    const candleOptions = this._chartStore.styleOptions().candle\n    const isArea = candleOptions.type === CandleType.AREA\n    const areaValueKey = candleOptions.area.value\n    const shouldCompareHighLow = (this._isCandleYAxis && !isArea) || (!this._isCandleYAxis && shouldOhlc)\n    visibleDataList.forEach(({ index, data }) => {\n      if (shouldCompareHighLow) {\n        minMaxArray[0] = Math.min(minMaxArray[0], data.low)\n        minMaxArray[1] = Math.max(minMaxArray[1], data.high)\n      }\n      if (this._isCandleYAxis && isArea) {\n        minMaxArray[0] = Math.min(minMaxArray[0], data[areaValueKey])\n        minMaxArray[1] = Math.max(minMaxArray[1], data[areaValueKey])\n      }\n      plotsResult.forEach(({ plots, result }) => {\n        const techData = result[index] || {}\n        plots.forEach(plot => {\n          const value = techData[plot.key]\n          if (isValid(value)) {\n            minMaxArray[0] = Math.min(minMaxArray[0], value)\n            minMaxArray[1] = Math.max(minMaxArray[1], value)\n          }\n        })\n      })\n    })\n    if (minMaxArray[0] !== Number.MAX_SAFE_INTEGER && minMaxArray[1] !== Number.MIN_SAFE_INTEGER) {\n      minMaxArray[0] = Math.min(minValue, minMaxArray[0])\n      minMaxArray[1] = Math.max(maxValue, minMaxArray[1])\n    } else {\n      minMaxArray[0] = 0\n      minMaxArray[1] = 10\n    }\n    return { min: minMaxArray[0], max: minMaxArray[1], precision, specifyMin: minValue, specifyMax: maxValue, techGap }\n  }\n\n  _optimalMinMax ({ min, max, precision, specifyMin, specifyMax, techGap }) {\n    let minValue = min\n    let maxValue = max\n    const yAxisType = this.yAxisType()\n    let dif\n    switch (yAxisType) {\n      case YAxisType.PERCENTAGE: {\n        const fromData = (this._chartStore.visibleDataList()[0] || {}).data || {}\n        if (isNumber(fromData.close)) {\n          minValue = (minValue - fromData.close) / fromData.close * 100\n          maxValue = (maxValue - fromData.close) / fromData.close * 100\n        }\n        dif = Math.pow(10, -2)\n        break\n      }\n      case YAxisType.LOG: {\n        minValue = log10(minValue)\n        maxValue = log10(maxValue)\n        dif = 0.05 * index10(-precision)\n        break\n      }\n      default: {\n        dif = index10(-precision)\n      }\n    }\n    if (\n      minValue === maxValue ||\n      Math.abs(minValue - maxValue) < dif\n    ) {\n      const minCheck = specifyMin === minValue\n      const maxCheck = specifyMax === maxValue\n      minValue = minCheck ? minValue : (maxCheck ? minValue - 8 * dif : minValue - 4 * dif)\n      maxValue = maxCheck ? maxValue : (minCheck ? maxValue + 8 * dif : maxValue + 4 * dif)\n    }\n    let marginOptions\n    if (this._isCandleYAxis) {\n      marginOptions = this._chartStore.styleOptions().candle.margin\n    } else {\n      // 如果是副图，直接取指标的样式配置\n      marginOptions = techGap ? { top: 0, bottom: 0 } : this._chartStore.styleOptions().technicalIndicator.margin\n    }\n    let topRate = 0.2\n    if (isNumber(marginOptions.top)) {\n      let rate\n      if (marginOptions.top < 1) {\n        rate = marginOptions.top\n      } else {\n        rate = marginOptions.top / this._height\n      }\n      topRate = techGap ? Math.max(techGap.top, rate) : rate\n    }\n    let bottomRate = 0.1\n    if (isNumber(marginOptions.bottom)) {\n      let rate\n      if (marginOptions.bottom < 1) {\n        rate = marginOptions.bottom\n      } else {\n        rate = marginOptions.bottom / this._height\n      }\n      bottomRate = techGap ? Math.max(techGap.bottom, rate) : rate\n    }\n    let range = Math.abs(maxValue - minValue)\n    // 保证每次图形绘制上下都留间隙\n    minValue = minValue - range * bottomRate\n    maxValue = maxValue + range * topRate\n\n    range = Math.abs(maxValue - minValue)\n    if (yAxisType === YAxisType.LOG) {\n      this._realRange = Math.abs(index10(maxValue) - index10(minValue))\n    } else {\n      this._realRange = range\n    }\n    return {\n      min: minValue,\n      max: maxValue,\n      range\n    }\n  }\n\n  _optimalTicks (ticks) {\n    const optimalTicks = []\n    const yAxisType = this.yAxisType()\n    const techs = this._chartStore.technicalIndicatorStore().instances(this._paneId)\n    let precision = 0\n    let shouldFormatBigNumber = false\n    if (this._isCandleYAxis) {\n      precision = this._chartStore.pricePrecision()\n    } else {\n      techs.forEach(tech => {\n        precision = Math.max(precision, tech.precision)\n        if (!shouldFormatBigNumber) {\n          shouldFormatBigNumber = tech.shouldFormatBigNumber\n        }\n      })\n    }\n    const textHeight = this._chartStore.styleOptions().xAxis.tickText.size\n    let intervalPrecision\n    if (yAxisType === YAxisType.LOG) {\n      intervalPrecision = this._computeInterval(this._realRange)\n    }\n    let validY\n    ticks.forEach(({ v }) => {\n      let value\n      let y = this._innerConvertToPixel(+v)\n      switch (yAxisType) {\n        case YAxisType.PERCENTAGE: {\n          value = `${formatPrecision(v, 2)}%`\n          break\n        }\n        case YAxisType.LOG: {\n          value = round(index10(v), intervalPrecision.precision)\n          y = this._innerConvertToPixel(log10(value))\n          value = formatPrecision(value, precision)\n          break\n        }\n        default: {\n          value = formatPrecision(v, precision)\n          if (shouldFormatBigNumber) {\n            value = formatBigNumber(value)\n          }\n          break\n        }\n      }\n      if (y > textHeight && y < this._height - textHeight && ((validY && (validY - y > textHeight * 2)) || !validY)) {\n        optimalTicks.push({ v: value, y })\n        validY = y\n      }\n    })\n    return optimalTicks\n  }\n\n  /**\n   * 内部值转换成坐标\n   * @param value\n   * @return {number}\n   * @private\n   */\n  _innerConvertToPixel (value) {\n    return Math.round((1.0 - (value - this._minValue) / this._range) * this._height)\n  }\n\n  /**\n   * 是否是蜡烛图轴\n   * @return {*}\n   */\n  isCandleYAxis () {\n    return this._isCandleYAxis\n  }\n\n  /**\n   * y轴类型\n   * @return {string|*}\n   */\n  yAxisType () {\n    if (this._isCandleYAxis) {\n      return this._chartStore.styleOptions().yAxis.type\n    }\n    return YAxisType.NORMAL\n  }\n\n  /**\n   * 是否从y轴0开始\n   * @return {boolean|*|boolean}\n   */\n  isFromYAxisZero () {\n    const yAxisOptions = this._chartStore.styleOptions().yAxis\n    return (\n      (yAxisOptions.position === YAxisPosition.LEFT && yAxisOptions.inside) ||\n      (yAxisOptions.position === YAxisPosition.RIGHT && !yAxisOptions.inside)\n    )\n  }\n\n  /**\n   * 获取自身宽度\n   * @return {number}\n   */\n  getSelfWidth () {\n    const styleOptions = this._chartStore.styleOptions()\n    const yAxisOptions = styleOptions.yAxis\n    const width = yAxisOptions.width\n    if (isNumber(width)) {\n      return width\n    }\n    let yAxisWidth = 0\n    if (yAxisOptions.show) {\n      if (yAxisOptions.axisLine.show) {\n        yAxisWidth += yAxisOptions.axisLine.size\n      }\n      if (yAxisOptions.tickLine.show) {\n        yAxisWidth += yAxisOptions.tickLine.length\n      }\n      if (yAxisOptions.tickText.show) {\n        let textWidth = 0\n        this._measureCtx.font = createFont(yAxisOptions.tickText.size, yAxisOptions.tickText.weight, yAxisOptions.tickText.family)\n        this._ticks.forEach(tick => {\n          textWidth = Math.max(textWidth, calcTextWidth(this._measureCtx, tick.v))\n        })\n        yAxisWidth += (yAxisOptions.tickText.paddingLeft + yAxisOptions.tickText.paddingRight + textWidth)\n      }\n    }\n    const crosshairOptions = styleOptions.crosshair\n    let crosshairVerticalTextWidth = 0\n    if (\n      crosshairOptions.show &&\n      crosshairOptions.horizontal.show &&\n      crosshairOptions.horizontal.text.show\n    ) {\n      const techs = this._chartStore.technicalIndicatorStore().instances(this._paneId)\n      let techPrecision = 0\n      let shouldFormatBigNumber = false\n      techs.forEach(tech => {\n        techPrecision = Math.max(tech.precision, techPrecision)\n        if (!shouldFormatBigNumber) {\n          shouldFormatBigNumber = tech.shouldFormatBigNumber\n        }\n      })\n      this._measureCtx.font = createFont(\n        crosshairOptions.horizontal.text.size,\n        crosshairOptions.horizontal.text.weight,\n        crosshairOptions.horizontal.text.family\n      )\n      let precision = 2\n      if (this.yAxisType() !== YAxisType.PERCENTAGE) {\n        if (this._isCandleYAxis) {\n          const pricePrecision = this._chartStore.pricePrecision()\n          const lastValueMarkOptions = styleOptions.technicalIndicator.lastValueMark\n          if (lastValueMarkOptions.show && lastValueMarkOptions.text.show) {\n            precision = Math.max(techPrecision, pricePrecision)\n          } else {\n            precision = pricePrecision\n          }\n        } else {\n          precision = techPrecision\n        }\n      }\n      let valueText = formatPrecision(this._maxValue, precision)\n      if (shouldFormatBigNumber) {\n        valueText = formatBigNumber(valueText)\n      }\n      crosshairVerticalTextWidth += (\n        crosshairOptions.horizontal.text.paddingLeft +\n        crosshairOptions.horizontal.text.paddingRight +\n        crosshairOptions.horizontal.text.borderSize * 2 +\n        calcTextWidth(this._measureCtx, valueText)\n      )\n    }\n    return Math.max(yAxisWidth, crosshairVerticalTextWidth)\n  }\n\n  convertFromPixel (pixel) {\n    const value = (1.0 - pixel / this._height) * this._range + this._minValue\n    switch (this.yAxisType()) {\n      case YAxisType.PERCENTAGE: {\n        const fromData = (this._chartStore.visibleDataList()[0] || {}).data || {}\n        if (isNumber(fromData.close)) {\n          return fromData.close * value / 100 + fromData.close\n        }\n        break\n      }\n      case YAxisType.LOG: {\n        return index10(value)\n      }\n      default: {\n        return value\n      }\n    }\n  }\n\n  convertToPixel (value) {\n    let v\n    switch (this.yAxisType()) {\n      case YAxisType.PERCENTAGE: {\n        const fromData = (this._chartStore.visibleDataList()[0] || {}).data || {}\n        if (isNumber(fromData.close)) {\n          v = (value - fromData.close) / fromData.close * 100\n        }\n        break\n      }\n      case YAxisType.LOG: {\n        v = log10(value)\n        break\n      }\n      default: {\n        v = value\n      }\n    }\n    return this._innerConvertToPixel(v)\n  }\n\n  /**\n   * 将值转换成坐标，即使坐标不在范围内，也会显示在顶部或者底部\n   * @param value\n   * @return {number}\n   */\n  convertToNicePixel (value) {\n    const y = this.convertToPixel(value)\n    return Math.round(Math.max(this._height * 0.05, Math.min(y, this._height * 0.98)))\n  }\n}\n","/**\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n\n * http://www.apache.org/licenses/LICENSE-2.0\n\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport Pane from './Pane'\nimport TechnicalIndicatorWidget from '../widget/TechnicalIndicatorWidget'\nimport YAxisWidget from '../widget/YAxisWidget'\nimport YAxis from '../component/axis/YAxis'\n\nexport default class TechnicalIndicatorPane extends Pane {\n  constructor (props) {\n    super(props)\n    if ('height' in props) {\n      this.setHeight(props.height)\n    }\n  }\n\n  _initBefore (props) {\n    this._id = props.id\n    this._yAxis = this._createYAxis(props)\n  }\n\n  _createYAxis (props) {\n    return new YAxis(\n      props.chartStore,\n      false,\n      props.id\n    )\n  }\n\n  _createMainWidget (container, props) {\n    return new TechnicalIndicatorWidget({\n      container,\n      chartStore: props.chartStore,\n      xAxis: props.xAxis,\n      yAxis: this._yAxis,\n      paneId: props.id\n    })\n  }\n\n  _createYAxisWidget (container, props) {\n    return new YAxisWidget({\n      container,\n      chartStore: props.chartStore,\n      yAxis: this._yAxis,\n      paneId: props.id\n    })\n  }\n\n  setHeight (height) {\n    super.setHeight(height)\n    this._yAxis.setHeight(height)\n  }\n\n  setWidth (mainWidgetWidth, yAxisWidgetWidth) {\n    super.setWidth(mainWidgetWidth, yAxisWidgetWidth)\n    this._yAxis.setWidth(yAxisWidgetWidth)\n  }\n\n  /**\n   * 获取id\n   * @returns {string}\n   */\n  id () {\n    return this._id\n  }\n\n  yAxis () {\n    return this._yAxis\n  }\n}\n","/**\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n\n * http://www.apache.org/licenses/LICENSE-2.0\n\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport TechnicalIndicatorView from './TechnicalIndicatorView'\nimport { CandleType, LineStyle } from '../options/styleOptions'\nimport { renderHorizontalLine, renderLine } from '../renderer/line'\nimport { renderCloseFillPath } from '../renderer/path'\nimport { createFont } from '../utils/canvas'\nimport { formatPrecision, formatValue } from '../utils/format'\nimport { isArray, isNumber } from '../utils/typeChecks'\n\nexport default class CandleView extends TechnicalIndicatorView {\n  _drawContent () {\n    const candleOptions = this._chartStore.styleOptions().candle\n    this._drawLastPriceLine(candleOptions.priceMark)\n    if (candleOptions.type === CandleType.AREA) {\n      this._drawArea(candleOptions)\n    } else {\n      this._drawLowHighPrice(\n        candleOptions.priceMark,\n        'high',\n        'high',\n        Number.MIN_SAFE_INTEGER,\n        [-2, -5],\n        (price, comparePrice) => {\n          if (price > comparePrice) {\n            return price\n          }\n        }\n      )\n      this._drawLowHighPrice(\n        candleOptions.priceMark,\n        'low',\n        'low',\n        Number.MAX_SAFE_INTEGER,\n        [2, 5],\n        (price, comparePrice) => {\n          if (price < comparePrice) {\n            return price\n          }\n        }\n      )\n      this._drawCandle(candleOptions)\n    }\n    this._drawTechs()\n    this._drawGrid()\n  }\n\n  /**\n   * 绘制面积图\n   * @param candleOptions\n   * @private\n   */\n  _drawArea (candleOptions) {\n    const lineCoordinates = []\n    const areaCoordinates = []\n    let minY = Number.MAX_SAFE_INTEGER\n    const areaOptions = candleOptions.area\n    const onDrawing = (x, i, kLineData, halfBarSpace, barSpace, n) => {\n      const value = kLineData[areaOptions.value]\n      if (isNumber(value)) {\n        const y = this._yAxis.convertToPixel(value)\n        if (n === 0) {\n          const startX = x - halfBarSpace\n          areaCoordinates.push({ x: startX, y: this._height })\n          areaCoordinates.push({ x: startX, y })\n          lineCoordinates.push({ x: startX, y })\n        }\n        lineCoordinates.push({ x, y })\n        areaCoordinates.push({ x, y })\n        minY = Math.min(minY, y)\n      }\n    }\n    const onDrawEnd = () => {\n      const areaCoordinateLength = areaCoordinates.length\n      if (areaCoordinateLength > 0) {\n        const lastCoordinate = areaCoordinates[areaCoordinateLength - 1]\n        const halfBarSpace = this._chartStore.timeScaleStore().halfBarSpace()\n        const endX = lastCoordinate.x + halfBarSpace\n        lineCoordinates.push({ x: endX, y: lastCoordinate.y })\n        areaCoordinates.push({ x: endX, y: lastCoordinate.y })\n        areaCoordinates.push({ x: endX, y: this._height })\n      }\n\n      if (lineCoordinates.length > 0) {\n        // 绘制分时线\n        this._ctx.lineWidth = areaOptions.lineSize\n        this._ctx.strokeStyle = areaOptions.lineColor\n        renderLine(this._ctx, lineCoordinates)\n      }\n\n      if (areaCoordinates.length > 0) {\n        // 绘制分时线填充区域\n        const backgroundColor = areaOptions.backgroundColor\n        if (isArray(backgroundColor)) {\n          const gradient = this._ctx.createLinearGradient(0, this._height, 0, minY)\n          try {\n            backgroundColor.forEach(({ offset, color }) => {\n              gradient.addColorStop(offset, color)\n            })\n          } catch (e) {\n          }\n          this._ctx.fillStyle = gradient\n        } else {\n          this._ctx.fillStyle = backgroundColor\n        }\n        renderCloseFillPath(this._ctx, areaCoordinates)\n      }\n    }\n    this._drawGraphics(onDrawing, onDrawEnd)\n  }\n\n  /**\n   * 绘制蜡烛\n   * @param candleOptions\n   * @private\n   */\n  _drawCandle (candleOptions) {\n    this._drawGraphics((x, i, kLineData, halfBarSpace, barSpace) => {\n      this._drawCandleBar(x, halfBarSpace, barSpace, i, kLineData, candleOptions.bar, candleOptions.type)\n    })\n  }\n\n  /**\n   * 渲染最高最低价格\n   * @param priceMarkOptions\n   * @param optionKey\n   * @param priceKey\n   * @param initPriceValue\n   * @param offsets\n   * @param compare\n   * @private\n   */\n  _drawLowHighPrice (priceMarkOptions, optionKey, priceKey, initPriceValue, offsets, compare) {\n    const lowHighPriceMarkOptions = priceMarkOptions[optionKey]\n    if (!priceMarkOptions.show || !lowHighPriceMarkOptions.show) {\n      return\n    }\n    const visibleDataList = this._chartStore.visibleDataList()\n    let price = initPriceValue\n    let pos = -1\n    visibleDataList.forEach(({ index, data }) => {\n      const comparePrice = compare(formatValue(data, priceKey, initPriceValue), price)\n      if (comparePrice) {\n        price = comparePrice\n        pos = index\n      }\n    })\n    const pricePrecision = this._chartStore.pricePrecision()\n    const priceY = this._yAxis.convertToPixel(price)\n    const startX = this._xAxis.convertToPixel(pos)\n    const startY = priceY + offsets[0]\n    this._ctx.textAlign = 'left'\n    this._ctx.lineWidth = 1\n    this._ctx.strokeStyle = lowHighPriceMarkOptions.color\n    this._ctx.fillStyle = lowHighPriceMarkOptions.color\n\n    renderLine(\n      this._ctx,\n      [\n        { x: startX - 2, y: startY + offsets[0] },\n        { x: startX, y: startY },\n        { x: startX + 2, y: startY + offsets[0] }\n      ]\n    )\n\n    // 绘制竖线\n    const y = startY + offsets[1]\n    renderLine(\n      this._ctx,\n      [\n        { x: startX, y: startY },\n        { x: startX, y },\n        { x: startX + 5, y }\n      ]\n    )\n\n    this._ctx.font = createFont(lowHighPriceMarkOptions.textSize, lowHighPriceMarkOptions.textWeight, lowHighPriceMarkOptions.textFamily)\n    const text = formatPrecision(price, pricePrecision)\n    this._ctx.textBaseline = 'middle'\n    this._ctx.fillText(text, startX + 5 + lowHighPriceMarkOptions.textMargin, y)\n  }\n\n  /**\n   * 绘制最新价线\n   * @param priceMarkOptions\n   * @private\n   */\n  _drawLastPriceLine (priceMarkOptions) {\n    const lastPriceMarkOptions = priceMarkOptions.last\n    if (!priceMarkOptions.show || !lastPriceMarkOptions.show || !lastPriceMarkOptions.line.show) {\n      return\n    }\n    const dataList = this._chartStore.dataList()\n    const kLineData = dataList[dataList.length - 1]\n    if (!kLineData) {\n      return\n    }\n    const close = kLineData.close\n    const open = kLineData.open\n    const priceY = this._yAxis.convertToNicePixel(close)\n    let color\n    if (close > open) {\n      color = lastPriceMarkOptions.upColor\n    } else if (close < open) {\n      color = lastPriceMarkOptions.downColor\n    } else {\n      color = lastPriceMarkOptions.noChangeColor\n    }\n    this._ctx.save()\n    this._ctx.strokeStyle = color\n    this._ctx.lineWidth = lastPriceMarkOptions.line.size\n    if (lastPriceMarkOptions.line.style === LineStyle.DASH) {\n      this._ctx.setLineDash(lastPriceMarkOptions.line.dashValue)\n    }\n    renderHorizontalLine(this._ctx, priceY, 0, this._width)\n    this._ctx.restore()\n  }\n}\n","/**\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n\n * http://www.apache.org/licenses/LICENSE-2.0\n\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport TechnicalIndicatorOverlayView from './TechnicalIndicatorOverlayView'\nimport { isFunction, isObject, isArray, isValid } from '../utils/typeChecks'\nimport { formatBigNumber, formatDate, formatPrecision, formatValue } from '../utils/format'\nimport { calcTextWidth, createFont } from '../utils/canvas'\nimport { TooltipShowType } from '../options/styleOptions'\nimport { renderFillRoundRect, renderStrokeRoundRect } from '../renderer/rect'\nimport { renderText } from '../renderer/text'\n\nexport default class CandleOverlayView extends TechnicalIndicatorOverlayView {\n  _drawTooltip (crosshair, techs) {\n    const styleOptions = this._chartStore.styleOptions()\n    const candleOptions = styleOptions.candle\n    const candleTooltipOptions = candleOptions.tooltip\n    const techOptions = styleOptions.technicalIndicator\n    const techTooltipOptions = techOptions.tooltip\n    const isDrawCandleTooltip = this._shouldDrawTooltip(crosshair, candleTooltipOptions)\n    const isDrawTechTooltip = this._shouldDrawTooltip(crosshair, techTooltipOptions)\n    if (\n      candleTooltipOptions.showType === TooltipShowType.RECT &&\n      techTooltipOptions.showType === TooltipShowType.RECT\n    ) {\n      this._drawCandleTooltipWithRect(\n        crosshair,\n        techs,\n        candleOptions,\n        isDrawCandleTooltip,\n        techOptions,\n        isDrawTechTooltip\n      )\n    } else {\n      if (candleTooltipOptions.showType === TooltipShowType.STANDARD) {\n        this._drawCandleTooltipWithStandard(crosshair.kLineData, candleOptions, isDrawCandleTooltip)\n        if (techTooltipOptions.showType === TooltipShowType.STANDARD) {\n          const offsetTop = isDrawCandleTooltip ? candleTooltipOptions.text.size + candleTooltipOptions.text.marginTop : 0\n          this._drawBatchTechToolTip(\n            crosshair,\n            techs,\n            techOptions,\n            offsetTop,\n            isDrawTechTooltip\n          )\n        } else {\n          this._drawCandleTooltipWithRect(\n            crosshair,\n            techs,\n            candleOptions,\n            false,\n            techOptions,\n            isDrawTechTooltip\n          )\n        }\n      } else {\n        this._drawCandleTooltipWithRect(\n          crosshair,\n          techs,\n          candleOptions,\n          isDrawCandleTooltip,\n          techOptions,\n          false\n        )\n        this._drawBatchTechToolTip(\n          crosshair,\n          techs,\n          techOptions,\n          0,\n          isDrawTechTooltip\n        )\n      }\n    }\n  }\n\n  /**\n   * 绘制蜡烛默认的图例\n   * @param kLineData\n   * @param candleOptions\n   * @param isDrawCandleTooltip\n   * @private\n   */\n  _drawCandleTooltipWithStandard (kLineData, candleOptions, isDrawCandleTooltip) {\n    if (!isDrawCandleTooltip) {\n      return\n    }\n    const values = this._getCandleTooltipData(kLineData, candleOptions)\n    const candleTooltipOptions = candleOptions.tooltip\n    const textMarginLeft = candleTooltipOptions.text.marginLeft\n    const textMarginRight = candleTooltipOptions.text.marginRight\n    const textSize = candleTooltipOptions.text.size\n    const textColor = candleTooltipOptions.text.color\n    const labels = candleTooltipOptions.labels\n    this._ctx.textBaseline = 'top'\n    this._ctx.font = createFont(textSize, candleTooltipOptions.text.weight, candleTooltipOptions.text.family)\n    let labelX = textMarginLeft\n    const labelY = candleTooltipOptions.text.marginTop\n    labels.forEach((label, i) => {\n      const labelWidth = calcTextWidth(this._ctx, label)\n      renderText(this._ctx, textColor, labelX, labelY, label)\n      labelX += labelWidth\n\n      const value = values[i] || candleTooltipOptions.defaultValue\n      let valueText\n      let valueColor\n      if (isObject(value)) {\n        valueText = value.value || candleTooltipOptions.defaultValue\n        valueColor = value.color || textColor\n      } else {\n        valueColor = textColor\n        valueText = value\n      }\n      const textWidth = calcTextWidth(this._ctx, valueText)\n      renderText(this._ctx, valueColor, labelX, labelY, valueText)\n      labelX += (textWidth + textMarginLeft + textMarginRight)\n    })\n  }\n\n  /**\n   * 绘制蜡烛图矩形类型图例\n   * @param crosshair\n   * @param techs\n   * @param candleOptions\n   * @param isDrawCandleTooltip\n   * @param techOptions\n   * @param isDrawTechTooltip\n   * @private\n   */\n  _drawCandleTooltipWithRect (\n    crosshair, techs, candleOptions, isDrawCandleTooltip,\n    techOptions, isDrawTechTooltip\n  ) {\n    if (!isDrawCandleTooltip && !isDrawTechTooltip) {\n      return\n    }\n    const candleTooltipOptions = candleOptions.tooltip\n    const baseLabels = candleTooltipOptions.labels\n    const baseValues = this._getCandleTooltipData(crosshair.kLineData, candleOptions)\n    const baseTextMarginLeft = candleTooltipOptions.text.marginLeft\n    const baseTextMarginRight = candleTooltipOptions.text.marginRight\n    const baseTextMarginTop = candleTooltipOptions.text.marginTop\n    const baseTextMarginBottom = candleTooltipOptions.text.marginBottom\n    const baseTextSize = candleTooltipOptions.text.size\n    const baseTextColor = candleTooltipOptions.text.color\n\n    const rectOptions = candleTooltipOptions.rect\n    const rectBorderSize = rectOptions.borderSize\n    const rectPaddingLeft = rectOptions.paddingLeft\n    const rectPaddingRight = rectOptions.paddingRight\n    const rectPaddingTop = rectOptions.paddingTop\n    const rectPaddingBottom = rectOptions.paddingBottom\n    const rectLeft = rectOptions.offsetLeft\n    const rectRight = rectOptions.offsetRight\n\n    let maxLabelWidth = 0\n    let rectWidth = 0\n    let rectHeight = 0\n    this._ctx.save()\n    this._ctx.textBaseline = 'top'\n    if (isDrawCandleTooltip) {\n      this._ctx.font = createFont(baseTextSize, candleTooltipOptions.text.weight, candleTooltipOptions.text.family)\n      baseLabels.forEach((label, i) => {\n        const value = baseValues[i]\n        let v\n        if (isObject(value)) {\n          v = value.value || candleTooltipOptions.defaultValue\n        } else {\n          v = value\n        }\n        const text = `${label}${v}`\n        const labelWidth = calcTextWidth(this._ctx, text) + baseTextMarginLeft + baseTextMarginRight\n        maxLabelWidth = Math.max(maxLabelWidth, labelWidth)\n      })\n      rectHeight += ((baseTextMarginBottom + baseTextMarginTop + baseTextSize) * baseLabels.length)\n    }\n\n    const techTooltipOptions = techOptions.tooltip\n\n    const techTooltipTextMarginLeft = techTooltipOptions.text.marginLeft\n    const techTooltipTextMarginRight = techTooltipOptions.text.marginRight\n    const techTooltipTextMarginTop = techTooltipOptions.text.marginTop\n    const techTooltipTextMarginBottom = techTooltipOptions.text.marginBottom\n    const techTooltipTextSize = techTooltipOptions.text.size\n    const techTooltipDataList = []\n    techs.forEach(tech => { techTooltipDataList.push(this._getTechTooltipData(crosshair, tech, techOptions)) })\n    if (isDrawTechTooltip) {\n      this._ctx.font = createFont(\n        techTooltipTextSize,\n        techTooltipOptions.text.weight,\n        techTooltipOptions.text.family\n      )\n      techTooltipDataList.forEach(tooltipData => {\n        tooltipData.values.forEach(({ title, value }) => {\n          if (isValid(title)) {\n            const text = `${title}${value}`\n            const labelWidth = calcTextWidth(this._ctx, text) + techTooltipTextMarginLeft + techTooltipTextMarginRight\n            maxLabelWidth = Math.max(maxLabelWidth, labelWidth)\n            rectHeight += (techTooltipTextMarginTop + techTooltipTextMarginBottom + techTooltipTextSize)\n          }\n        })\n      })\n    }\n    rectWidth += maxLabelWidth\n    if (rectWidth === 0 || rectHeight === 0) {\n      return\n    }\n    rectWidth += (rectBorderSize * 2 + rectPaddingLeft + rectPaddingRight)\n    rectHeight += (rectBorderSize * 2 + rectPaddingTop + rectPaddingBottom)\n    const centerX = this._width / 2\n    let rectX\n    if (crosshair.realX < centerX) {\n      rectX = this._width - rectRight - rectWidth\n    } else {\n      rectX = rectLeft\n    }\n    const rectY = rectOptions.offsetTop\n    const radius = rectOptions.borderRadius\n    renderFillRoundRect(this._ctx, rectOptions.backgroundColor, rectX, rectY, rectWidth, rectHeight, radius)\n    renderStrokeRoundRect(this._ctx, rectOptions.borderColor, rectBorderSize, rectX, rectY, rectWidth, rectHeight, radius)\n    const baseLabelX = rectX + rectBorderSize + rectPaddingLeft + baseTextMarginLeft\n    let labelY = rectY + rectBorderSize + rectPaddingTop\n    if (isDrawCandleTooltip) {\n      // 开始渲染基础数据文字\n      this._ctx.font = createFont(\n        baseTextSize,\n        candleTooltipOptions.text.weight,\n        candleTooltipOptions.text.family\n      )\n      baseLabels.forEach((label, i) => {\n        labelY += baseTextMarginTop\n        this._ctx.textAlign = 'left'\n        renderText(this._ctx, baseTextColor, baseLabelX, labelY, label)\n\n        const value = baseValues[i]\n        let text\n        let color\n        if (isObject(value)) {\n          color = value.color || baseTextColor\n          text = value.value || candleTooltipOptions.defaultValue\n        } else {\n          color = baseTextColor\n          text = value || candleTooltipOptions.defaultValue\n        }\n        this._ctx.textAlign = 'right'\n        renderText(\n          this._ctx,\n          color,\n          rectX + rectWidth - rectBorderSize - baseTextMarginRight - rectPaddingRight,\n          labelY,\n          text\n        )\n        labelY += (baseTextSize + baseTextMarginBottom)\n      })\n    }\n    if (isDrawTechTooltip) {\n      // 开始渲染指标数据文字\n      const indicatorLabelX = rectX + rectBorderSize + rectPaddingLeft + techTooltipTextMarginLeft\n      this._ctx.font = createFont(\n        techTooltipTextSize,\n        techTooltipOptions.text.weight,\n        techTooltipOptions.text.family\n      )\n      techTooltipDataList.forEach(tooltipData => {\n        tooltipData.values.forEach(v => {\n          labelY += techTooltipTextMarginTop\n          this._ctx.textAlign = 'left'\n          this._ctx.fillStyle = v.color || techTooltipOptions.text.color\n          this._ctx.fillText(v.title, indicatorLabelX, labelY)\n          this._ctx.textAlign = 'right'\n          this._ctx.fillText(\n            v.value,\n            rectX + rectWidth - rectBorderSize - techTooltipTextMarginRight - rectPaddingRight,\n            labelY\n          )\n          labelY += (techTooltipTextSize + techTooltipTextMarginBottom)\n        })\n      })\n    }\n    this._ctx.restore()\n  }\n\n  /**\n   * 获取蜡烛提示数据\n   * @param kLineData\n   * @param candleOptions\n   * @returns {*}\n   * @private\n   */\n  _getCandleTooltipData (kLineData, candleOptions) {\n    const baseValues = candleOptions.tooltip.values\n    let values = []\n    if (baseValues) {\n      if (isFunction(baseValues)) {\n        values = baseValues(kLineData, candleOptions) || []\n      } else if (isArray(baseValues)) {\n        values = baseValues\n      }\n    } else {\n      const pricePrecision = this._chartStore.pricePrecision()\n      const volumePrecision = this._chartStore.volumePrecision()\n      values = [\n        formatValue(kLineData, 'timestamp'),\n        formatValue(kLineData, 'open'),\n        formatValue(kLineData, 'close'),\n        formatValue(kLineData, 'high'),\n        formatValue(kLineData, 'low'),\n        formatValue(kLineData, 'volume')\n      ]\n      values.forEach((value, index) => {\n        switch (index) {\n          case 0: {\n            values[index] = formatDate(this._chartStore.timeScaleStore().dateTimeFormat(), value, 'YYYY-MM-DD hh:mm')\n            break\n          }\n          case values.length - 1: {\n            values[index] = formatBigNumber(formatPrecision(value, volumePrecision))\n            break\n          }\n          default: {\n            values[index] = formatPrecision(value, pricePrecision)\n            break\n          }\n        }\n      })\n    }\n    return values\n  }\n}\n","/**\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n\n * http://www.apache.org/licenses/LICENSE-2.0\n\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport CandleView from '../view/CandleView'\nimport CandleOverlayView from '../view/CandleOverlayView'\nimport TechnicalIndicatorWidget from './TechnicalIndicatorWidget'\n\nexport default class CandleWidget extends TechnicalIndicatorWidget {\n  _createMainView (container, props) {\n    return new CandleView(container, props.chartStore, props.xAxis, props.yAxis, props.paneId)\n  }\n\n  _createOverlayView (container, props) {\n    return new CandleOverlayView(container, props.chartStore, props.xAxis, props.yAxis, props.paneId)\n  }\n}\n","/**\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n\n * http://www.apache.org/licenses/LICENSE-2.0\n\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport TechnicalIndicatorPane from './TechnicalIndicatorPane'\nimport CandleWidget from '../widget/CandleWidget'\nimport YAxis from '../component/axis/YAxis'\n\nexport default class CandlePane extends TechnicalIndicatorPane {\n  _createYAxis (props) {\n    return new YAxis(props.chartStore, true, props.id)\n  }\n\n  _createMainWidget (container, props) {\n    return new CandleWidget({\n      container,\n      chartStore: props.chartStore,\n      xAxis: props.xAxis,\n      yAxis: this._yAxis,\n      paneId: props.id\n    })\n  }\n}\n","/**\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n\n * http://www.apache.org/licenses/LICENSE-2.0\n\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport View from './View'\nimport { renderHorizontalLine, renderVerticalLine } from '../renderer/line'\nimport { createFont } from '../utils/canvas'\n\nexport default class XAxisView extends View {\n  constructor (container, chartStore, xAxis) {\n    super(container, chartStore)\n    this._xAxis = xAxis\n  }\n\n  _draw () {\n    const xAxisOptions = this._chartStore.styleOptions().xAxis\n    if (xAxisOptions.show) {\n      this._drawAxisLine(xAxisOptions)\n      this._drawTickLines(xAxisOptions)\n      this._drawTickLabels(xAxisOptions)\n    }\n  }\n\n  _drawAxisLine (xAxisOptions) {\n    const xAxisLine = xAxisOptions.axisLine\n    if (!xAxisLine.show) {\n      return\n    }\n    this._ctx.strokeStyle = xAxisLine.color\n    this._ctx.lineWidth = xAxisLine.size\n    renderHorizontalLine(this._ctx, 0, 0, this._width)\n  }\n\n  _drawTickLines (xAxisOptions) {\n    const tickLine = xAxisOptions.tickLine\n    if (!tickLine.show) {\n      return\n    }\n    this._ctx.lineWidth = tickLine.size\n    this._ctx.strokeStyle = tickLine.color\n\n    const startY = xAxisOptions.axisLine.show ? xAxisOptions.axisLine.size : 0\n\n    const endY = startY + tickLine.length\n    this._xAxis.ticks().forEach(tick => {\n      renderVerticalLine(this._ctx, tick.x, startY, endY)\n    })\n  }\n\n  _drawTickLabels (xAxisOptions) {\n    const tickText = xAxisOptions.tickText\n    if (!tickText.show) {\n      return\n    }\n    const tickLine = xAxisOptions.tickLine\n\n    this._ctx.textBaseline = 'top'\n    this._ctx.font = createFont(tickText.size, tickText.weight, tickText.family)\n    this._ctx.textAlign = 'center'\n    this._ctx.fillStyle = tickText.color\n\n    let labelY = tickText.paddingTop\n    if (xAxisOptions.axisLine.show) {\n      labelY += (xAxisOptions.axisLine.size)\n    }\n    if (tickLine.show) {\n      labelY += (tickLine.length)\n    }\n    const ticks = this._xAxis.ticks()\n    const tickLength = ticks.length\n    for (let i = 0; i < tickLength; i++) {\n      this._ctx.fillText(ticks[i].v, ticks[i].x, labelY)\n    }\n  }\n}\n","/**\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n\n * http://www.apache.org/licenses/LICENSE-2.0\n\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport View from './View'\n\nimport { formatDate } from '../utils/format'\nimport { getTextRectWidth, getTextRectHeight } from '../utils/canvas'\nimport { renderStrokeFillRoundRect } from '../renderer/rect'\nimport { renderText } from '../renderer/text'\n\nexport default class XAxisOverlayView extends View {\n  constructor (container, chartStore, xAxis) {\n    super(container, chartStore)\n    this._xAxis = xAxis\n  }\n\n  _draw () {\n    this._drawCrosshairLabel()\n  }\n\n  _drawCrosshairLabel () {\n    const crosshair = this._chartStore.crosshairStore().get()\n    if (!crosshair.paneId) {\n      return\n    }\n    const crosshairOptions = this._chartStore.styleOptions().crosshair\n    const crosshairVerticalOptions = crosshairOptions.vertical\n    const crosshairVerticalTextOptions = crosshairVerticalOptions.text\n    if (\n      !crosshairOptions.show ||\n      !crosshairVerticalOptions.show ||\n      !crosshairVerticalTextOptions.show ||\n      crosshair.dataIndex !== crosshair.realDataIndex\n    ) {\n      return\n    }\n\n    const timestamp = crosshair.kLineData.timestamp\n    const text = formatDate(this._chartStore.timeScaleStore().dateTimeFormat(), timestamp, 'YYYY-MM-DD hh:mm')\n\n    const paddingLeft = crosshairVerticalTextOptions.paddingLeft\n    const paddingRight = crosshairVerticalTextOptions.paddingRight\n    const paddingTop = crosshairVerticalTextOptions.paddingTop\n    const borderSize = crosshairVerticalTextOptions.borderSize\n\n    const rectWidth = getTextRectWidth(this._ctx, text, crosshairVerticalTextOptions)\n    const rectHeight = getTextRectHeight(crosshairVerticalTextOptions)\n    const labelWidth = rectWidth - borderSize * 2 - paddingLeft - paddingRight\n\n    let labelX = crosshair.realX - labelWidth / 2\n\n    // 保证整个x轴上的提示文字总是完全显示\n    if (labelX < paddingLeft + borderSize) {\n      labelX = paddingLeft + borderSize\n    } else if (labelX > this._width - labelWidth - borderSize - paddingRight) {\n      labelX = this._width - labelWidth - borderSize - paddingRight\n    }\n\n    const rectX = labelX - borderSize - paddingLeft\n\n    renderStrokeFillRoundRect(\n      this._ctx,\n      crosshairVerticalTextOptions.backgroundColor,\n      crosshairVerticalTextOptions.borderColor,\n      borderSize,\n      rectX,\n      0,\n      rectWidth,\n      rectHeight,\n      crosshairVerticalTextOptions.borderRadius\n    )\n    // 绘制轴上的提示文字\n    this._ctx.textBaseline = 'top'\n    renderText(\n      this._ctx, crosshairVerticalTextOptions.color,\n      labelX, borderSize + paddingTop, text\n    )\n  }\n}\n","/**\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n\n * http://www.apache.org/licenses/LICENSE-2.0\n\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport Widget from './Widget'\nimport XAxisView from '../view/XAxisView'\nimport XAxisOverlayView from '../view/XAxisOverlayView'\n\nexport default class XAxisWidget extends Widget {\n  _createMainView (container, props) {\n    return new XAxisView(container, props.chartStore, props.xAxis)\n  }\n\n  _createOverlayView (container, props) {\n    return new XAxisOverlayView(container, props.chartStore, props.xAxis)\n  }\n}\n","/**\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n\n * http://www.apache.org/licenses/LICENSE-2.0\n\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport Axis from './Axis'\nimport { calcTextWidth, createFont } from '../../utils/canvas'\nimport { formatDate } from '../../utils/format'\nimport { isNumber } from '../../utils/typeChecks'\n\nexport default class XAxis extends Axis {\n  _computeMinMax () {\n    return { min: this._chartStore.timeScaleStore().from(), max: this._chartStore.timeScaleStore().to() - 1 }\n  }\n\n  _optimalMinMax ({ min, max }) {\n    return {\n      min,\n      max,\n      range: max - min + 1\n    }\n  }\n\n  _optimalTicks (ticks) {\n    const optimalTicks = []\n    const tickLength = ticks.length\n    const dataList = this._chartStore.dataList()\n    if (tickLength > 0) {\n      const dateTimeFormat = this._chartStore.timeScaleStore().dateTimeFormat()\n      const tickText = this._chartStore.styleOptions().xAxis.tickText\n      this._measureCtx.font = createFont(tickText.size, tickText.weight, tickText.family)\n      const defaultLabelWidth = calcTextWidth(this._measureCtx, '00-00 00:00')\n      const pos = parseInt(ticks[0].v, 10)\n      const x = this.convertToPixel(pos)\n      let tickCountDif = 1\n      if (tickLength > 1) {\n        const nextPos = parseInt(ticks[1].v, 10)\n        const nextX = this.convertToPixel(nextPos)\n        const xDif = Math.abs(nextX - x)\n        if (xDif < defaultLabelWidth) {\n          tickCountDif = Math.ceil(defaultLabelWidth / xDif)\n        }\n      }\n      for (let i = 0; i < tickLength; i += tickCountDif) {\n        const pos = parseInt(ticks[i].v, 10)\n        const kLineData = dataList[pos]\n        const timestamp = kLineData.timestamp\n        let label = formatDate(dateTimeFormat, timestamp, 'hh:mm')\n        if (i !== 0) {\n          const prePos = parseInt(ticks[i - tickCountDif].v, 10)\n          const preKLineData = dataList[prePos]\n          const preTimestamp = preKLineData.timestamp\n          label = this._optimalTickLabel(dateTimeFormat, timestamp, preTimestamp) || label\n        }\n        const x = this.convertToPixel(pos)\n        optimalTicks.push({ v: label, x, oV: timestamp })\n      }\n      const optimalTickLength = optimalTicks.length\n      if (optimalTickLength === 1) {\n        optimalTicks[0].v = formatDate(dateTimeFormat, optimalTicks[0].oV, 'YYYY-MM-DD hh:mm')\n      } else {\n        const firstTimestamp = optimalTicks[0].oV\n        const secondTimestamp = optimalTicks[1].oV\n        if (optimalTicks[2]) {\n          const thirdV = optimalTicks[2].v\n          if (/^[0-9]{2}-[0-9]{2}$/.test(thirdV)) {\n            optimalTicks[0].v = formatDate(dateTimeFormat, firstTimestamp, 'MM-DD')\n          } else if (/^[0-9]{4}-[0-9]{2}$/.test(thirdV)) {\n            optimalTicks[0].v = formatDate(dateTimeFormat, firstTimestamp, 'YYYY-MM')\n          } else if (/^[0-9]{4}$/.test(thirdV)) {\n            optimalTicks[0].v = formatDate(dateTimeFormat, firstTimestamp, 'YYYY')\n          }\n        } else {\n          optimalTicks[0].v = this._optimalTickLabel(dateTimeFormat, firstTimestamp, secondTimestamp) || optimalTicks[0].v\n        }\n      }\n    }\n    return optimalTicks\n  }\n\n  _optimalTickLabel (dateTimeFormat, timestamp, comparedTimestamp) {\n    const year = formatDate(dateTimeFormat, timestamp, 'YYYY')\n    const month = formatDate(dateTimeFormat, timestamp, 'YYYY-MM')\n    const day = formatDate(dateTimeFormat, timestamp, 'MM-DD')\n    if (year !== formatDate(dateTimeFormat, comparedTimestamp, 'YYYY')) {\n      return year\n    } else if (month !== formatDate(dateTimeFormat, comparedTimestamp, 'YYYY-MM')) {\n      return month\n    } else if (day !== formatDate(dateTimeFormat, comparedTimestamp, 'MM-DD')) {\n      return day\n    }\n    return null\n  }\n\n  /**\n   * 获取自身高度\n   */\n  getSelfHeight () {\n    const stylOptions = this._chartStore.styleOptions()\n    const xAxisOptions = stylOptions.xAxis\n    const height = xAxisOptions.height\n    if (isNumber(height)) {\n      return height\n    }\n    const crosshairOptions = stylOptions.crosshair\n    let xAxisHeight = 0\n    if (xAxisOptions.show) {\n      if (xAxisOptions.axisLine.show) {\n        xAxisHeight += xAxisOptions.axisLine.size\n      }\n      if (xAxisOptions.tickLine.show) {\n        xAxisHeight += xAxisOptions.tickLine.length\n      }\n      if (xAxisOptions.tickText.show) {\n        xAxisHeight += (xAxisOptions.tickText.paddingTop + xAxisOptions.tickText.paddingBottom + xAxisOptions.tickText.size)\n      }\n    }\n    let crosshairVerticalTextHeight = 0\n    if (\n      crosshairOptions.show &&\n      crosshairOptions.vertical.show &&\n      crosshairOptions.vertical.text.show\n    ) {\n      crosshairVerticalTextHeight += (\n        crosshairOptions.vertical.text.paddingTop +\n        crosshairOptions.vertical.text.paddingBottom +\n        crosshairOptions.vertical.text.borderSize * 2 +\n        crosshairOptions.vertical.text.size\n      )\n    }\n    return Math.max(xAxisHeight, crosshairVerticalTextHeight)\n  }\n\n  convertFromPixel (pixel) {\n    return this._chartStore.timeScaleStore().coordinateToDataIndex(pixel)\n  }\n\n  convertToPixel (value) {\n    return this._chartStore.timeScaleStore().dataIndexToCoordinate(value)\n  }\n}\n","/**\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n\n * http://www.apache.org/licenses/LICENSE-2.0\n\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport Pane from './Pane'\nimport XAxisWidget from '../widget/XAxisWidget'\nimport XAxis from '../component/axis/XAxis'\n\nexport default class XAxisPane extends Pane {\n  _initBefore () {\n    this._xAxis = new XAxis(this._chartStore)\n  }\n\n  _createMainWidget (container, props) {\n    return new XAxisWidget({ container, chartStore: props.chartStore, xAxis: this._xAxis })\n  }\n\n  xAxis () {\n    return this._xAxis\n  }\n\n  setWidth (mainWidgetWidth, yAxisWidgetWidth) {\n    super.setWidth(mainWidgetWidth, yAxisWidgetWidth)\n    this._xAxis.setWidth(mainWidgetWidth)\n  }\n\n  setHeight (height) {\n    super.setHeight(height)\n    this._xAxis.setHeight(height)\n  }\n}\n","/**\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n\n * http://www.apache.org/licenses/LICENSE-2.0\n\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nexport const EventType = {\n  MOUSE: 'mouse',\n  TOUCH: 'touch'\n}\n\nexport function isTouch (event) {\n  return event.type === EventType.TOUCH\n}\n\nexport function isMouse (event) {\n  return event.type === EventType.MOUSE\n}\n","/**\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n\n * http://www.apache.org/licenses/LICENSE-2.0\n\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n/**\n * The file comes from tradingview/lightweight-charts\n * https://www.tradingview.com/\n * Convert files from typescript to javascript.\n * Modified the class name.\n * The use of the source code of this file is also subject to the terms\n * and consitions of the license of \"lightweight-charts\" (Apache License V2, see\n * </licenses/LICENSE-lightweight-charts>).\n */\n\nimport { EventType } from './eventTypeChecks'\n\nconst MouseEventButton = {\n  LEFT: 0,\n  RIGHT: 2\n}\n\nconst DELAY_RESET_CLICK = 500\nconst DELAY_LONG_TAG = 600\n\nfunction getBoundingClientRect (element) {\n  return element.getBoundingClientRect() || { left: 0, top: 0 }\n}\n\nfunction isTouchEvent (event) {\n  return Boolean(event.touches)\n}\n\nfunction preventDefault (event) {\n  if (event.cancelable) {\n    event.preventDefault()\n  }\n}\n\nfunction mobileTouch () {\n  let touchEvent\n  if ('ontouchstart' in window) {\n    touchEvent = true\n  } else {\n    touchEvent = Boolean(window.DocumentTouch && document instanceof window.DocumentTouch)\n  }\n  return ('onorientationchange' in window) && (!!navigator.maxTouchPoints || !!navigator.msMaxTouchPoints || touchEvent)\n}\n\nfunction getDistance (p1, p2) {\n  const xDiff = p1.clientX - p2.clientX\n  const yDiff = p1.clientY - p2.clientY\n  return Math.sqrt(xDiff * xDiff + yDiff * yDiff)\n}\n\nexport default class EventBase {\n  constructor (target, eventHandler, options) {\n    this._target = target\n    this._handler = eventHandler\n    this._options = options\n\n    this._clickCount = 0\n    this._clickTimeoutId = null\n    this._longTapTimeoutId = null\n    this._longTapActive = false\n    this._mouseMoveStartPosition = null\n    this._moveExceededManhattanDistance = false\n    this._cancelClick = false\n    this._unsubscribeOutsideEvents = null\n    this._unsubscribeMousemove = null\n    this._unsubscribeRoot = null\n\n    this._startPinchMiddleCoordinate = null\n    this._startPinchDistance = 0\n    this._pinchPrevented = false\n    this._preventDragProcess = false\n\n    this._mousePressed = false\n\n    this._init()\n  }\n\n  setOptions (options = {}) {\n    this._options = { ...this.options, ...options }\n  }\n\n  destroy () {\n    if (this._unsubscribeOutsideEvents !== null) {\n      this._unsubscribeOutsideEvents()\n      this._unsubscribeOutsideEvents = null\n    }\n\n    if (this._unsubscribeMousemove !== null) {\n      this._unsubscribeMousemove()\n      this._unsubscribeMousemove = null\n    }\n\n    if (this._unsubscribeRoot !== null) {\n      this._unsubscribeRoot()\n      this._unsubscribeRoot = null\n    }\n\n    this._clearLongTapTimeout()\n    this._resetClickTimeout()\n  }\n\n  _mouseEnterHandler (enterEvent) {\n    if (this._unsubscribeMousemove) {\n      this._unsubscribeMousemove()\n    }\n\n    {\n      const boundMouseMoveHandler = this._mouseMoveHandler.bind(this)\n      const boundMouseWheelHandler = this._mouseWheelHandler.bind(this)\n      this._unsubscribeMousemove = () => {\n        this._target.removeEventListener('mousemove', boundMouseMoveHandler)\n        this._target.removeEventListener('wheel', boundMouseWheelHandler)\n      }\n      this._target.addEventListener('mousemove', boundMouseMoveHandler)\n      this._target.addEventListener('wheel', boundMouseWheelHandler, { passive: false })\n    }\n\n    if (isTouchEvent(enterEvent)) {\n      this._mouseMoveHandler(enterEvent)\n    }\n\n    const compatEvent = this._makeCompatEvent(enterEvent)\n    this._processEvent(compatEvent, this._handler.mouseEnterEvent)\n  }\n\n  _resetClickTimeout () {\n    if (this._clickTimeoutId !== null) {\n      clearTimeout(this._clickTimeoutId)\n    }\n\n    this._clickCount = 0\n    this._clickTimeoutId = null\n  }\n\n  _mouseMoveHandler (moveEvent) {\n    if (this._mousePressed && !isTouchEvent(moveEvent)) {\n      return\n    }\n\n    const compatEvent = this._makeCompatEvent(moveEvent)\n    this._processEvent(compatEvent, this._handler.mouseMoveEvent)\n  }\n\n  _mouseWheelHandler (wheelEvent) {\n    const compatEvent = this._makeCompatEvent(wheelEvent)\n    wheelEvent.localX = compatEvent.localX\n    wheelEvent.localY = compatEvent.localY\n    this._processEvent(wheelEvent, this._handler.mouseWheelEvent)\n  }\n\n  _mouseMoveWithDownHandler (moveEvent) {\n    if ('button' in moveEvent && moveEvent.button !== MouseEventButton.LEFT) {\n      return\n    }\n\n    if (this._startPinchMiddleCoordinate !== null) {\n      return\n    }\n\n    const isTouch = isTouchEvent(moveEvent)\n    if (this._preventDragProcess && isTouch) {\n      return\n    }\n\n    this._pinchPrevented = true\n\n    const compatEvent = this._makeCompatEvent(moveEvent)\n\n    const startMouseMovePos = this._mouseMoveStartPosition\n    const xOffset = Math.abs(startMouseMovePos.x - compatEvent.pageX)\n    const yOffset = Math.abs(startMouseMovePos.y - compatEvent.pageY)\n\n    const moveExceededManhattanDistance = xOffset + yOffset > 5\n\n    if (!moveExceededManhattanDistance && isTouch) {\n      return\n    }\n\n    if (moveExceededManhattanDistance && !this._moveExceededManhattanDistance && isTouch) {\n      // vertical drag is more important than horizontal drag\n      // because we scroll the page vertically often than horizontally\n      const correctedXOffset = xOffset * 0.5\n\n      // a drag can be only if touch page scroll isn't allowed\n      const isVertDrag = yOffset >= correctedXOffset && !this._options.treatVertTouchDragAsPageScroll\n      const isHorzDrag = correctedXOffset > yOffset && !this._options.treatHorzTouchDragAsPageScroll\n\n      // if drag event happened then we should revert preventDefault state to original one\n      // and try to process the drag event\n      // else we shouldn't prevent default of the event and ignore processing the drag event\n      if (!isVertDrag && !isHorzDrag) {\n        this._preventDragProcess = true\n      }\n    }\n\n    if (moveExceededManhattanDistance) {\n      this._moveExceededManhattanDistance = true\n\n      // if manhattan distance is more that 5 - we should cancel click event\n      this._cancelClick = true\n\n      if (isTouch) {\n        this._clearLongTapTimeout()\n      }\n    }\n\n    if (!this._preventDragProcess) {\n      this._processEvent(compatEvent, this._handler.pressedMouseMoveEvent)\n\n      // we should prevent default in case of touch only\n      // to prevent scroll of the page\n      if (isTouch) {\n        preventDefault(moveEvent)\n      }\n    }\n  }\n\n  _mouseUpHandler (mouseUpEvent) {\n    if ('button' in mouseUpEvent && mouseUpEvent.button !== MouseEventButton.LEFT) {\n      return\n    }\n    const compatEvent = this._makeCompatEvent(mouseUpEvent)\n\n    this._clearLongTapTimeout()\n\n    this._mouseMoveStartPosition = null\n\n    this._mousePressed = false\n\n    if (this._unsubscribeRoot) {\n      this._unsubscribeRoot()\n      this._unsubscribeRoot = null\n    }\n\n    if (isTouchEvent(mouseUpEvent)) {\n      this._mouseLeaveHandler(mouseUpEvent)\n    }\n\n    this._processEvent(compatEvent, this._handler.mouseUpEvent)\n    ++this._clickCount\n    if (this._clickTimeoutId && this._clickCount > 1) {\n      this._processEvent(compatEvent, this._handler.mouseDoubleClickEvent)\n      this._resetClickTimeout()\n    } else {\n      if (!this._cancelClick) {\n        this._processEvent(compatEvent, this._handler.mouseClickEvent)\n      }\n    }\n\n    // prevent safari's dblclick-to-zoom\n    // we handle mouseDoubleClickEvent here ourself\n    if (isTouchEvent(mouseUpEvent)) {\n      preventDefault(mouseUpEvent)\n\n      this._mouseLeaveHandler(mouseUpEvent)\n\n      if (mouseUpEvent.touches.length === 0) {\n        this._longTapActive = false\n      }\n    }\n  }\n\n  _clearLongTapTimeout () {\n    if (this._longTapTimeoutId === null) {\n      return\n    }\n\n    clearTimeout(this._longTapTimeoutId)\n    this._longTapTimeoutId = null\n  }\n\n  _mouseDownHandler (downEvent) {\n    if ('button' in downEvent && downEvent.button !== MouseEventButton.LEFT && downEvent.button !== MouseEventButton.RIGHT) {\n      return\n    }\n    const compatEvent = this._makeCompatEvent(downEvent)\n    if ('button' in downEvent && downEvent.button === MouseEventButton.RIGHT) {\n      this._processEvent(compatEvent, this._handler.mouseRightDownEvent)\n      return\n    }\n    this._cancelClick = false\n    this._moveExceededManhattanDistance = false\n    this._preventDragProcess = false\n\n    if (isTouchEvent(downEvent)) {\n      this._mouseEnterHandler(downEvent)\n    }\n\n    this._mouseMoveStartPosition = {\n      x: compatEvent.pageX,\n      y: compatEvent.pageY\n    }\n\n    if (this._unsubscribeRoot) {\n      this._unsubscribeRoot()\n      this._unsubscribeRoot = null\n    }\n\n    {\n      const boundMouseMoveWithDownHandler = this._mouseMoveWithDownHandler.bind(this)\n      const boundMouseUpHandler = this._mouseUpHandler.bind(this)\n      const rootElement = this._target.ownerDocument.documentElement\n\n      this._unsubscribeRoot = () => {\n        rootElement.removeEventListener('touchmove', boundMouseMoveWithDownHandler)\n        rootElement.removeEventListener('touchend', boundMouseUpHandler)\n\n        rootElement.removeEventListener('mousemove', boundMouseMoveWithDownHandler)\n        rootElement.removeEventListener('mouseup', boundMouseUpHandler)\n      }\n\n      rootElement.addEventListener('touchmove', boundMouseMoveWithDownHandler, { passive: false })\n      rootElement.addEventListener('touchend', boundMouseUpHandler, { passive: false })\n\n      this._clearLongTapTimeout()\n\n      if (isTouchEvent(downEvent) && downEvent.touches.length === 1) {\n        this._longTapTimeoutId = setTimeout(this._longTapHandler.bind(this, downEvent), DELAY_LONG_TAG)\n      } else {\n        rootElement.addEventListener('mousemove', boundMouseMoveWithDownHandler)\n        rootElement.addEventListener('mouseup', boundMouseUpHandler)\n      }\n    }\n\n    this._mousePressed = true\n    this._processEvent(compatEvent, this._handler.mouseDownEvent)\n\n    if (!this._clickTimeoutId) {\n      this._clickCount = 0\n      this._clickTimeoutId = setTimeout(this._resetClickTimeout.bind(this), DELAY_RESET_CLICK)\n    }\n  }\n\n  _init () {\n    this._target.addEventListener('mouseenter', this._mouseEnterHandler.bind(this))\n\n    this._target.addEventListener('touchcancel', this._clearLongTapTimeout.bind(this))\n\n    {\n      const doc = this._target.ownerDocument\n\n      const outsideHandler = (event) => {\n        if (!this._handler.mouseDownOutsideEvent) {\n          return\n        }\n        if (event.target && this._target.contains(event.target)) {\n          return\n        }\n        this._handler.mouseDownOutsideEvent()\n      }\n\n      this._unsubscribeOutsideEvents = () => {\n        doc.removeEventListener('mousedown', outsideHandler)\n        doc.removeEventListener('touchstart', outsideHandler)\n      }\n\n      doc.addEventListener('mousedown', outsideHandler)\n      doc.addEventListener('touchstart', outsideHandler, { passive: true })\n    }\n\n    this._target.addEventListener('mouseleave', this._mouseLeaveHandler.bind(this))\n\n    this._target.addEventListener('touchstart', this._mouseDownHandler.bind(this), { passive: true })\n    if (!mobileTouch()) {\n      this._target.addEventListener('mousedown', this._mouseDownHandler.bind(this))\n    }\n\n    this._initPinch()\n\n    // Hey mobile Safari, what's up?\n    // If mobile Safari doesn't have any touchmove handler with passive=false\n    // it treats a touchstart and the following touchmove events as cancelable=false,\n    // so we can't prevent them (as soon we subscribe on touchmove inside handler of touchstart).\n    // And we'll get scroll of the page along with chart's one instead of only chart's scroll.\n    this._target.addEventListener('touchmove', () => {}, { passive: false })\n  }\n\n  _initPinch () {\n    if (this._handler.pinchStartEvent === undefined &&\n      this._handler.pinchEvent === undefined &&\n      this._handler.pinchEndEvent === undefined\n    ) {\n      return\n    }\n\n    this._target.addEventListener(\n      'touchstart',\n      (event) => this._checkPinchState(event.touches),\n      { passive: true }\n    )\n\n    this._target.addEventListener(\n      'touchmove',\n      (event) => {\n        if (event.touches.length !== 2 || this._startPinchMiddleCoordinate === null) {\n          return\n        }\n\n        if (this._handler.pinchEvent !== undefined) {\n          const currentDistance = getDistance(event.touches[0], event.touches[1])\n          const scale = currentDistance / this._startPinchDistance\n          this._handler.pinchEvent(this._startPinchMiddleCoordinate, scale)\n          preventDefault(event)\n        }\n      },\n      { passive: false }\n    )\n\n    this._target.addEventListener('touchend', (event) => {\n      this._checkPinchState(event.touches)\n    })\n  }\n\n  _checkPinchState (touches) {\n    if (touches.length === 1) {\n      this._pinchPrevented = false\n    }\n\n    if (touches.length !== 2 || this._pinchPrevented || this._longTapActive) {\n      this._stopPinch()\n    } else {\n      this._startPinch(touches)\n    }\n  }\n\n  _startPinch (touches) {\n    const box = getBoundingClientRect(this._target)\n    this._startPinchMiddleCoordinate = {\n      x: ((touches[0].clientX - box.left) + (touches[1].clientX - box.left)) / 2,\n      y: ((touches[0].clientY - box.top) + (touches[1].clientY - box.top)) / 2\n    }\n\n    this._startPinchDistance = getDistance(touches[0], touches[1])\n\n    if (this._handler.pinchStartEvent !== undefined) {\n      this._handler.pinchStartEvent()\n    }\n\n    this._clearLongTapTimeout()\n  }\n\n  _stopPinch () {\n    if (this._startPinchMiddleCoordinate === null) {\n      return\n    }\n\n    this._startPinchMiddleCoordinate = null\n\n    if (this._handler.pinchEndEvent !== undefined) {\n      this._handler.pinchEndEvent()\n    }\n  }\n\n  _mouseLeaveHandler (event) {\n    if (this._unsubscribeMousemove) {\n      this._unsubscribeMousemove()\n    }\n    const compatEvent = this._makeCompatEvent(event)\n    this._processEvent(compatEvent, this._handler.mouseLeaveEvent)\n  }\n\n  _longTapHandler (event) {\n    const compatEvent = this._makeCompatEvent(event)\n    this._processEvent(compatEvent, this._handler.longTapEvent)\n    this._cancelClick = true\n\n    // long tap is active untill touchend event with 0 touches occured\n    this._longTapActive = true\n  }\n\n  _processEvent (event, callback) {\n    if (!callback) {\n      return\n    }\n    callback.call(this._handler, event)\n  }\n\n  _makeCompatEvent (event) {\n  // TouchEvent has no clientX/Y coordinates:\n  // We have to use the last Touch instead\n    let eventLike\n    if ('touches' in event && event.touches.length) {\n      eventLike = event.touches[0]\n    } else if ('changedTouches' in event && event.changedTouches.length) {\n      eventLike = event.changedTouches[0]\n    } else {\n      eventLike = event\n    }\n\n    const box = getBoundingClientRect(this._target)\n\n    return {\n      clientX: eventLike.clientX,\n      clientY: eventLike.clientY,\n      pageX: eventLike.pageX,\n      pageY: eventLike.pageY,\n      screenX: eventLike.screenX,\n      screenY: eventLike.screenY,\n      localX: eventLike.clientX - box.left,\n      localY: eventLike.clientY - box.top,\n\n      ctrlKey: event.ctrlKey,\n      altKey: event.altKey,\n      shiftKey: event.shiftKey,\n      metaKey: event.metaKey,\n\n      type: event.type.startsWith('mouse') ? EventType.MOUSE : EventType.TOUCH,\n\n      target: eventLike.target,\n      view: event.view\n    }\n  }\n}\n","/**\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n\n * http://www.apache.org/licenses/LICENSE-2.0\n\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport EventBase from '../event/EventBase'\nimport { getPixelRatio } from '../utils/canvas'\nimport { isValid } from '../utils/typeChecks'\nimport { createElement } from '../utils/element'\n\nexport default class SeparatorPane {\n  constructor (container, chartStore, topPaneId, bottomPaneId, dragEnabled, dragEventHandler) {\n    this._chartStore = chartStore\n    this._topPaneId = topPaneId\n    this._bottomPaneId = bottomPaneId\n    this._dragEnabled = dragEnabled\n    this._width = 0\n    this._offsetLeft = 0\n    this._dragEventHandler = dragEventHandler\n    this._dragFlag = false\n    this._initElement(container)\n    this._initEvent(dragEnabled)\n  }\n\n  /**\n   * 初始化dom元素\n   * @param container\n   * @private\n   */\n  _initElement (container) {\n    this._container = container\n    this._wrapper = createElement('div', {\n      margin: '0', padding: '0', position: 'relative', boxSizing: 'border-box'\n    })\n    this._element = createElement('div', {\n      width: '100%',\n      height: '7px',\n      margin: '0',\n      padding: '0',\n      position: 'absolute',\n      top: '-3px',\n      zIndex: '20',\n      boxSizing: 'border-box'\n    })\n    this._wrapper.appendChild(this._element)\n    const lastElement = container.lastChild\n    if (lastElement) {\n      container.insertBefore(this._wrapper, lastElement)\n    } else {\n      container.appendChild(this._wrapper)\n    }\n  }\n\n  /**\n   * 初始化事件\n   * @param dragEnabled\n   * @private\n   */\n  _initEvent (dragEnabled) {\n    if (dragEnabled) {\n      this._element.style.cursor = 'ns-resize'\n      this._dragEvent = new EventBase(this._element, {\n        mouseDownEvent: this._mouseDownEvent.bind(this),\n        mouseUpEvent: this._mouseUpEvent.bind(this),\n        pressedMouseMoveEvent: this._pressedMouseMoveEvent.bind(this),\n        mouseEnterEvent: this._mouseEnterEvent.bind(this),\n        mouseLeaveEvent: this._mouseLeaveEvent.bind(this)\n      }, {\n        treatVertTouchDragAsPageScroll: false,\n        treatHorzTouchDragAsPageScroll: true\n      })\n    }\n  }\n\n  _mouseDownEvent (event) {\n    this._dragFlag = true\n    this._startY = event.pageY\n    this._dragEventHandler.startDrag(this._topPaneId, this._bottomPaneId)\n  }\n\n  _mouseUpEvent () {\n    this._dragFlag = false\n    this._chartStore.setDragPaneFlag(false)\n  }\n\n  _pressedMouseMoveEvent (event) {\n    const dragDistance = event.pageY - this._startY\n    this._dragEventHandler.drag(dragDistance, this._topPaneId, this._bottomPaneId)\n    this._chartStore.setDragPaneFlag(true)\n    this._chartStore.crosshairStore().set()\n  }\n\n  _mouseEnterEvent () {\n    const separatorOptions = this._chartStore.styleOptions().separator\n    this._element.style.background = separatorOptions.activeBackgroundColor\n    // this._chartStore.setDragPaneFlag(true)\n    this._chartStore.crosshairStore().set()\n  }\n\n  _mouseLeaveEvent () {\n    if (!this._dragFlag) {\n      this._element.style.background = null\n      this._chartStore.setDragPaneFlag(false)\n    }\n  }\n\n  /**\n   * 获取高度\n   * @returns {number}\n   */\n  height () {\n    return this._wrapper.offsetHeight\n  }\n\n  /**\n   * 设置尺寸\n   * 用于fill属性\n   * @param offsetLeft\n   * @param width\n   */\n  setSize (offsetLeft, width) {\n    this._offsetLeft = offsetLeft\n    this._width = width\n    this.invalidate()\n  }\n\n  /**\n   * 设置是否可以拖拽\n   * @param dragEnabled\n   */\n  setDragEnabled (dragEnabled) {\n    if (dragEnabled !== this._dragEnabled) {\n      this._dragEnabled = dragEnabled\n      if (dragEnabled) {\n        !this._dragEvent && this._initEvent(dragEnabled)\n      } else {\n        this._element.style.cursor = 'default'\n        this._dragEvent && this._dragEvent.destroy()\n        this._dragEvent = null\n      }\n    }\n  }\n\n  /**\n   * 顶部paneId\n   * @return {*}\n   */\n  topPaneId () {\n    return this._topPaneId\n  }\n\n  /**\n   * 底部paneId\n   * @return {*}\n   */\n  bottomPaneId () {\n    return this._bottomPaneId\n  }\n\n  /**\n   * 更新上下两个图表的索引\n   * @param topPaneId\n   * @param bottomPaneId\n   */\n  updatePaneId (topPaneId, bottomPaneId) {\n    if (isValid(topPaneId)) {\n      this._topPaneId = topPaneId\n    }\n    if (isValid(bottomPaneId)) {\n      this._bottomPaneId = bottomPaneId\n    }\n  }\n\n  /**\n   * 刷新\n   */\n  invalidate () {\n    const separatorOptions = this._chartStore.styleOptions().separator\n    this._element.style.top = `${-Math.floor((7 - separatorOptions.size) / 2)}px`\n    this._wrapper.style.backgroundColor = separatorOptions.color\n    this._wrapper.style.height = `${separatorOptions.size}px`\n    this._wrapper.style.marginLeft = `${separatorOptions.fill ? 0 : this._offsetLeft}px`\n    this._wrapper.style.width = separatorOptions.fill ? '100%' : `${this._width}px`\n  }\n\n  /**\n   * 将图形转换成图片\n   * @returns {HTMLCanvasElement}\n   */\n  getImage () {\n    const separatorOptions = this._chartStore.styleOptions().separator\n    const width = this._wrapper.offsetWidth\n    const height = separatorOptions.size\n    const canvas = createElement('canvas', {\n      width: `${width}px`,\n      height: `${height}px`,\n      boxSizing: 'border-box'\n    })\n    const ctx = canvas.getContext('2d')\n    const pixelRatio = getPixelRatio(canvas)\n    canvas.width = width * pixelRatio\n    canvas.height = height * pixelRatio\n    ctx.scale(pixelRatio, pixelRatio)\n    ctx.fillStyle = separatorOptions.color\n    ctx.fillRect(this._offsetLeft, 0, width, height)\n    return canvas\n  }\n\n  /**\n   * 销毁\n   */\n  destroy () {\n    if (this._dragEvent) {\n      this._dragEvent.destroy()\n    }\n    this._container.removeChild(this._wrapper)\n  }\n}\n","/**\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n\n * http://www.apache.org/licenses/LICENSE-2.0\n\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nexport default class EventHandler {\n  constructor (chartStore) {\n    this._chartStore = chartStore\n  }\n}\n","/**\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n\n * http://www.apache.org/licenses/LICENSE-2.0\n\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport EventHandler from './EventHandler'\n\nimport { isMouse, isTouch } from './eventTypeChecks'\n\nconst TOUCH_MIN_RADIUS = 10\n\nexport default class ZoomScrollEventHandler extends EventHandler {\n  constructor (chartStore) {\n    super(chartStore)\n    // 开始滚动时坐标点\n    this._startScrollCoordinate = null\n    // 开始触摸时坐标\n    this._touchCoordinate = null\n    // 是否是取消了十字光标\n    this._touchCancelCrosshair = false\n    // 是否缩放过\n    this._touchZoomed = false\n    // 用来记录捏合缩放的尺寸\n    this._pinchScale = 1\n  }\n\n  pinchStartEvent () {\n    this._pinchScale = 1\n    this._touchZoomed = true\n  }\n\n  pinchEvent (middleCoordinate, scale) {\n    const zoomScale = (scale - this._pinchScale) * 5\n    this._pinchScale = scale\n    this._chartStore.timeScaleStore().zoom(zoomScale, middleCoordinate)\n  }\n\n  mouseUpEvent () {\n    this._startScrollCoordinate = null\n  }\n\n  mouseLeaveEvent (event) {\n    this._startScrollCoordinate = null\n    if (isMouse(event)) {\n      this._chartStore.crosshairStore().set()\n    }\n  }\n\n  mouseMoveEvent (event) {\n    if (!isMouse(event)) {\n      return\n    }\n    this._chartStore.crosshairStore().set({ x: event.localX, y: event.paneY, paneId: event.paneId })\n  }\n\n  mouseWheelEvent (event) {\n    if (Math.abs(event.deltaX) > Math.abs(event.deltaY)) {\n      if (event.cancelable) {\n        event.preventDefault()\n      }\n      if (Math.abs(event.deltaX) === 0) {\n        return\n      }\n      this._chartStore.timeScaleStore().startScroll()\n      this._chartStore.timeScaleStore().scroll(-event.deltaX)\n    } else {\n      let deltaY = -(event.deltaY / 100)\n      if (deltaY === 0) {\n        return\n      }\n      if (event.cancelable) {\n        event.preventDefault()\n      }\n\n      switch (event.deltaMode) {\n        case event.DOM_DELTA_PAGE:\n          deltaY *= 120\n          break\n\n        case event.DOM_DELTA_LINE:\n          deltaY *= 32\n          break\n      }\n\n      if (deltaY !== 0) {\n        const scale = Math.sign(deltaY) * Math.min(1, Math.abs(deltaY))\n        this._chartStore.timeScaleStore().zoom(scale, { x: event.localX, y: event.localY })\n      }\n    }\n  }\n\n  mouseClickEvent (event) {\n    if (!isTouch(event)) {\n      return\n    }\n    if (!this._touchCoordinate && !this._touchCancelCrosshair && !this._touchZoomed) {\n      this._touchCoordinate = { x: event.localX, y: event.localY }\n      this._chartStore.crosshairStore().set({ x: event.localX, y: event.paneY, paneId: event.paneId })\n    }\n  }\n\n  mouseDownEvent (event) {\n    this._startScrollCoordinate = { x: event.localX, y: event.localY }\n    this._chartStore.timeScaleStore().startScroll()\n    if (isTouch(event)) {\n      this._touchZoomed = false\n      if (this._touchCoordinate) {\n        const xDif = event.localX - this._touchCoordinate.x\n        const yDif = event.localY - this._touchCoordinate.y\n        const radius = Math.sqrt(xDif * xDif + yDif * yDif)\n        if (radius < TOUCH_MIN_RADIUS) {\n          this._touchCoordinate = { x: event.localX, y: event.localY }\n          this._chartStore.crosshairStore().set({ x: event.localX, y: event.paneY, paneId: event.paneId })\n        } else {\n          this._touchCancelCrosshair = true\n          this._touchCoordinate = null\n          this._chartStore.crosshairStore().set()\n        }\n      } else {\n        this._touchCancelCrosshair = false\n      }\n    }\n  }\n\n  pressedMouseMoveEvent (event) {\n    let crosshair = { x: event.localX, y: event.paneY, paneId: event.paneId }\n    if (isTouch(event)) {\n      if (this._touchCoordinate) {\n        this._touchCoordinate = { x: event.localX, y: event.localY }\n        this._chartStore.crosshairStore().set(crosshair)\n        return\n      } else {\n        crosshair = null\n      }\n    }\n    if (this._startScrollCoordinate) {\n      const distance = event.localX - this._startScrollCoordinate.x\n      this._chartStore.timeScaleStore().scroll(distance, crosshair)\n    }\n  }\n\n  longTapEvent (event) {\n    if (!isTouch(event)) {\n      return\n    }\n    this._touchCoordinate = { x: event.localX, y: event.localY }\n    this._chartStore.crosshairStore().set({ x: event.localX, y: event.paneY, paneId: event.paneId })\n  }\n}\n","/**\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n\n * http://www.apache.org/licenses/LICENSE-2.0\n\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport EventHandler from './EventHandler'\nimport { isMouse } from './eventTypeChecks'\n\nimport InvalidateLevel from '../enum/InvalidateLevel'\nimport { ShapeMouseOperateElement } from '../component/overlay/Shape'\n\nexport default class OverlayEventHandler extends EventHandler {\n  constructor (chartStore, yAxis) {\n    super(chartStore)\n    this._yAxis = yAxis\n  }\n\n  /**\n   * 处理覆盖物鼠标hover事件\n   * @param overlays\n   * @param preHoverOperate\n   * @param coordinate\n   * @param event\n   * @return {*}\n   * @private\n   */\n  _performOverlayMouseHover (overlays, preHoverOperate, coordinate, event) {\n    let hoverOperate\n    if (overlays) {\n      for (const overlay of overlays) {\n        hoverOperate = overlay.checkEventCoordinateOn(coordinate)\n        if (hoverOperate) {\n          break\n        }\n      }\n      if (!hoverOperate || preHoverOperate.id !== hoverOperate.id) {\n        if (preHoverOperate.id && preHoverOperate.instance && isMouse(event)) {\n          preHoverOperate.instance.onMouseLeave({\n            id: preHoverOperate.id,\n            points: preHoverOperate.instance.points(),\n            event\n          })\n        }\n        if (hoverOperate && hoverOperate.id !== preHoverOperate.id && hoverOperate.instance && isMouse(event)) {\n          hoverOperate.instance.onMouseEnter({\n            id: hoverOperate.id,\n            points: hoverOperate.instance.points(),\n            event\n          })\n        }\n      }\n    }\n    return hoverOperate\n  }\n\n  /**\n   * 鼠标抬起事件\n   */\n  mouseUpEvent () {\n    this._chartStore.shapeStore().updatePressedInstance()\n  }\n\n  mouseMoveEvent (event) {\n    if (this._waitingForMouseMove) {\n      return false\n    }\n    this._waitingForMouseMove = true\n    const coordinate = { x: event.localX, y: event.paneY }\n    const { paneId, instance } = this._chartStore.shapeStore().progressInstance()\n    let shapeHoverOperate\n    let shapeClickOperate\n    let annotationHoverOperate\n    if (instance && instance.isDrawing()) {\n      if (event.paneId) {\n        if (instance.isStart()) {\n          this._chartStore.shapeStore().updateProgressInstance(this._yAxis(event.paneId), event.paneId)\n        }\n        if (paneId === event.paneId) {\n          instance.mouseMoveForDrawing(coordinate, event)\n        }\n        shapeHoverOperate = instance.checkEventCoordinateOn(coordinate)\n      }\n      shapeClickOperate = {\n        id: '',\n        element: ShapeMouseOperateElement.NONE,\n        elementIndex: -1\n      }\n    } else {\n      const annotations = this._chartStore.annotationStore().get(event.paneId)\n      const shapes = this._chartStore.shapeStore().instances(event.paneId)\n      const prevShapeHoverOperate = this._chartStore.shapeStore().mouseOperate().hover\n      const prevAnnotationHoverOperate = this._chartStore.annotationStore().mouseOperate()\n      shapeHoverOperate = this._performOverlayMouseHover(shapes, prevShapeHoverOperate, coordinate, event)\n      annotationHoverOperate = this._performOverlayMouseHover(annotations, prevAnnotationHoverOperate, coordinate, event)\n    }\n    this._chartStore.shapeStore().setMouseOperate({\n      hover: shapeHoverOperate || {\n        id: '',\n        element: ShapeMouseOperateElement.NONE,\n        elementIndex: -1\n      },\n      click: shapeClickOperate\n    })\n    this._chartStore.annotationStore().setMouseOperate(annotationHoverOperate || { id: '' })\n    this._waitingForMouseMove = false\n  }\n\n  /**\n   * 鼠标按下事件\n   * @param event\n   */\n  mouseDownEvent (event) {\n    const coordinate = { x: event.localX, y: event.paneY }\n    const { instance, paneId } = this._chartStore.shapeStore().progressInstance()\n    let shapeHoverOperate = {\n      id: '',\n      element: ShapeMouseOperateElement.NONE,\n      elementIndex: -1\n    }\n    let shapeClickOperate\n    if (instance && instance.isDrawing() && paneId === event.paneId) {\n      instance.mouseLeftButtonDownForDrawing()\n      shapeClickOperate = instance.checkEventCoordinateOn(coordinate)\n    } else {\n      const shapes = this._chartStore.shapeStore().instances(event.paneId)\n      for (const shape of shapes) {\n        shapeClickOperate = shape.checkEventCoordinateOn(coordinate)\n        if (shapeClickOperate) {\n          this._chartStore.shapeStore().updatePressedInstance(shape, event.paneId, shapeClickOperate.element)\n          if (shapeClickOperate.element === ShapeMouseOperateElement.POINT) {\n            shapeHoverOperate = {\n              ...shapeClickOperate\n            }\n          } else {\n            shape.startPressedOtherMove(coordinate)\n          }\n          shape.onClick({\n            id: shapeClickOperate.id,\n            points: shape.points(),\n            event\n          })\n          break\n        }\n      }\n      const visibleAnnotations = this._chartStore.annotationStore().get(event.paneId)\n      if (visibleAnnotations) {\n        for (const an of visibleAnnotations) {\n          const annotationOperate = an.checkEventCoordinateOn(coordinate)\n          if (annotationOperate) {\n            an.onClick({\n              id: annotationOperate.id,\n              points: an.points(),\n              event\n            })\n            break\n          }\n        }\n      }\n    }\n    const shapeOperateValid = this._chartStore.shapeStore().setMouseOperate({\n      hover: shapeHoverOperate,\n      click: shapeClickOperate || {\n        id: '',\n        element: ShapeMouseOperateElement.NONE,\n        elementIndex: -1\n      }\n    })\n    if (shapeOperateValid) {\n      this._chartStore.invalidate(InvalidateLevel.OVERLAY)\n    }\n  }\n\n  mouseRightDownEvent (event) {\n    const { instance } = this._chartStore.shapeStore().progressInstance()\n    let removeShape\n    if (instance) {\n      removeShape = instance\n    } else {\n      const shapes = this._chartStore.shapeStore().instances(event.paneId)\n      removeShape = shapes.find(s => s.checkEventCoordinateOn({ x: event.localX, y: event.paneY }))\n    }\n    if (removeShape && !removeShape.onRightClick({ id: removeShape.id(), points: removeShape.points(), event })) {\n      this._chartStore.shapeStore().removeInstance(removeShape.id())\n    }\n    const visibleAnnotations = this._chartStore.annotationStore().get(event.paneId)\n    if (visibleAnnotations) {\n      const annotation = visibleAnnotations.find(an => an.checkEventCoordinateOn({ x: event.localX, y: event.paneY }))\n      if (annotation) {\n        annotation.onRightClick({ id: annotation.id(), points: annotation.points(), event })\n      }\n    }\n  }\n\n  pressedMouseMoveEvent (event) {\n    const { instance, paneId, element } = this._chartStore.shapeStore().pressedInstance()\n    if (instance && paneId === event.paneId) {\n      const coordinate = { x: event.localX, y: event.paneY }\n      if (element === ShapeMouseOperateElement.POINT) {\n        instance.mousePressedPointMove(coordinate, event)\n      } else {\n        instance.mousePressedOtherMove(coordinate, event)\n      }\n      this._chartStore.crosshairStore().set({ x: event.localX, y: event.paneY, paneId: event.paneId })\n    }\n  }\n}\n","/**\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n\n * http://www.apache.org/licenses/LICENSE-2.0\n\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport EventHandler from './EventHandler'\n\nconst KeyBoardCode = {\n  EQUAL: 'Equal',\n  MINUS: 'Minus',\n  ARROW_LEFT: 'ArrowLeft',\n  ARROW_RIGHT: 'ArrowRight'\n}\n\nexport default class KeyBoardEventHandler extends EventHandler {\n  /**\n   * 键盘事件\n   * @param event\n   */\n  keyBoardDownEvent (event) {\n    if (event.shiftKey) {\n      switch (event.code) {\n        case KeyBoardCode.EQUAL: {\n          this._chartStore.timeScaleStore().zoom(0.5)\n          break\n        }\n        case KeyBoardCode.MINUS: {\n          this._chartStore.timeScaleStore().zoom(-0.5)\n          break\n        }\n        case KeyBoardCode.ARROW_LEFT: {\n          this._chartStore.timeScaleStore().startScroll()\n          this._chartStore.timeScaleStore().scroll(-3 * this._chartStore.timeScaleStore().dataSpace())\n          break\n        }\n        case KeyBoardCode.ARROW_RIGHT: {\n          this._chartStore.timeScaleStore().startScroll()\n          this._chartStore.timeScaleStore().scroll(3 * this._chartStore.timeScaleStore().dataSpace())\n          break\n        }\n        default: {\n          break\n        }\n      }\n    }\n  }\n}\n","/**\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n\n * http://www.apache.org/licenses/LICENSE-2.0\n\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport EventBase from './EventBase'\nimport ZoomScrollEventHandler from './ZoomScrollEventHandler'\nimport OverlayEventHandler from './OverlayEventHandler'\nimport KeyBoardEventHandler from './KeyBoardEventHandler'\n\nimport { isTouch } from './eventTypeChecks'\n\nexport default class ChartEvent {\n  constructor (target, chartStore, yAxis) {\n    this._target = target\n    this._chartStore = chartStore\n    this._chartContentLeftRight = {}\n    this._chartContentTopBottom = {}\n    this._paneContentSize = {}\n    this._event = new EventBase(this._target, {\n      pinchStartEvent: this._pinchStartEvent.bind(this),\n      pinchEvent: this._pinchEvent.bind(this),\n      mouseUpEvent: this._mouseUpEvent.bind(this),\n      mouseClickEvent: this._mouseClickEvent.bind(this),\n      mouseDownEvent: this._mouseDownEvent.bind(this),\n      mouseRightDownEvent: this._mouseRightDownEvent.bind(this),\n      mouseLeaveEvent: this._mouseLeaveEvent.bind(this),\n      mouseMoveEvent: this._mouseMoveEvent.bind(this),\n      mouseWheelEvent: this._mouseWheelEvent.bind(this),\n      pressedMouseMoveEvent: this._pressedMouseMoveEvent.bind(this),\n      longTapEvent: this._longTapEvent.bind(this)\n    }, {\n      treatVertTouchDragAsPageScroll: true,\n      treatHorzTouchDragAsPageScroll: false\n    })\n    this._boundKeyBoardDownEvent = this._keyBoardDownEvent.bind(this)\n    this._target.addEventListener('keydown', this._boundKeyBoardDownEvent)\n    this._boundContextMenuEvent = (e) => { e.preventDefault() }\n    this._target.addEventListener('contextmenu', this._boundContextMenuEvent, false)\n    this._zoomScrollEventHandler = new ZoomScrollEventHandler(chartStore)\n    this._overlayEventHandler = new OverlayEventHandler(chartStore, yAxis)\n    this._keyBoardEventHandler = new KeyBoardEventHandler(chartStore)\n  }\n\n  _keyBoardDownEvent (event) {\n    this._keyBoardEventHandler.keyBoardDownEvent(event)\n  }\n\n  _pinchStartEvent () {\n    this._zoomScrollEventHandler.pinchStartEvent()\n  }\n\n  _pinchEvent (middleCoordinate, scale) {\n    this._zoomScrollEventHandler.pinchEvent(middleCoordinate, scale)\n  }\n\n  _mouseUpEvent (event) {\n    if (this._checkEventInChartContent(event)) {\n      this._target.style.cursor = 'crosshair'\n    }\n    this._zoomScrollEventHandler.mouseUpEvent(event)\n    if (this._shouldPerformOverlayEvent()) {\n      this._overlayEventHandler.mouseUpEvent(event)\n    }\n  }\n\n  _mouseLeaveEvent (event) {\n    this._zoomScrollEventHandler.mouseLeaveEvent(event)\n  }\n\n  _mouseMoveEvent (event) {\n    // 当事件目标是在容器内部元素时，不出来move事件\n    // 等待寻找最优解\n    if (event.target instanceof HTMLCanvasElement) {\n      if (this._checkEventInChartContent(event)) {\n        this._target.style.cursor = 'crosshair'\n        const compatEvent = this._compatChartEvent(event, true)\n        if (this._shouldPerformOverlayEvent()) {\n          this._overlayEventHandler.mouseMoveEvent(compatEvent)\n        }\n        if (!this._chartStore.dragPaneFlag()) {\n          this._zoomScrollEventHandler.mouseMoveEvent(compatEvent)\n        }\n      } else {\n        this._target.style.cursor = 'default'\n        this._zoomScrollEventHandler.mouseLeaveEvent(event)\n      }\n    } else {\n      this._target.style.cursor = 'default'\n      this._chartStore.crosshairStore().set()\n    }\n  }\n\n  _mouseWheelEvent (event) {\n    if (this._checkZoomScroll() && this._checkEventInChartContent(event)) {\n      this._zoomScrollEventHandler.mouseWheelEvent(this._compatChartEvent(event))\n    }\n  }\n\n  _mouseClickEvent (event) {\n    if (this._checkZoomScroll() && this._checkEventInChartContent(event)) {\n      this._zoomScrollEventHandler.mouseClickEvent(this._compatChartEvent(event, true))\n      this._modifyEventOptions(event)\n    }\n  }\n\n  _mouseDownEvent (event) {\n    if (this._checkEventInChartContent(event)) {\n      this._target.style.cursor = 'pointer'\n      const compatEvent = this._compatChartEvent(event, true)\n      if (this._shouldPerformOverlayEvent()) {\n        this._overlayEventHandler.mouseDownEvent(compatEvent)\n      }\n      if (this._checkZoomScroll()) {\n        this._zoomScrollEventHandler.mouseDownEvent(compatEvent)\n        this._modifyEventOptions(event)\n      }\n    }\n  }\n\n  _mouseRightDownEvent (event) {\n    if (this._shouldPerformOverlayEvent() && this._checkEventInChartContent(event)) {\n      this._overlayEventHandler.mouseRightDownEvent(this._compatChartEvent(event, true))\n    }\n  }\n\n  _pressedMouseMoveEvent (event) {\n    if (this._checkEventInChartContent(event)) {\n      const compatEvent = this._compatChartEvent(event, true)\n      if (this._checkZoomScroll()) {\n        this._zoomScrollEventHandler.pressedMouseMoveEvent(compatEvent)\n        this._modifyEventOptions(event)\n      } else {\n        this._overlayEventHandler.pressedMouseMoveEvent(compatEvent)\n      }\n    }\n  }\n\n  _longTapEvent (event) {\n    if (this._checkZoomScroll() && this._checkEventInChartContent(event)) {\n      this._zoomScrollEventHandler.longTapEvent(this._compatChartEvent(event, true))\n      this._modifyEventOptions(event)\n    }\n  }\n\n  _checkZoomScroll () {\n    return !this._chartStore.dragPaneFlag() && !this._chartStore.shapeStore().isPressed() && !this._chartStore.shapeStore().isDrawing()\n  }\n\n  /**\n   * 是否需要处理图形标记事件\n   * @return {boolean}\n   * @private\n   */\n  _shouldPerformOverlayEvent () {\n    return !this._chartStore.shapeStore().isEmpty() || !this._chartStore.annotationStore().isEmpty()\n  }\n\n  /**\n   * 修改事件配置\n   * @param event\n   */\n  _modifyEventOptions (event) {\n    if (isTouch(event) && this._chartStore.crosshairStore().get().paneId) {\n      this._event.setOptions({ treatVertTouchDragAsPageScroll: false })\n    } else {\n      this._event.setOptions({ treatVertTouchDragAsPageScroll: true })\n    }\n  }\n\n  /**\n   * 事件信息兼容\n   * @param {*} event\n   * @param {*} compatY\n   * @returns\n   */\n  _compatChartEvent (event, compatY) {\n    if (compatY) {\n      for (const id in this._paneContentSize) {\n        if (Object.prototype.hasOwnProperty.call(this._paneContentSize, id)) {\n          const size = this._paneContentSize[id]\n          if (event.localY > size.contentTop && event.localY < size.contentBottom) {\n            event.paneY = event.localY - size.contentTop\n            event.paneId = id\n            break\n          }\n        }\n      }\n    }\n    event.localX -= this._chartContentLeftRight.contentLeft\n    return event\n  }\n\n  /**\n   * 检查事件是否在图表内容内\n   * @param {*} event\n   * @returns\n   */\n  _checkEventInChartContent (event) {\n    return (event.localX > this._chartContentLeftRight.contentLeft && event.localX < this._chartContentLeftRight.contentRight) &&\n      (event.localY > this._chartContentTopBottom.contentTop && event.localY < this._chartContentTopBottom.contentBottom)\n  }\n\n  setChartContentLeftRight (chartContentLeftRight) {\n    this._chartContentLeftRight = chartContentLeftRight\n  }\n\n  setChartContentTopBottom (chartContentTopBottom) {\n    this._chartContentTopBottom = chartContentTopBottom\n  }\n\n  setPaneContentSize (paneContentSize) {\n    this._paneContentSize = paneContentSize\n  }\n\n  destroy () {\n    this._event.destroy()\n    this._target.removeEventListener('keydown', this._boundKeyBoardDownEvent)\n    this._target.removeEventListener('contextmenu', this._boundContextMenuEvent)\n  }\n}\n","/**\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n\n * http://www.apache.org/licenses/LICENSE-2.0\n\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nexport function throttle (func, wait = 20) {\n  let previous = 0\n  return function () {\n    const now = Date.now()\n    const context = this\n    const args = arguments\n    if (now - previous > wait) {\n      func.apply(context, args)\n      previous = now\n    }\n  }\n}\n","/**\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n\n * http://www.apache.org/licenses/LICENSE-2.0\n\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n/**\n * 渲染填充菱形\n * @param ctx\n * @param color\n * @param centerCoordinate\n * @param width\n * @param height\n */\nexport function renderFillDiamond (ctx, color, centerCoordinate, width, height) {\n  ctx.fillStyle = color\n  ctx.beginPath()\n  ctx.moveTo(centerCoordinate.x - width / 2, centerCoordinate.y)\n  ctx.lineTo(centerCoordinate.x, centerCoordinate.y - height / 2)\n  ctx.lineTo(centerCoordinate.x + width / 2, centerCoordinate.y)\n  ctx.lineTo(centerCoordinate.x, centerCoordinate.y + height / 2)\n  ctx.closePath()\n  ctx.fill()\n}\n","/**\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n\n * http://www.apache.org/licenses/LICENSE-2.0\n\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n/**\n * 渲染填充菱形\n * @param ctx\n * @param color\n * @param centerCoordinate\n * @param width\n * @param height\n */\nexport function renderFillTriangle (ctx, color, centerCoordinate, width, height) {\n  ctx.fillStyle = color\n  ctx.beginPath()\n  ctx.moveTo(centerCoordinate.x - width / 2, centerCoordinate.y + height / 2)\n  ctx.lineTo(centerCoordinate.x, centerCoordinate.y - height / 2)\n  ctx.lineTo(centerCoordinate.x + width / 2, centerCoordinate.y + height / 2)\n  ctx.closePath()\n  ctx.fill()\n}\n","/**\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n\n * http://www.apache.org/licenses/LICENSE-2.0\n\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport Overlay from './Overlay'\n\nimport { renderFillCircle } from '../../renderer/circle'\nimport { renderFillRect } from '../../renderer/rect'\nimport { renderFillDiamond } from '../../renderer/diamond'\nimport { renderFillTriangle } from '../../renderer/triangle'\nimport {\n  checkCoordinateInCircle, checkCoordinateInDiamond,\n  checkCoordinateInRect, checkCoordinateInTriangle\n} from '../../extension/shape/shapeHelper'\n\nimport { isNumber } from '../../utils/typeChecks'\n\nimport {\n  OverlayPosition,\n  AnnotationSymbolType\n} from '../../options/styleOptions'\n\n/**\n * 注解\n */\nexport default class Annotation extends Overlay {\n  constructor ({\n    id, point, chartStore, xAxis, yAxis, styles\n  }) {\n    super({ id, chartStore, xAxis, yAxis })\n    this._point = point\n    this._symbolCoordinate = {}\n    this.setStyles(styles, chartStore.styleOptions().annotation)\n  }\n\n  /**\n   * 绘制标识\n   * @param ctx\n   * @param isActive\n   * @param styles\n   * @private\n   */\n  _drawSymbol (ctx, isActive, styles) {\n    const barSpace = this._chartStore.timeScaleStore().barSpace()\n    const symbolOptions = styles.symbol\n    const styleSize = symbolOptions.size\n    const styleActiveSize = symbolOptions.activeSize\n    const size = isActive\n      ? (isNumber(styleActiveSize) ? styleActiveSize : barSpace)\n      : (isNumber(styleSize) ? styleSize : barSpace)\n    const color = isActive ? symbolOptions.activeColor : symbolOptions.color\n    switch (symbolOptions.type) {\n      case AnnotationSymbolType.CIRCLE: {\n        renderFillCircle(ctx, color, this._symbolCoordinate, size / 2)\n        break\n      }\n      case AnnotationSymbolType.RECT: {\n        renderFillRect(\n          ctx, color,\n          this._symbolCoordinate.x - size / 2,\n          this._symbolCoordinate.y - size / 2,\n          size, size\n        )\n        break\n      }\n      case AnnotationSymbolType.DIAMOND: {\n        renderFillDiamond(ctx, color, this._symbolCoordinate, size, size)\n        break\n      }\n      case AnnotationSymbolType.TRIANGLE: {\n        renderFillTriangle(ctx, color, this._symbolCoordinate, size, size)\n        break\n      }\n      case AnnotationSymbolType.CUSTOM: {\n        ctx.save()\n        this.drawCustomSymbol({\n          ctx,\n          point: this._point,\n          coordinate: this._symbolCoordinate,\n          viewport: {\n            width: this._xAxis.width(),\n            height: this._yAxis.height(),\n            barSpace\n          },\n          styles: symbolOptions,\n          isActive\n        })\n        ctx.restore()\n        break\n      }\n      default: {\n        break\n      }\n    }\n  }\n\n  draw (ctx) {\n    const styles = this._styles || this._chartStore.styleOptions().annotation\n    const offset = styles.offset || [0, 0]\n    let y = 0\n    switch (styles.position) {\n      case OverlayPosition.POINT: {\n        y = this._yAxis.convertToPixel(this._point.value)\n        break\n      }\n      case OverlayPosition.TOP: {\n        y = 0\n        break\n      }\n      case OverlayPosition.BOTTOM: {\n        y = this._yAxis.height()\n        break\n      }\n    }\n    this._symbolCoordinate.y = y + offset[0]\n    const isActive = this._id === this._chartStore.annotationStore().mouseOperate().id\n    this._drawSymbol(ctx, isActive, styles)\n    if (this.drawExtend) {\n      ctx.save()\n      this.drawExtend({\n        ctx,\n        point: this._point,\n        coordinate: this._symbolCoordinate,\n        viewport: {\n          width: this._xAxis.width(),\n          height: this._yAxis.height()\n        },\n        styles,\n        isActive\n      })\n      ctx.restore()\n    }\n  }\n\n  checkEventCoordinateOn (eventCoordinate) {\n    const barSpace = this._chartStore.timeScaleStore().barSpace()\n    const styles = this._styles || this._chartStore.styleOptions().annotation\n    const symbolOptions = styles.symbol\n    const size = isNumber(symbolOptions.size) ? symbolOptions.size : barSpace\n    let isOn\n    switch (symbolOptions.type) {\n      case AnnotationSymbolType.CIRCLE: {\n        isOn = checkCoordinateInCircle(this._symbolCoordinate, size / 2, eventCoordinate)\n        break\n      }\n      case AnnotationSymbolType.RECT: {\n        const coordinate1 = { x: this._symbolCoordinate.x - size / 2, y: this._symbolCoordinate.y - size / 2 }\n        const coordinate2 = { x: this._symbolCoordinate.x + size / 2, y: this._symbolCoordinate.y + size / 2 }\n        isOn = checkCoordinateInRect(coordinate1, coordinate2, eventCoordinate)\n        break\n      }\n      case AnnotationSymbolType.DIAMOND: {\n        isOn = checkCoordinateInDiamond(this._symbolCoordinate, size, size, eventCoordinate)\n        break\n      }\n      case AnnotationSymbolType.TRIANGLE: {\n        isOn = checkCoordinateInTriangle(\n          [\n            { x: this._symbolCoordinate.x - size / 2, y: this._symbolCoordinate.y + size / 2 },\n            { x: this._symbolCoordinate.x, y: this._symbolCoordinate.y - size / 2 },\n            { x: this._symbolCoordinate.x + size / 2, y: this._symbolCoordinate.y + size / 2 }\n          ],\n          eventCoordinate\n        )\n        break\n      }\n      case AnnotationSymbolType.CUSTOM: {\n        isOn = this.checkEventCoordinateOnCustomSymbol({\n          eventCoordinate,\n          coordinate: this._symbolCoordinate,\n          size\n        })\n        break\n      }\n      default: {\n        break\n      }\n    }\n    if (isOn) {\n      return {\n        id: this._id,\n        instance: this\n      }\n    }\n  }\n\n  /**\n   * 生成标识坐标\n   * @param x\n   */\n  createSymbolCoordinate (x) {\n    const styles = this._styles || this._chartStore.styleOptions().annotation\n    const offset = styles.offset || [0, 0]\n    this._symbolCoordinate = { x: x + offset[1] }\n  }\n\n  /**\n   * 获取点\n   * @return {*}\n   */\n  points () {\n    return this._point\n  }\n\n  /**\n   * 检查鼠标点是否在自定义标识内\n   * @param eventCoordinate\n   * @param coordinate\n   * @param size\n   */\n  checkEventCoordinateOnCustomSymbol ({ eventCoordinate, coordinate, size }) {}\n\n  /**\n   * 绘制自定义标识\n   * @param ctx\n   * @param point\n   * @param coordinate\n   * @param viewport\n   * @param styles\n   * @param isActive\n   */\n  drawCustomSymbol ({ ctx, point, coordinate, viewport, styles, isActive }) {}\n}\n","/**\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n\n * http://www.apache.org/licenses/LICENSE-2.0\n\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport Overlay from './Overlay'\nimport { LineStyle, OverlayPosition, YAxisPosition } from '../../options/styleOptions'\nimport { renderHorizontalLine } from '../../renderer/line'\nimport { isValid, isObject } from '../../utils/typeChecks'\nimport { createFont, getTextRectWidth, getTextRectHeight } from '../../utils/canvas'\nimport { renderStrokeFillRoundRect } from '../../renderer/rect'\nimport { renderText } from '../../renderer/text'\n\nexport default class Tag extends Overlay {\n  constructor ({\n    id, point, text, mark, chartStore, xAxis, yAxis, styles\n  }) {\n    super({ id, chartStore, xAxis, yAxis })\n    this._point = point || {}\n    this._text = text\n    this._mark = mark\n    this.setStyles(styles, chartStore.styleOptions().tag)\n  }\n\n  /**\n   * 更新\n   * @param point\n   * @param text\n   * @param mark\n   * @param styles\n   * @return {boolean}\n   */\n  update ({ point, text, mark, styles }) {\n    let success = false\n    if (isObject(point)) {\n      this._point = point\n      success = true\n    }\n    if (isValid(text)) {\n      this._text = text\n      success = true\n    }\n    if (isValid(mark)) {\n      this._mark = mark\n      success = true\n    }\n    if (this.setStyles(styles, this._chartStore.styleOptions().tag)) {\n      success = true\n    }\n    return success\n  }\n\n  /**\n   * 绘制标记和线\n   * @param ctx\n   */\n  drawMarkLine (ctx) {\n    const options = this._chartStore.styleOptions()\n    const yAxisOptions = options.yAxis\n    const tagOptions = this._styles || options.tag\n    const y = this._getY(tagOptions)\n    ctx.save()\n    this._drawLine(ctx, y, tagOptions, yAxisOptions)\n    this._drawMark(ctx, y, tagOptions, yAxisOptions)\n    ctx.restore()\n  }\n\n  /**\n   * 绘制值\n   */\n  drawText (ctx) {\n    if (!isValid(this._text)) {\n      return\n    }\n    const options = this._chartStore.styleOptions()\n    const tagOptions = this._styles || options.tag\n    const tagTextOptions = tagOptions.text\n    ctx.save()\n    const rectWidth = getTextRectWidth(ctx, this._text, tagTextOptions)\n    const rectHeight = getTextRectHeight(tagTextOptions)\n    let x\n    if (this._yAxis.isFromYAxisZero()) {\n      x = 0\n    } else {\n      x = this._yAxis.width() - rectWidth\n    }\n    const y = this._getY(tagOptions)\n    renderStrokeFillRoundRect(\n      ctx,\n      tagTextOptions.backgroundColor,\n      tagTextOptions.borderColor,\n      tagTextOptions.borderSize,\n      x,\n      y - rectHeight / 2,\n      rectWidth,\n      rectHeight,\n      tagTextOptions.borderRadius\n    )\n    renderText(ctx, tagTextOptions.color, x + tagTextOptions.paddingLeft, y, this._text)\n    ctx.restore()\n  }\n\n  /**\n   * 绘制线\n   * @param ctx\n   * @param y\n   * @param tagOptions\n   * @private\n   */\n  _drawLine (ctx, y, tagOptions, yAxisOptions) {\n    const tagLineOptions = tagOptions.line\n    if (!tagLineOptions.show) {\n      return\n    }\n    ctx.save()\n    const textRectWidth = getTextRectWidth(ctx, this._text, tagOptions.text)\n    const markRectWidth = getTextRectWidth(ctx, this._mark, tagOptions.mark)\n    ctx.strokeStyle = tagLineOptions.color\n    ctx.lineWidth = tagLineOptions.size\n    if (tagLineOptions.style === LineStyle.DASH) {\n      ctx.setLineDash(tagLineOptions.dashValue)\n    }\n    const markOffset = tagOptions.mark.offset\n    const lines = []\n    const textValid = isValid(this._text)\n    const markValid = isValid(this._mark)\n    if (yAxisOptions.inside) {\n      if (yAxisOptions.position === YAxisPosition.LEFT) {\n        if (textValid && markValid) {\n          if (markOffset > 0) {\n            lines.push([textRectWidth, textRectWidth + markOffset])\n            lines.push([textRectWidth + markOffset + markRectWidth, this._xAxis.width()])\n          } else {\n            if (Math.abs(markOffset) < Math.min(textRectWidth, markRectWidth)) {\n              lines.push([textRectWidth + markOffset + markRectWidth, this._xAxis.width()])\n            } else {\n              lines.push([Math.max(textRectWidth, markRectWidth), this._xAxis.width()])\n            }\n          }\n        } else {\n          if (textValid) {\n            lines.push([textRectWidth, this._xAxis.width()])\n          } else if (markValid) {\n            if (markOffset > 0) {\n              lines.push([0, markOffset])\n              lines.push([markOffset + markRectWidth, this._xAxis.width()])\n            } else {\n              if (Math.abs(markOffset) < markRectWidth) {\n                lines.push([markOffset + markRectWidth, this._xAxis.width()])\n              } else {\n                lines.push([0, this._xAxis.width()])\n              }\n            }\n          } else {\n            lines.push([0, this._xAxis.width()])\n          }\n        }\n      } else {\n        if (textValid && markValid) {\n          if (markOffset < 0) {\n            lines.push([0, this._xAxis.width() - textRectWidth + markOffset - markRectWidth])\n            lines.push([this._xAxis.width() - textRectWidth + markOffset, this._xAxis.width() - textRectWidth])\n          } else {\n            if (markOffset < Math.min(textRectWidth, markRectWidth)) {\n              lines.push([0, this._xAxis.width() - textRectWidth - markRectWidth + markOffset])\n            } else {\n              lines.push([0, this._xAxis.width() - Math.max(textRectWidth, markRectWidth)])\n            }\n          }\n        } else {\n          if (textValid) {\n            lines.push([0, this._xAxis.width() - textRectWidth])\n          } else if (markValid) {\n            if (markOffset < 0) {\n              lines.push([0, this._xAxis.width() + markOffset - markRectWidth])\n              lines.push([this._xAxis.width() + markOffset, this._xAxis.width()])\n            } else {\n              if (markOffset < markRectWidth) {\n                lines.push([0, this._xAxis.width() - markRectWidth + markOffset])\n              } else {\n                lines.push([0, this._xAxis.width()])\n              }\n            }\n          } else {\n            lines.push([0, this._xAxis.width()])\n          }\n        }\n      }\n    } else {\n      if (yAxisOptions.position === YAxisPosition.LEFT) {\n        if (markValid) {\n          if (markOffset > 0) {\n            lines.push([0, markOffset])\n            lines.push([markOffset + markRectWidth, this._xAxis.width()])\n          } else {\n            if (Math.abs(markOffset) < markRectWidth) {\n              lines.push([markRectWidth + markOffset, this._xAxis.width()])\n            } else {\n              lines.push([0, this._xAxis.width()])\n            }\n          }\n        } else {\n          lines.push([0, this._xAxis.width()])\n        }\n      } else {\n        if (markValid) {\n          if (markOffset < 0) {\n            lines.push([0, this._xAxis.width() - markRectWidth + markOffset])\n            lines.push([this._xAxis.width() + markOffset, this._xAxis.width()])\n          } else {\n            if (markOffset < markRectWidth) {\n              lines.push([0, this._xAxis.width() - markRectWidth + markOffset])\n            } else {\n              lines.push([0, this._xAxis.width()])\n            }\n          }\n        } else {\n          lines.push([0, this._xAxis.width()])\n        }\n      }\n    }\n    lines.forEach(line => {\n      renderHorizontalLine(ctx, y, line[0], line[1])\n    })\n    ctx.restore()\n  }\n\n  /**\n   * 绘制标记\n   * @param ctx\n   * @param y\n   * @param tagOptions\n   * @param yAxisOptions\n   * @private\n   */\n  _drawMark (ctx, y, tagOptions, yAxisOptions) {\n    if (!isValid(this._mark)) {\n      return\n    }\n    const tagMarkOptions = tagOptions.mark\n    const rectWidth = getTextRectWidth(ctx, this._mark, tagMarkOptions)\n    const rectHeight = getTextRectHeight(tagMarkOptions)\n    let x\n    if (yAxisOptions.inside) {\n      let textRectWidth = 0\n      if (isValid(this._text)) {\n        textRectWidth = getTextRectWidth(ctx, this._text, tagOptions.text)\n      }\n      if (yAxisOptions.position === YAxisPosition.LEFT) {\n        x = textRectWidth\n      } else {\n        x = this._xAxis.width() - textRectWidth - rectWidth\n      }\n    } else {\n      if (yAxisOptions.position === YAxisPosition.LEFT) {\n        x = 0\n      } else {\n        x = this._xAxis.width() - rectWidth\n      }\n    }\n    x += tagMarkOptions.offset\n    renderStrokeFillRoundRect(\n      ctx,\n      tagMarkOptions.backgroundColor,\n      tagMarkOptions.borderColor,\n      tagMarkOptions.borderSize,\n      x,\n      y - rectHeight / 2,\n      rectWidth,\n      rectHeight,\n      tagMarkOptions.borderRadius\n    )\n    ctx.textBaseline = 'middle'\n    ctx.font = createFont(tagMarkOptions.size, tagMarkOptions.weight, tagMarkOptions.family)\n    renderText(ctx, tagMarkOptions.color, x + tagMarkOptions.paddingLeft, y, this._mark)\n  }\n\n  /**\n   * 获取坐标y值\n   * @param tagOptions\n   * @return {*}\n   * @private\n   */\n  _getY (tagOptions) {\n    const offset = tagOptions.offset\n    switch (tagOptions.position) {\n      case OverlayPosition.TOP: {\n        return offset\n      }\n      case OverlayPosition.BOTTOM: {\n        return this._yAxis.height() + offset\n      }\n      default: {\n        return this._yAxis.convertToNicePixel(this._point.value) + offset\n      }\n    }\n  }\n}\n","/**\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n\n * http://www.apache.org/licenses/LICENSE-2.0\n\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport ChartStore from '../store/ChartStore'\n\nimport CandlePane from './CandlePane'\nimport XAxisPane from './XAxisPane'\n\nimport { YAxisPosition } from '../options/styleOptions'\nimport { isArray, isBoolean, isFunction, isValid, isNumber } from '../utils/typeChecks'\nimport TechnicalIndicatorPane from './TechnicalIndicatorPane'\nimport SeparatorPane from './SeparatorPane'\n\nimport ChartEvent from '../event/ChartEvent'\nimport { getPixelRatio } from '../utils/canvas'\nimport { throttle } from '../utils/performance'\nimport { createElement } from '../utils/element'\nimport Annotation from '../component/overlay/Annotation'\nimport Tag from '../component/overlay/Tag'\nimport { perfectOverlayFunc } from '../component/overlay/Overlay'\n\nimport ActionType from '../enum/ActionType'\nimport InvalidateLevel from '../enum/InvalidateLevel'\n\n// 默认技术指标窗口高度\nconst DEFAULT_TECHNICAL_INDICATOR_PANE_HEIGHT = 100\n\n// 技术指标窗口id前缀\nconst TECHNICAL_INDICATOR_PANE_ID_PREFIX = 'technical_indicator_pane_'\n\n// 图形id前缀\nconst SHAPE_ID_PREFIX = 'shape_'\n\n// 蜡烛图窗口id\nexport const CANDLE_PANE_ID = 'candle_pane'\n\n// x轴窗口id\nconst XAXIS_PANE_ID = 'x_axis_pane'\n\nexport default class ChartPane {\n  constructor (container, styleOptions) {\n    this._initChartContainer(container)\n    this._shapeBaseId = 0\n    this._paneBaseId = 0\n    this._separatorDragStartTopPaneHeight = 0\n    this._separatorDragStartBottomPaneHeight = 0\n    this._chartStore = new ChartStore(styleOptions, {\n      invalidate: this._invalidatePane.bind(this),\n      crosshair: this._crosshairObserver.bind(this)\n    })\n    this._xAxisPane = new XAxisPane({ id: XAXIS_PANE_ID, container: this._chartContainer, chartStore: this._chartStore })\n    this._panes = new Map([[CANDLE_PANE_ID, new CandlePane({\n      container: this._chartContainer,\n      chartStore: this._chartStore,\n      xAxis: this._xAxisPane.xAxis(),\n      id: CANDLE_PANE_ID\n    })]])\n    this._separators = new Map()\n    this._chartWidth = {}\n    this._chartHeight = {}\n    this._chartEvent = new ChartEvent(\n      this._chartContainer,\n      this._chartStore,\n      (paneId) => this._panes.get(paneId).yAxis()\n    )\n    this.adjustPaneViewport(true, true, true)\n  }\n\n  /**\n   * 初始化图表容器\n   * @param container\n   * @private\n   */\n  _initChartContainer (container) {\n    this._container = container\n    this._chartContainer = createElement('div', {\n      userSelect: 'none',\n      webkitUserSelect: 'none',\n      msUserSelect: 'none',\n      MozUserSelect: 'none',\n      webkitTapHighlightColor: 'transparent',\n      position: 'relative',\n      outline: 'none',\n      borderStyle: 'none',\n      width: '100%',\n      cursor: 'crosshair',\n      boxSizing: 'border-box'\n    })\n    this._chartContainer.tabIndex = 1\n    container.appendChild(this._chartContainer)\n  }\n\n  /**\n   * 十字光标观察者\n   * @private\n   */\n  _crosshairObserver ({ paneId, dataIndex, kLineData, x, y }) {\n    if (\n      this._chartStore.actionStore().has(ActionType.CROSSHAIR) ||\n      this._chartStore.actionStore().has(ActionType.TOOLTIP)\n    ) {\n      const techDatas = {}\n      this._panes.forEach((_, id) => {\n        const data = {}\n        const techDataList = []\n        const techs = this.chartStore().technicalIndicatorStore().instances(id)\n        techs.forEach(tech => {\n          const result = tech.result\n          const techData = result[dataIndex]\n          data[tech.name] = techData\n          techDataList.push({ name: tech.name, data: techData })\n        })\n        techDatas[id] = data\n        this._chartStore.actionStore().execute(ActionType.TOOLTIP, {\n          paneId: id,\n          dataIndex,\n          kLineData,\n          technicalIndicatorData: techDataList\n        })\n      })\n      if (paneId) {\n        this._chartStore.actionStore().execute(ActionType.CROSSHAIR, {\n          paneId,\n          coordinate: { x, y },\n          dataIndex,\n          kLineData,\n          technicalIndicatorData: techDatas\n        })\n      }\n    }\n  }\n\n  /**\n   * 分割线拖拽开始\n   * @param topPaneId\n   * @param bottomPaneId\n   * @private\n   */\n  _separatorStartDrag (topPaneId, bottomPaneId) {\n    this._separatorDragStartTopPaneHeight = this._panes.get(topPaneId).height()\n    this._separatorDragStartBottomPaneHeight = this._panes.get(bottomPaneId).height()\n  }\n\n  /**\n   * 分割线拖拽\n   * @param dragDistance\n   * @param topPaneId\n   * @param bottomPaneId\n   * @private\n   */\n  _separatorDrag (dragDistance, topPaneId, bottomPaneId) {\n    let topPaneHeight = this._separatorDragStartTopPaneHeight + dragDistance\n    let bottomPaneHeight = this._separatorDragStartBottomPaneHeight - dragDistance\n    if (topPaneHeight > this._separatorDragStartTopPaneHeight + this._separatorDragStartBottomPaneHeight) {\n      topPaneHeight = this._separatorDragStartTopPaneHeight + this._separatorDragStartBottomPaneHeight\n      bottomPaneHeight = 0\n    }\n    if (topPaneHeight < 0) {\n      topPaneHeight = 0\n      bottomPaneHeight = this._separatorDragStartTopPaneHeight + this._separatorDragStartBottomPaneHeight\n    }\n    this._panes.get(topPaneId).setHeight(topPaneHeight)\n    this._panes.get(bottomPaneId).setHeight(bottomPaneHeight)\n    this._chartStore.actionStore().execute(ActionType.PANE_DRAG, { topPaneId, bottomPaneId, topPaneHeight, bottomPaneHeight })\n    this.adjustPaneViewport(true, true, true, true, true)\n  }\n\n  /**\n   * 更新所有pane\n   * @private\n   */\n  _invalidatePane (invalidateLevel = InvalidateLevel.FULL) {\n    if (invalidateLevel === InvalidateLevel.OVERLAY) {\n      this._xAxisPane.invalidate(invalidateLevel)\n      this._panes.forEach((pane) => {\n        pane.invalidate(invalidateLevel)\n      })\n    } else {\n      let shouldMeasureWidth = false\n      this._panes.forEach((pane) => {\n        const should = pane.yAxis().computeAxis()\n        if (should) {\n          shouldMeasureWidth = should\n        }\n      })\n      this.adjustPaneViewport(false, shouldMeasureWidth, true)\n    }\n  }\n\n  /**\n   * 测量pane高度\n   * @private\n   */\n  _measurePaneHeight () {\n    const styleOptions = this._chartStore.styleOptions()\n    const paneHeight = this._container.offsetHeight\n    const separatorSize = styleOptions.separator.size\n    const separatorTotalHeight = separatorSize * this._separators.size\n    const xAxisHeight = this._xAxisPane.xAxis().getSelfHeight()\n    const paneExcludeXAxisSeparatorHeight = paneHeight - xAxisHeight - separatorTotalHeight\n    let techPaneTotalHeight = 0\n    this._panes.forEach(pane => {\n      if (pane.id() !== CANDLE_PANE_ID) {\n        const paneHeight = pane.height()\n        if (techPaneTotalHeight + paneHeight > paneExcludeXAxisSeparatorHeight) {\n          pane.setHeight(paneExcludeXAxisSeparatorHeight - techPaneTotalHeight)\n          techPaneTotalHeight = paneExcludeXAxisSeparatorHeight\n        } else {\n          techPaneTotalHeight += paneHeight\n        }\n      }\n    })\n\n    const candlePaneHeight = paneExcludeXAxisSeparatorHeight - techPaneTotalHeight\n\n    const paneContentSize = {}\n    paneContentSize[CANDLE_PANE_ID] = { contentTop: 0, contentBottom: candlePaneHeight }\n    let contentTop = candlePaneHeight\n    let contentBottom = candlePaneHeight\n    this._panes.get(CANDLE_PANE_ID).setHeight(candlePaneHeight)\n    this._chartHeight[CANDLE_PANE_ID] = candlePaneHeight\n    this._panes.forEach(pane => {\n      if (pane.id() !== CANDLE_PANE_ID) {\n        const paneHeight = pane.height()\n        contentBottom += (paneHeight + separatorSize)\n        paneContentSize[pane.id()] = { contentTop, contentBottom }\n        this._chartHeight[pane.id()] = paneHeight\n        contentTop = contentBottom\n      }\n    })\n    this._xAxisPane.setHeight(xAxisHeight)\n    this._chartHeight.xAxis = xAxisHeight\n    this._chartHeight.total = paneHeight\n    this._chartEvent.setPaneContentSize(paneContentSize)\n    this._chartEvent.setChartContentTopBottom({ contentTop: 0, contentBottom })\n  }\n\n  /**\n   * 测量pan宽度\n   * @private\n   */\n  _measurePaneWidth () {\n    const styleOptions = this._chartStore.styleOptions()\n    const yAxisOptions = styleOptions.yAxis\n    const isYAxisLeft = yAxisOptions.position === YAxisPosition.LEFT\n    const isOutside = !yAxisOptions.inside\n    const paneWidth = this._container.offsetWidth\n    let mainWidth\n    let yAxisWidth = Number.MIN_SAFE_INTEGER\n    let yAxisOffsetLeft\n    let mainOffsetLeft\n    if (isOutside) {\n      this._panes.forEach(pane => {\n        yAxisWidth = Math.max(yAxisWidth, pane.yAxis().getSelfWidth())\n      })\n      mainWidth = paneWidth - yAxisWidth\n      if (isYAxisLeft) {\n        yAxisOffsetLeft = 0\n        mainOffsetLeft = yAxisWidth\n      } else {\n        mainOffsetLeft = 0\n        yAxisOffsetLeft = paneWidth - yAxisWidth\n      }\n    } else {\n      mainWidth = paneWidth\n      yAxisWidth = paneWidth\n      yAxisOffsetLeft = 0\n      mainOffsetLeft = 0\n    }\n\n    this._chartStore.timeScaleStore().setTotalDataSpace(mainWidth)\n\n    this._panes.forEach((pane, paneId) => {\n      pane.setWidth(mainWidth, yAxisWidth)\n      pane.setOffsetLeft(mainOffsetLeft, yAxisOffsetLeft)\n      const separator = this._separators.get(paneId)\n      separator && separator.setSize(mainOffsetLeft, mainWidth)\n    })\n    this._chartWidth = { content: mainWidth, yAxis: yAxisWidth, total: paneWidth }\n    this._xAxisPane.setWidth(mainWidth, yAxisWidth)\n    this._xAxisPane.setOffsetLeft(mainOffsetLeft, yAxisOffsetLeft)\n    this._chartEvent.setChartContentLeftRight({ contentLeft: mainOffsetLeft, contentRight: mainOffsetLeft + mainWidth })\n  }\n\n  /**\n   * 调整窗口尺寸\n   * @param shouldMeasureHeight\n   * @param shouldMeasureWidth\n   * @param shouldLayout\n   * @param shouldComputeAxis\n   * @param shouldForceComputeAxis\n   */\n  adjustPaneViewport (\n    shouldMeasureHeight, shouldMeasureWidth, shouldLayout, shouldComputeAxis, shouldForceComputeAxis\n  ) {\n    if (shouldMeasureHeight) {\n      this._measurePaneHeight()\n    }\n    let isAdjust = false\n    if (shouldComputeAxis) {\n      this._panes.forEach(pane => {\n        const adjust = pane.yAxis().computeAxis(shouldForceComputeAxis)\n        if (!isAdjust) {\n          isAdjust = adjust\n        }\n      })\n    }\n    if ((!shouldComputeAxis && shouldMeasureWidth) || (shouldComputeAxis && isAdjust)) {\n      this._measurePaneWidth()\n    }\n    if (shouldLayout) {\n      this._xAxisPane.xAxis().computeAxis(true)\n      this._xAxisPane.layout()\n      this._panes.forEach(pane => {\n        pane.layout()\n      })\n    }\n  }\n\n  /**\n   * 窗口是否存在\n   * @param paneId\n   * @return {boolean}\n   */\n  hasPane (paneId) {\n    return this._panes.has(paneId)\n  }\n\n  /**\n   * 获取窗口\n   * @param paneId\n   * @returns\n   */\n  getPane (paneId) {\n    return this._panes.get(paneId)\n  }\n\n  /**\n   * 获取图表上的数据\n   * @returns {chartStore}\n   */\n  chartStore () {\n    return this._chartStore\n  }\n\n  /**\n   * 移除指标\n   * @param paneId\n   * @param name\n   */\n  removeTechnicalIndicator (paneId, name) {\n    const removed = this._chartStore.technicalIndicatorStore().removeInstance(paneId, name)\n    if (removed) {\n      let shouldMeasureHeight = false\n      if (paneId !== CANDLE_PANE_ID) {\n        if (!this._chartStore.technicalIndicatorStore().hasInstance(paneId)) {\n          shouldMeasureHeight = true\n          this._panes.get(paneId).destroy()\n          const deleteSeparatorTopPaneId = this._separators.get(paneId).topPaneId()\n          this._separators.get(paneId).destroy()\n          this._panes.delete(paneId)\n          this._separators.delete(paneId)\n          this._separators.forEach(separator => {\n            const topPaneId = separator.topPaneId()\n            if (!this._separators.has(topPaneId)) {\n              separator.updatePaneId(deleteSeparatorTopPaneId)\n            }\n          })\n        }\n      }\n      this.adjustPaneViewport(shouldMeasureHeight, true, true, true, true)\n    }\n  }\n\n  /**\n   * 设置指标类型\n   * @param tech 技术指标实例\n   * @param isStack 是否叠加\n   * @param options 配置\n   */\n  createTechnicalIndicator (tech, isStack, options = {}) {\n    if (this._panes.has(options.id)) {\n      const task = this._chartStore.technicalIndicatorStore().addInstance(options.id, tech, isStack)\n      if (task) {\n        task.finally(_ => {\n          this.setPaneOptions(options, this._panes.get(options.id).yAxis().computeAxis(true))\n        })\n      }\n      return options.id\n    }\n    const id = options.id || `${TECHNICAL_INDICATOR_PANE_ID_PREFIX}${++this._paneBaseId}`\n    const dragEnabled = isBoolean(options.dragEnabled) ? options.dragEnabled : true\n    this._separators.set(id, new SeparatorPane(\n      this._chartContainer,\n      this._chartStore,\n      Array.from(this._panes.keys()).pop(),\n      id,\n      dragEnabled,\n      {\n        startDrag: this._separatorStartDrag.bind(this),\n        drag: throttle(this._separatorDrag.bind(this), 50)\n      }\n    ))\n    const pane = new TechnicalIndicatorPane({\n      container: this._chartContainer,\n      chartStore: this._chartStore,\n      xAxis: this._xAxisPane.xAxis(),\n      id,\n      height: options.height || DEFAULT_TECHNICAL_INDICATOR_PANE_HEIGHT\n    })\n    this._panes.set(id, pane)\n    const task = this._chartStore.technicalIndicatorStore().addInstance(id, tech, isStack)\n    if (task) {\n      task.finally(_ => {\n        this.adjustPaneViewport(true, true, true, true, true)\n      })\n    }\n    return id\n  }\n\n  /**\n   * 创建图形\n   * @param ShapeTemplateClass\n   * @param shapeOptions\n   * @param paneId\n   */\n  createShape (ShapeTemplateClass, shapeOptions, paneId) {\n    const {\n      id, points, styles, lock, mode, data,\n      onDrawStart, onDrawing,\n      onDrawEnd, onClick,\n      onRightClick, onPressedMove,\n      onMouseEnter, onMouseLeave,\n      onRemove\n    } = shapeOptions\n    const shapeId = id || `${SHAPE_ID_PREFIX}${++this._shapeBaseId}`\n    if (!this._chartStore.shapeStore().hasInstance(shapeId)) {\n      let yAxis = null\n      if (this.hasPane(paneId)) {\n        yAxis = this._panes.get(paneId).yAxis()\n      } else {\n        if (points && points.length > 0) {\n          paneId = CANDLE_PANE_ID\n          yAxis = this._panes.get(CANDLE_PANE_ID).yAxis()\n        }\n      }\n      const shapeInstance = new ShapeTemplateClass({\n        id: shapeId,\n        chartStore: this._chartStore,\n        xAxis: this._xAxisPane.xAxis(),\n        yAxis,\n        points,\n        styles,\n        lock,\n        mode,\n        data\n      })\n      if (isFunction(onDrawStart)) {\n        onDrawStart({ id: shapeId })\n      }\n      perfectOverlayFunc(shapeInstance, [\n        { key: 'onDrawing', fn: onDrawing },\n        { key: 'onDrawEnd', fn: onDrawEnd },\n        { key: 'onClick', fn: onClick },\n        { key: 'onRightClick', fn: onRightClick },\n        { key: 'onPressedMove', fn: onPressedMove },\n        { key: 'onMouseEnter', fn: onMouseEnter },\n        { key: 'onMouseLeave', fn: onMouseLeave },\n        { key: 'onRemove', fn: onRemove }\n      ])\n      this._chartStore.shapeStore().addInstance(shapeInstance, paneId)\n      return shapeId\n    }\n    return null\n  }\n\n  /**\n   * 创建注解\n   * @param annotations\n   * @param paneId\n   */\n  createAnnotation (annotations, paneId) {\n    const instances = []\n    annotations.forEach(({\n      point,\n      styles,\n      checkEventCoordinateOnCustomSymbol,\n      drawCustomSymbol,\n      drawExtend,\n      onClick,\n      onRightClick,\n      onMouseEnter,\n      onMouseLeave\n    }) => {\n      if (point && point.timestamp) {\n        const annotationInstance = new Annotation({\n          id: point.timestamp,\n          chartStore: this._chartStore,\n          point,\n          xAxis: this._xAxisPane.xAxis(),\n          yAxis: this._panes.get(paneId).yAxis(),\n          styles\n        })\n\n        perfectOverlayFunc(annotationInstance, [\n          { key: 'drawExtend', fn: drawExtend },\n          { key: 'drawCustomSymbol', fn: drawCustomSymbol },\n          { key: 'checkEventCoordinateOnCustomSymbol', fn: checkEventCoordinateOnCustomSymbol },\n          { key: 'onClick', fn: onClick },\n          { key: 'onRightClick', fn: onRightClick },\n          { key: 'onMouseEnter', fn: onMouseEnter },\n          { key: 'onMouseLeave', fn: onMouseLeave }\n        ])\n        instances.push(annotationInstance)\n      }\n    })\n    if (instances.length > 0) {\n      this._chartStore.annotationStore().add(instances, paneId)\n    }\n  }\n\n  /**\n   * 创建标签\n   * @param tags\n   * @param paneId\n   */\n  createTag (tags, paneId) {\n    const instances = []\n    let shouldUpdate = false\n    let shouldAdd = false\n    tags.forEach(({ id, point, text, mark, styles }) => {\n      if (isValid(id)) {\n        if (this._chartStore.tagStore().has(id, paneId)) {\n          const updateSuccess = this._chartStore.tagStore().update(id, paneId, { point, text, mark, styles })\n          if (!shouldUpdate) {\n            shouldUpdate = updateSuccess\n          }\n        } else {\n          shouldAdd = true\n          instances.push(new Tag({\n            id,\n            point,\n            text,\n            mark,\n            styles,\n            chartStore: this._chartStore,\n            xAxis: this._xAxisPane.xAxis(),\n            yAxis: this._panes.get(paneId).yAxis()\n          }))\n        }\n      }\n    })\n    if (shouldAdd) {\n      this._chartStore.tagStore().add(instances, paneId)\n    } else {\n      if (shouldUpdate) {\n        this._invalidatePane(InvalidateLevel.OVERLAY)\n      }\n    }\n  }\n\n  /**\n   * 移除所有html元素\n   */\n  removeAllHtml () {\n    this._panes.forEach(pane => { pane.removeHtml() })\n    this._xAxisPane.removeHtml()\n  }\n\n  /**\n   * 设置窗体参数\n   * @param options\n   * @param forceShouldAdjust\n   */\n  setPaneOptions (options, forceShouldAdjust) {\n    let shouldAdjust = forceShouldAdjust\n    let shouldMeasureHeight = false\n    if (options.id !== CANDLE_PANE_ID) {\n      const pane = this._panes.get(options.id)\n      if (pane) {\n        if (isNumber(options.height) && options.height > 0 && pane.height() !== options.height) {\n          shouldAdjust = true\n          pane.setHeight(options.height)\n          shouldMeasureHeight = true\n        }\n        if (isBoolean(options.dragEnabled)) {\n          this._separators.get(options.id).setDragEnabled(options.dragEnabled)\n        }\n      }\n    }\n    if (shouldAdjust) {\n      this.adjustPaneViewport(shouldMeasureHeight, true, true, true, true)\n    }\n  }\n\n  /**\n   * 设置时区\n   * @param timezone\n   */\n  setTimezone (timezone) {\n    this._chartStore.timeScaleStore().setTimezone(timezone)\n    this._xAxisPane.xAxis().computeAxis(true)\n    this._xAxisPane.invalidate(InvalidateLevel.FULL)\n  }\n\n  /**\n   * 将值装换成像素\n   * @param timestamp\n   * @param point\n   * @param paneId\n   * @param absoluteYAxis\n   */\n  convertToPixel (point, { paneId = CANDLE_PANE_ID, absoluteYAxis }) {\n    const points = [].concat(point)\n    let coordinates = []\n    const separatorSize = this._chartStore.styleOptions().separator.size\n    let absoluteTop = 0\n    const panes = this._panes.values()\n    for (const pane of panes) {\n      if (pane.id() === paneId) {\n        coordinates = points.map(({ timestamp, dataIndex, value }) => {\n          const coordinate = {}\n          let index = dataIndex\n          if (isValid(timestamp)) {\n            index = this._chartStore.timeScaleStore().timestampToDataIndex(timestamp)\n          }\n          if (isValid(index)) {\n            coordinate.x = this._xAxisPane.xAxis().convertToPixel(index)\n          }\n          if (isValid(value)) {\n            const y = pane.yAxis().convertToPixel(value)\n            coordinate.y = absoluteYAxis ? absoluteTop + y : y\n          }\n          return coordinate\n        })\n        break\n      }\n      absoluteTop += (pane.height() + separatorSize)\n    }\n    return isArray(point) ? coordinates : (coordinates[0] || {})\n  }\n\n  /**\n   * 将像素转换成值\n   * @param coordinate\n   * @param paneId\n   * @param dataIndexXAxis\n   * @param absoluteYAxis\n   * @return {{}[]|*[]}\n   */\n  convertFromPixel (coordinate, { paneId = CANDLE_PANE_ID, absoluteYAxis }) {\n    const coordinates = [].concat(coordinate)\n    let points = []\n    const separatorSize = this._chartStore.styleOptions().separator.size\n    let absoluteTop = 0\n    const panes = this._panes.values()\n    for (const pane of panes) {\n      if (pane.id() === paneId) {\n        points = coordinates.map(({ x, y }) => {\n          const point = {}\n          if (isValid(x)) {\n            point.dataIndex = this._xAxisPane.xAxis().convertFromPixel(x)\n            point.timestamp = this._chartStore.timeScaleStore().dataIndexToTimestamp(point.dataIndex)\n          }\n          if (isValid(y)) {\n            const ry = absoluteYAxis ? y - absoluteTop : y\n            point.value = pane.yAxis().convertFromPixel(ry)\n          }\n          return point\n        })\n        break\n      }\n      absoluteTop += pane.height() + separatorSize\n    }\n    return isArray(coordinate) ? points : (points[0] || {})\n  }\n\n  /**\n   * 图表宽度\n   * @return {*|{}}\n   */\n  chartWidth () {\n    return this._chartWidth\n  }\n\n  /**\n   * 图表高度\n   * @return {*|{}}\n   */\n  chartHeight () {\n    return this._chartHeight\n  }\n\n  /**\n   * 获取图表转换为图片后url\n   * @param includeOverlay,\n   * @param type\n   * @param backgroundColor\n   */\n  getConvertPictureUrl (includeOverlay, type, backgroundColor) {\n    const width = this._chartContainer.offsetWidth\n    const height = this._chartContainer.offsetHeight\n    const canvas = createElement('canvas', {\n      width: `${width}px`,\n      height: `${height}px`,\n      boxSizing: 'border-box'\n    })\n    const ctx = canvas.getContext('2d')\n    const pixelRatio = getPixelRatio(canvas)\n    canvas.width = width * pixelRatio\n    canvas.height = height * pixelRatio\n    ctx.scale(pixelRatio, pixelRatio)\n\n    ctx.fillStyle = backgroundColor\n    ctx.fillRect(0, 0, width, height)\n    let offsetTop = 0\n    this._panes.forEach((pane, paneId) => {\n      if (paneId !== CANDLE_PANE_ID) {\n        const separator = this._separators.get(paneId)\n        ctx.drawImage(\n          separator.getImage(),\n          0, offsetTop, width, separator.height()\n        )\n        offsetTop += separator.height()\n      }\n      ctx.drawImage(\n        pane.getImage(includeOverlay),\n        0, offsetTop, width, pane.height()\n      )\n      offsetTop += pane.height()\n    })\n    ctx.drawImage(\n      this._xAxisPane.getImage(includeOverlay),\n      0, offsetTop, width, this._xAxisPane.height()\n    )\n    return canvas.toDataURL(`image/${type}`)\n  }\n\n  /**\n   * 销毁\n   */\n  destroy () {\n    this._panes.forEach(pane => {\n      pane.destroy()\n    })\n    this._separators.forEach(pane => {\n      pane.destroy()\n    })\n    this._panes.clear()\n    this._separators.clear()\n    this._xAxisPane.destroy()\n    this._container.removeChild(this._chartContainer)\n    this._chartEvent.destroy()\n  }\n}\n","/**\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n\n * http://www.apache.org/licenses/LICENSE-2.0\n\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport ChartPane, { CANDLE_PANE_ID } from './pane/ChartPane'\nimport { clone, isNumber, isObject, isArray, isFunction, isValid, isString } from './utils/typeChecks'\nimport { logWarn } from './utils/logger'\nimport { requestAnimationFrame } from './utils/compatible'\nimport { formatValue } from './utils/format'\n\nexport default class Chart {\n  constructor (container, styleOptions) {\n    this._chartPane = new ChartPane(container, styleOptions)\n  }\n\n  /**\n   * 获取宽尺寸\n   * @return {*|{}}\n   */\n  getWidth () {\n    return this._chartPane.chartWidth()\n  }\n\n  /**\n   * 获取高度尺寸\n   * @return {*|{}}\n   */\n  getHeight () {\n    return this._chartPane.chartHeight()\n  }\n\n  /**\n   * 设置样式配置\n   * @param options 配置\n   */\n  setStyleOptions (options) {\n    if (!isObject(options)) {\n      logWarn('setStyleOptions', 'options')\n      return\n    }\n    this._chartPane.chartStore().applyStyleOptions(options)\n    this._chartPane.adjustPaneViewport(true, true, true, true, true)\n  }\n\n  /**\n   * 获取样式配置\n   * @returns {[]|*[]}\n   */\n  getStyleOptions () {\n    return clone(this._chartPane.chartStore().styleOptions())\n  }\n\n  /**\n   * 设置价格数量精度\n   * @param pricePrecision 价格精度\n   * @param volumePrecision 数量精度\n   */\n  setPriceVolumePrecision (pricePrecision, volumePrecision) {\n    if (!isNumber(pricePrecision) || pricePrecision < 0) {\n      logWarn('setPriceVolumePrecision', 'pricePrecision', 'pricePrecision must be a number and greater than zero!!!')\n      return\n    }\n    if (!isNumber(volumePrecision) || volumePrecision < 0) {\n      logWarn('setPriceVolumePrecision', 'volumePrecision', 'volumePrecision must be a number and greater than zero!!!')\n      return\n    }\n    this._chartPane.chartStore().setPriceVolumePrecision(pricePrecision, volumePrecision)\n  }\n\n  /**\n   * 设置时区\n   * @param timezone 时区\n   */\n  setTimezone (timezone) {\n    this._chartPane.setTimezone(timezone)\n  }\n\n  /**\n   * 获取当前时区\n   */\n  getTimezone () {\n    return this._chartPane.chartStore().timeScaleStore().timezone()\n  }\n\n  /**\n   * 重置尺寸，总是会填充父容器\n   */\n  resize () {\n    this._chartPane.adjustPaneViewport(true, true, true, true, true)\n  }\n\n  /**\n   * 设置右边间距\n   * @param space 空间大小\n   */\n  setOffsetRightSpace (space) {\n    if (!isNumber(space)) {\n      logWarn('setOffsetRightSpace', 'space', 'space must be a number!!!')\n      return\n    }\n    this._chartPane.chartStore().timeScaleStore().setOffsetRightSpace(space, true)\n  }\n\n  /**\n   * 设置左边可见的最小bar数量\n   * @param barCount bar数量\n   */\n  setLeftMinVisibleBarCount (barCount) {\n    if (!isNumber(barCount) || barCount <= 0) {\n      logWarn('setLeftMinVisibleBarCount', 'barCount', 'barCount must be a number and greater than zero!!!')\n      return\n    }\n    this._chartPane.chartStore().timeScaleStore().setLeftMinVisibleBarCount(Math.ceil(barCount))\n  }\n\n  /**\n   * 设置右边可见的最小bar数量\n   * @param barCount bar数量\n   */\n  setRightMinVisibleBarCount (barCount) {\n    if (!isNumber(barCount) || barCount <= 0) {\n      logWarn('setRightMinVisibleBarCount', 'barCount', 'barCount must be a number and greater than zero!!!')\n      return\n    }\n    this._chartPane.chartStore().timeScaleStore().setRightMinVisibleBarCount(Math.ceil(barCount))\n  }\n\n  /**\n   * 设置一条数据的空间\n   * @param space 空间大小\n   */\n  setDataSpace (space) {\n    if (!isNumber(space)) {\n      logWarn('setDataSpace', 'space', 'space must be a number!!!')\n      return\n    }\n    this._chartPane.chartStore().timeScaleStore().setDataSpace(space)\n  }\n\n  /**\n   * 获取单条数据的空间\n   * @returns\n   */\n  getDataSpace () {\n    return this._chartPane.chartStore().timeScaleStore().dataSpace()\n  }\n\n  /**\n   * 获取单条数据绘制的空间\n   * @returns\n   */\n  getBarSpace () {\n    return this._chartPane.chartStore().timeScaleStore().barSpace()\n  }\n\n  /**\n   * 清空数据\n   */\n  clearData () {\n    this._chartPane.chartStore().clearDataList()\n  }\n\n  /**\n   * 获取数据源\n   */\n  getDataList () {\n    return this._chartPane.chartStore().dataList()\n  }\n\n  /**\n   * 添加新数据\n   * @param dataList k线数据数组\n   * @param more 是否还有更多标识\n   */\n  applyNewData (dataList, more) {\n    if (!isArray(dataList)) {\n      logWarn('applyNewData', 'dataList', 'dataList must be an array!!!')\n      return\n    }\n    const chartStore = this._chartPane.chartStore()\n    chartStore.clearDataList()\n    chartStore.addData(dataList, 0, more)\n    chartStore.technicalIndicatorStore().calcInstance().finally(\n      _ => {\n        this._chartPane.adjustPaneViewport(false, true, true, true)\n      }\n    )\n  }\n\n  applyAsksBidsData (data) {\n    const chartStore = this._chartPane.chartStore()\n    chartStore.addAsksBidsData(data)\n  }\n\n  /**\n   * 添加历史更多数据\n   * @param dataList k线数据数组\n   * @param more 是否还有更多标识\n   */\n  applyMoreData (dataList, more) {\n    if (!isArray(dataList)) {\n      logWarn('applyMoreData', 'dataList', 'dataList must be an array!!!')\n      return\n    }\n    const chartStore = this._chartPane.chartStore()\n    chartStore.addData(dataList, 0, more)\n    chartStore.technicalIndicatorStore().calcInstance().finally(\n      _ => {\n        this._chartPane.adjustPaneViewport(false, true, true, true)\n      }\n    )\n  }\n\n  /**\n   * 更新数据\n   * @param data 新的k线数据\n   */\n  updateData (data) {\n    if (!isObject(data) || isArray(data)) {\n      logWarn('updateData', 'data', 'data must be an object!!!')\n      return\n    }\n    const chartStore = this._chartPane.chartStore()\n    const dataList = chartStore.dataList()\n    const dataSize = dataList.length\n    // 这里判断单个数据应该添加到哪个位置\n    const timestamp = formatValue(data, 'timestamp', 0)\n    const lastDataTimestamp = formatValue(dataList[dataSize - 1], 'timestamp', 0)\n    if (timestamp >= lastDataTimestamp) {\n      let pos = dataSize\n      if (timestamp === lastDataTimestamp) {\n        pos = dataSize - 1\n      }\n      chartStore.addData(data, pos)\n      chartStore.technicalIndicatorStore().calcInstance().finally(\n        _ => {\n          this._chartPane.adjustPaneViewport(false, true, true, true)\n        }\n      )\n    }\n  }\n\n  /**\n   * 设置加载更多回调\n   * @param cb 回调方法\n   */\n  loadMore (cb) {\n    if (!isFunction(cb)) {\n      logWarn('loadMore', 'cb', 'cb must be a function!!!')\n      return\n    }\n    this._chartPane.chartStore().timeScaleStore().setLoadMoreCallback(cb)\n  }\n\n  /**\n   * 创建一个技术指标\n   * @param value 指标名或者指标\n   * @param isStack 是否覆盖\n   * @param paneOptions 窗口配置\n   * @returns {string|null}\n   */\n  createTechnicalIndicator (value, isStack, paneOptions) {\n    if (!isValid(value)) {\n      logWarn('createTechnicalIndicator', 'value', 'value is invalid!!!')\n      return null\n    }\n    const tech = isObject(value) && !isArray(value) ? value : { name: value }\n    if (!this._chartPane.chartStore().technicalIndicatorStore().hasTemplate(tech.name)) {\n      logWarn('createTechnicalIndicator', 'value', 'can not find the corresponding technical indicator!!!')\n      return null\n    }\n    return this._chartPane.createTechnicalIndicator(tech, isStack, paneOptions)\n  }\n\n  /**\n   * 添加技术指标模板\n   * @param template 指标模板\n   */\n  addTechnicalIndicatorTemplate (template) {\n    if (!isObject(template)) {\n      logWarn('addTechnicalIndicatorTemplate', 'template', 'template must be an object or array!!!')\n      return\n    }\n    const templates = [].concat(template)\n    this._chartPane.chartStore().technicalIndicatorStore().addTemplate(templates)\n  }\n\n  /**\n   * 覆盖技术指标\n   * @param override 覆盖参数\n   * @param paneId 窗口id\n   */\n  overrideTechnicalIndicator (techOverride, paneId) {\n    if (!isObject(techOverride) || isArray(techOverride)) {\n      logWarn('overrideTechnicalIndicator', 'overrideTech', 'overrideTech must be an object!!!')\n      return\n    }\n    const promise = this._chartPane.chartStore().technicalIndicatorStore().override(techOverride, paneId)\n    if (promise) {\n      promise.then(\n        _ => {\n          this._chartPane.adjustPaneViewport(false, true, true, true)\n        }\n      )\n    }\n  }\n\n  /**\n   * 获取技术指标名字获取技术指标\n   * @param name 指标名\n   * @return {{}}\n   */\n  getTechnicalIndicatorTemplate (name) {\n    return this._chartPane.chartStore().technicalIndicatorStore().getTemplateInfo(name)\n  }\n\n  /**\n    * 获取窗口上的技术指标\n    * @param paneId 窗口id\n    * @param name 指标名\n    * @return {{}}\n    */\n  getTechnicalIndicatorByPaneId (paneId, name) {\n    return this._chartPane.chartStore().technicalIndicatorStore().getInstanceInfo(paneId, name)\n  }\n\n  /**\n   * 移除一个技术指标\n   * @param paneId 窗口id\n   * @param name 指标名\n   */\n  removeTechnicalIndicator (paneId, name) {\n    this._chartPane.removeTechnicalIndicator(paneId, name)\n  }\n\n  /**\n   * 添加图形模板\n   * @param template 图形模板\n   */\n  addShapeTemplate (template) {\n    if (!isObject(template)) {\n      logWarn('addShapeTemplate', 'template', 'template must be an object or array!!!')\n      return\n    }\n    const templates = [].concat(template)\n    this._chartPane.chartStore().shapeStore().addTemplate(templates)\n  }\n\n  /**\n   * 创建图形\n   * @param value 图形名或者图形配置\n   * @param paneId 窗口id\n   */\n  createShape (value, paneId) {\n    if (!isValid(value)) {\n      logWarn('createShape', 'value', 'value is invalid!!!')\n      return null\n    }\n    const shapeOptions = isObject(value) && !isArray(value) ? value : { name: value }\n    const Shape = this._chartPane.chartStore().shapeStore().getTemplate(shapeOptions.name)\n    if (!Shape) {\n      logWarn('createShape', 'value', 'can not find the corresponding shape!!!')\n      return null\n    }\n    const id = this._chartPane.createShape(Shape, shapeOptions, paneId)\n    if (!id) {\n      logWarn('createShape', 'options.id', 'duplicate id!!!')\n    }\n    return id\n  }\n\n  /**\n   * 获取图形标记\n   * @param shapeId 图形标记id\n   * @return {{name, lock: *, styles, id, points: (*|*[])}[]|{name, lock: *, styles, id, points: (*|*[])}}\n   */\n  getShape (shapeId) {\n    return this._chartPane.chartStore().shapeStore().getInstanceInfo(shapeId)\n  }\n\n  /**\n   * 设置图形标记配置\n   * @param options 图形标记配置\n   */\n  setShapeOptions (options) {\n    if (!isObject(options) || isArray(options)) {\n      logWarn('setShapeOptions', 'options', 'options must be an object!!!')\n      return\n    }\n    this._chartPane.chartStore().shapeStore().setInstanceOptions(options)\n  }\n\n  /**\n   * 移除图形\n   * @param shapeId 图形id\n   */\n  removeShape (shapeId) {\n    this._chartPane.chartStore().shapeStore().removeInstance(shapeId)\n  }\n\n  /**\n   * 创建注解\n   * @param annotation 单个注解或者注解数组\n   * @param paneId 窗口id\n   */\n  createAnnotation (annotation, paneId = CANDLE_PANE_ID) {\n    if (!isObject(annotation)) {\n      logWarn('createAnnotation', 'annotation', 'annotation must be an object or array!!!')\n      return\n    }\n    if (!this._chartPane.hasPane(paneId)) {\n      logWarn('createAnnotation', 'paneId', 'can not find the corresponding pane!!!')\n      return\n    }\n    const annotations = [].concat(annotation)\n    this._chartPane.createAnnotation(annotations, paneId)\n  }\n\n  /**\n   * 移除注解\n   * @param paneId 窗口id\n   * @param points 单个点或者点数组\n   */\n  removeAnnotation (paneId, points) {\n    this._chartPane.chartStore().annotationStore().remove(paneId, points)\n  }\n\n  /**\n   * 创建标签\n   * @param tag 单个标签或者标签数组\n   * @param paneId 窗口id\n   */\n  createTag (tag, paneId = CANDLE_PANE_ID) {\n    if (!isObject(tag)) {\n      logWarn('createTag', 'tag', 'tag must be an object or array!!!')\n      return\n    }\n    if (!this._chartPane.hasPane(paneId)) {\n      logWarn('createTag', 'paneId', 'can not find the corresponding pane!!!')\n      return\n    }\n    const tags = [].concat(tag)\n    this._chartPane.createTag(tags, paneId)\n  }\n\n  /**\n   * 移除标签\n   * @param paneId 窗口id\n   * @param tagId 标签id\n   */\n  removeTag (paneId, tagId) {\n    this._chartPane.chartStore().tagStore().remove(paneId, tagId)\n  }\n\n  /**\n   * 创建html元素\n   * @param html\n   * @param paneId\n   * @returns\n   */\n  createHtml (html, paneId = CANDLE_PANE_ID) {\n    if (!isObject(html)) {\n      logWarn('createHtml', 'html', 'options must be an object!!!')\n      return null\n    }\n    if (!isString(html.content) && !(html.content instanceof HTMLElement)) {\n      logWarn('createHtml', 'html.content', 'invalid html.content!!!')\n      return null\n    }\n    const pane = this._chartPane.getPane(paneId)\n    if (!pane) {\n      logWarn('createHtml', 'paneId', 'can not find the corresponding pane!!!')\n      return null\n    }\n    return pane.createHtml(html)\n  }\n\n  /**\n   * 移除html元素\n   * @param paneId\n   * @param htmlId\n   */\n  removeHtml (paneId, htmlId) {\n    if (paneId) {\n      const pane = this._chartPane.getPane(paneId)\n      pane && pane.removeHtml(htmlId)\n    } else {\n      this._chartPane.removeAllHtml()\n    }\n  }\n\n  /**\n   * 设置窗口属性\n   * @param options 窗口配置\n   */\n  setPaneOptions (options) {\n    if (!isObject(options)) {\n      logWarn('setPaneOptions', 'options', 'options must be an object!!!')\n      return\n    }\n    this._chartPane.setPaneOptions(options, false)\n  }\n\n  /**\n   * 设置是否可以缩放\n   * @param enabled 标识\n   */\n  setZoomEnabled (enabled) {\n    this._chartPane.chartStore().timeScaleStore().setZoomEnabled(enabled)\n  }\n\n  /**\n   * 是否可以缩放\n   * @return {boolean}\n   */\n  isZoomEnabled () {\n    return this._chartPane.chartStore().timeScaleStore().zoomEnabled()\n  }\n\n  /**\n   * 设置是否可以拖拽滚动\n   * @param enabled 标识\n   */\n  setScrollEnabled (enabled) {\n    this._chartPane.chartStore().timeScaleStore().setScrollEnabled(enabled)\n  }\n\n  /**\n   * 是否可以拖拽滚动\n   * @return {boolean}\n   */\n  isScrollEnabled () {\n    return this._chartPane.chartStore().timeScaleStore().scrollEnabled()\n  }\n\n  /**\n   * 按距离滚动\n   * @param distance 距离\n   * @param animationDuration 动画持续时间\n   */\n  scrollByDistance (distance, animationDuration) {\n    if (!isNumber(distance)) {\n      logWarn('scrollByDistance', 'distance', 'distance must be a number!!!')\n      return\n    }\n    if (isNumber(animationDuration) && animationDuration > 0) {\n      this._chartPane.chartStore().timeScaleStore().startScroll()\n      const startTime = new Date().getTime()\n      const animation = () => {\n        const progress = (new Date().getTime() - startTime) / animationDuration\n        const finished = progress >= 1\n        const dis = finished ? distance : distance * progress\n        this._chartPane.chartStore().timeScaleStore().scroll(dis)\n        if (!finished) {\n          requestAnimationFrame(animation)\n        }\n      }\n      animation()\n    } else {\n      this._chartPane.chartStore().timeScaleStore().startScroll()\n      this._chartPane.chartStore().timeScaleStore().scroll(distance)\n    }\n  }\n\n  /**\n   * 滚动到实时位置\n   * @param animationDuration 动画持续时间\n   */\n  scrollToRealTime (animationDuration) {\n    const difBarCount = this._chartPane.chartStore().timeScaleStore().offsetRightBarCount() - this._chartPane.chartStore().timeScaleStore().offsetRightSpace() / this._chartPane.chartStore().timeScaleStore().dataSpace()\n    const distance = difBarCount * this._chartPane.chartStore().timeScaleStore().dataSpace()\n    this.scrollByDistance(distance, animationDuration)\n  }\n\n  /**\n   * 滚动到指定的数据索引\n   * @param dataIndex 数据索引\n   * @param animationDuration 动画持续时间\n   */\n  scrollToDataIndex (dataIndex, animationDuration) {\n    if (!isNumber(dataIndex)) {\n      logWarn('scrollToDataIndex', 'dataIndex', 'dataIndex must be a number!!!')\n      return\n    }\n    const distance = (this._chartPane.chartStore().dataList().length - 1 - dataIndex) * this._chartPane.chartStore().timeScaleStore().dataSpace()\n    this.scrollByDistance(distance, animationDuration)\n  }\n\n  /**\n   * 在某个坐标点缩放\n   * @param scale 缩放比例\n   * @param coordinate 坐标点\n   * @param animationDuration 动画持续时间\n   */\n  zoomAtCoordinate (scale, coordinate, animationDuration) {\n    if (!isNumber(scale)) {\n      logWarn('zoomAtCoordinate', 'scale', 'scale must be a number!!!')\n      return\n    }\n    if (isNumber(animationDuration) && animationDuration > 0) {\n      const dataSpace = this._chartPane.chartStore().timeScaleStore().dataSpace()\n      const scaleDataSpace = dataSpace * scale\n      const difSpace = scaleDataSpace - dataSpace\n      const startTime = new Date().getTime()\n      const animation = () => {\n        const progress = (new Date().getTime() - startTime) / animationDuration\n        const finished = progress >= 1\n        const progressDataSpace = finished ? difSpace : difSpace * progress\n        this._chartPane.chartStore().timeScaleStore().zoom(progressDataSpace / dataSpace, coordinate)\n        if (!finished) {\n          requestAnimationFrame(animation)\n        }\n      }\n      animation()\n    } else {\n      this._chartPane.chartStore().timeScaleStore().zoom(scale, coordinate)\n    }\n  }\n\n  /**\n   * 在某个数据索引缩放\n   * @param scale 缩放比例\n   * @param dataIndex 索引位置\n   * @param animationDuration 动画持续时间\n   */\n  zoomAtDataIndex (scale, dataIndex, animationDuration) {\n    if (!isNumber(scale)) {\n      logWarn('zoomAtDataIndex', 'scale', 'scale must be a number!!!')\n      return\n    }\n    if (!isNumber(dataIndex)) {\n      logWarn('zoomAtDataIndex', 'dataIndex', 'dataIndex must be a number!!!')\n      return\n    }\n    const x = this._chartPane.chartStore().timeScaleStore().dataIndexToCoordinate(dataIndex)\n    this.zoomAtCoordinate(scale, { x }, animationDuration)\n  }\n\n  /**\n   * 将值装换成像素\n   * @param point 单个点或者点集合\n   * @param finder 过滤条件\n   */\n  convertToPixel (point, finder) {\n    return this._chartPane.convertToPixel(point, finder)\n  }\n\n  /**\n   * 将像素转换成值\n   * @param coordinate 单个坐标或者坐标集合\n   * @param finder 过滤条件\n   */\n  convertFromPixel (coordinate, finder) {\n    return this._chartPane.convertFromPixel(coordinate, finder)\n  }\n\n  /**\n   * 订阅图表动作\n   * @param type 动作类型\n   * @param callback 回调方法\n   */\n  subscribeAction (type, callback) {\n    if (!this._chartPane.chartStore().actionStore().subscribe(type, callback)) {\n      logWarn('subscribeAction', 'type', 'type does not exist!!!')\n    }\n  }\n\n  /**\n   * 取消订阅图表动作\n   * @param type 动作类型\n   * @param callback 回调方法\n   */\n  unsubscribeAction (type, callback) {\n    if (!this._chartPane.chartStore().actionStore().unsubscribe(type, callback)) {\n      logWarn('unsubscribeAction', 'type', 'type does not exist!!!')\n    }\n  }\n\n  /**\n   * 获取将图表装换成图片后的url\n   * @param includeOverlay 是否包含覆盖层\n   * @param type 图片类型\n   * @param backgroundColor 背景色\n   */\n  getConvertPictureUrl (includeOverlay, type = 'jpeg', backgroundColor = '#FFFFFF') {\n    if (type !== 'png' && type !== 'jpeg' && type !== 'bmp') {\n      logWarn('getConvertPictureUrl', 'type', 'type only supports jpeg, png and bmp!!!')\n      return\n    }\n    return this._chartPane.getConvertPictureUrl(includeOverlay, type, backgroundColor)\n  }\n\n  /**\n   * 销毁\n   */\n  destroy () {\n    this._chartPane.destroy()\n  }\n}\n","/**\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n\n * http://www.apache.org/licenses/LICENSE-2.0\n\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport Chart from './Chart'\nimport { logError, logTag, logWarn } from './utils/logger'\nimport {\n  clone, merge, isString, isNumber, isValid, isObject, isArray, isFunction, isBoolean\n} from './utils/typeChecks'\n\nimport { formatValue, formatPrecision, formatBigNumber } from './utils/format'\n\nconst instances = {}\nlet chartBaseId = 1\nconst CHART_NAME_PREFIX = 'k_line_chart_'\n\n/**\n * 获取版本号\n * @returns {string}\n */\nfunction version () {\n  return '__BUILD_VERSION__'\n}\n\n/**\n * 初始化\n * @param ds\n * @param style\n * @returns {Chart}\n */\nfunction init (ds, style = {}) {\n  logTag()\n  const errorMessage = 'The chart cannot be initialized correctly. Please check the parameters. The chart container cannot be null and child elements need to be added!!!'\n  let dom\n  if (!ds) {\n    logError('', '', errorMessage)\n    return null\n  }\n  if (isString(ds)) {\n    dom = document.getElementById(ds)\n  } else {\n    dom = ds\n  }\n  if (!dom) {\n    logError('', '', errorMessage)\n    return null\n  }\n  let chart = instances[dom.chartId || '']\n  if (chart) {\n    logWarn('', '', 'The chart has been initialized on the dom！！！')\n    return chart\n  }\n  const id = `${CHART_NAME_PREFIX}${chartBaseId++}`\n  chart = new Chart(dom, style)\n  chart.id = id\n  dom.chartId = id\n  instances[id] = chart\n  return chart\n}\n\n/**\n * 销毁\n * @param dcs\n */\nfunction dispose (dcs) {\n  if (dcs) {\n    let id\n    if (isString(dcs)) {\n      const dom = document.getElementById(dcs)\n      id = dom && dom.chartId\n    } else if (dcs instanceof Chart) {\n      id = dcs.id\n    } else {\n      id = dcs && dcs.chartId\n    }\n    if (id) {\n      instances[id].destroy()\n      delete instances[id]\n    }\n  }\n}\n\nconst utils = {\n  clone,\n  merge,\n  isString,\n  isNumber,\n  isValid,\n  isObject,\n  isArray,\n  isFunction,\n  isBoolean,\n  formatValue,\n  formatPrecision,\n  formatBigNumber\n}\n\nexport { version, init, dispose, utils }\n"],"names":["technicalIndicatorExtensions","shapeExtensions","addTechnicalIndicatorTemplate","template","concat","forEach","tmp","name","addShapeTemplate","merge","target","source","isObject","key","Object","prototype","hasOwnProperty","call","targetProp","sourceProp","isArray","isValid","clone","copy","v","value","toString","isFunction","isNumber","isNaN","undefined","isBoolean","isString","StrokeFillStyle","STROKE","FILL","LineStyle","DASH","SOLID","YAxisPosition","LEFT","RIGHT","YAxisType","NORMAL","PERCENTAGE","LOG","CandleType","CANDLE_SOLID","CANDLE_STROKE","CANDLE_UP_STROKE","CANDLE_DOWN_STROKE","OHLC","AREA","TooltipShowRule","ALWAYS","FOLLOW_CROSS","NONE","TooltipShowType","RECT","STANDARD","AnnotationSymbolType","CIRCLE","TRIANGLE","DIAMOND","CUSTOM","OverlayPosition","POINT","TOP","BOTTOM","defaultGrid","show","horizontal","size","color","style","dashValue","vertical","defaultCandle","margin","top","bottom","type","bar","upColor","downColor","noChangeColor","area","lineSize","lineColor","backgroundColor","offset","priceMark","high","textMargin","textSize","textFamily","textWeight","low","last","line","text","paddingLeft","paddingTop","paddingRight","paddingBottom","family","weight","borderRadius","tooltip","showRule","showType","labels","values","defaultValue","rect","offsetLeft","offsetTop","offsetRight","borderSize","borderColor","marginLeft","marginTop","marginRight","marginBottom","defaultTechnicalIndicator","colors","circle","lastValueMark","showName","showParams","defaultXAxis","height","axisLine","tickText","tickLine","length","defaultYAxis","width","position","inside","asksChart","colorLeft","colorRight","lineWidth","bidsChart","defaultCrosshair","defaultShape","point","radius","activeBackgroundColor","activeBorderColor","activeBorderSize","activeRadius","polygon","stroke","fill","arc","defaultAnnotation","symbol","activeSize","activeColor","defaultTag","mark","defaultSeparator","defaultStyleOptions","grid","candle","technicalIndicator","xAxis","yAxis","separator","crosshair","shape","annotation","tag","formatValue","data","formatDate","dateTimeFormat","timestamp","format","dateTimeString","Date","dateTimeStringArray","split","dateStringArray","date","YYYY","MM","DD","match","replace","formatPrecision","precision","toFixed","formatBigNumber","logWarn","api","invalidParam","append","console","log","logError","logTag","binarySearchNearest","dataList","valueKey","targetNumber","left","right","midIndex","Math","floor","mid","midValue","nice","exponent","log10","exp10","index10","f","nf","round","min","max","getPrecision","str","eIndex","indexOf","slice","dotIndex","pow","ActionType","ZOOM","SCROLL","CROSSHAIR","TOOLTIP","PANE_DRAG","hasAction","MIN_DATA_SPACE","MAX_DATA_SPACE","TimeScaleStore","chartStore","_chartStore","_dateTimeFormat","Intl","DateTimeFormat","hour12","year","month","day","hour","minute","_zoomEnabled","_scrollEnabled","_loading","_loadMoreCallback","_more","_totalDataSpace","_dataSpace","_barSpace","_calcBarSpace","_offsetRightSpace","_offsetRightBarCount","_leftMinVisibleBarCount","_rightMinVisibleBarCount","_from","_to","_preOffsetRightBarCount","rateBarSpace","floorBarSpace","optimalBarSpace","dataSize","barLength","maxRightOffsetBarCount","minRightOffsetBarCount","adjustVisibleDataList","more","loading","timezone","timeZone","e","resolvedOptions","dataSpace","adjustBeforeFuc","adjustFromTo","crosshairStore","recalculate","invalidate","totalSpace","space","setOffsetRightSpace","barCount","distance","distanceBarCount","actionStore","execute","cross","get","set","dataIndex","x","deltaFromRight","index","getDataByDataIndex","pixel","ceil","coordinateToFloatIndex","scale","coordinate","floatIndex","setDataSpace","enabled","callback","setPrototypeOf","assertThisInitialized","require$$0","TechnicalIndicatorPlotType","LINE","BAR","TechnicalIndicatorSeries","PRICE","VOLUME","getTechnicalIndicatorPlotStyle","kLineDataList","techDataList","plot","techStyles","defaultStyle","isStroke","cbData","prev","kLineData","technicalIndicatorData","current","next","TechnicalIndicator","shortName","series","calcParams","plots","shouldCheckParamCount","shouldOhlc","shouldFormatBigNumber","minValue","maxValue","styles","_precisionFlag","result","map","param","flag","parseInt","params","i","allowDecimal","oldParam","push","regeneratePlots","_createParams","defaultStyles","_regeneratorRuntime","calcTechnicalIndicator","options","TechnicalIndicatorStore","_templates","_createTemplates","_instances","Map","tech","mapping","extensions","extension","templateInstance","_createTemplateInstance","createToolTipDataSource","render","Template","_createSuper","templates","instance","_createTechInfo","templateInfos","paneId","isStack","paneInstances","has","create","getPrototypeOf","setCalcParams","setPrecision","setShouldOhlc","setShouldFormatBigNumber","setStyles","styleOptions","clear","calc","removed","delete","tasks","Promise","all","info","instanceInfos","_createForOfIteratorHelper","entry","instanceInfo","infos","paneInstance","pricePrecision","volumePrecision","techOverride","defaultTechStyleOptions","instances","setShortName","overiderSuccss","shortNameSuccess","calcParamsSuccess","precisionSuccess","shouldOhlcSuccess","shouldFormatBigNumberSuccess","styleSuccess","perfectOverlayFunc","overlay","funcs","fn","Overlay","id","_id","_xAxis","_yAxis","_styles","ctx","points","event","renderFillCircle","fillColor","circleCoordinate","fillStyle","beginPath","y","PI","closePath","DEVIATION","getTriangleSquare","coordinate1","coordinate2","coordinate3","x1","abs","y1","x2","y2","checkCoordinateInCircle","circleCenterCoordinate","targetCoordinate","difX","difY","checkCoordinateInTriangle","triangleCoordinates","square","compareSquare","checkCoordinateInDiamond","centerCoordinate","xDis","yDis","checkCoordinateInRect","renderPath","coordinates","strokeFill","save","translate","move","moveTo","lineTo","restore","renderCloseStrokePath","renderCloseFillPath","renderHorizontalLine","correction","renderVerticalLine","renderLine","getPixelRatio","canvas","ownerDocument","defaultView","devicePixelRatio","calcTextWidth","measureText","createFont","fontSize","fontWeight","fontFamily","getTextRectWidth","font","textWidth","getTextRectHeight","SHAPE_DRAW_STEP_START","SHAPE_DRAW_STEP_FINISHED","ShapeMouseOperateElement","OTHER","ShapeElementType","TEXT","CONTINUOUS_LINE","POLYGON","ARC","LineType","COMMON","HORIZONTAL","VERTICAL","ShapeMode","WEAK_MAGNET","STRONG_MAGNET","getLineType","Shape","totalStep","lock","mode","_name","_totalStep","_lock","_mode","setMode","_data","_drawStep","_points","setPoints","_prevPressPoint","_prevPoints","_coordinates","repeatTotalStep","performEventMoveForDrawing","step","movePoint","performEventPressedMove","pressPointIndex","pressPoint","timeScaleStore","timestampToDataIndex","convertToPixel","lines","strokeStyle","setLineDash","lineType","continuousLines","polygons","strokeStyles","arcs","startAngle","endAngle","texts","fillStroke","strokeText","fillText","_timestampOrDataIndexToCoordinateX","shapeOptions","viewport","price","volume","_shapeDataSources","createShapeDataSource","isDraw","dataSource","_drawLines","_drawContinuousLines","_drawPolygons","_drawArcs","_drawText","drawExtend","shapeMouseOperate","shapeStore","mouseOperate","hover","element","click","isDrawing","elementIndex","eventCoordinate","start","isCheck","sources","checkEventCoordinateOnShape","convertFromPixel","highY","buffValue","lowY","open","close","dataIndexToTimestamp","_performValue","onDrawing","progressInstanceComplete","onDrawEnd","onPressedMove","difDataIndex","difValue","InvalidateLevel","OVERLAY","MAIN","FULL","ShapeStore","_mouseOperate","_progressInstance","_pressedInstance","TemplateClass","_createTemplateClass","shapeId","find","s","getInstance","fixed","progressInstance","setYAxis","shouldInvalidate","setLock","setData","shapes","onRemove","removeIndex","findIndex","splice","pressedInstance","AnnotationStore","_annotations","_visibleAnnotations","operate","visibleDataList","annotations","an","createSymbolCoordinate","idAnnotations","createVisibleAnnotations","shouldAdjust","paneAnnotations","TagStore","_tags","tags","_getById","update","idTags","tagId","paneTags","ids","CrosshairStore","_crosshair","notInvalidate","cr","realDataIndex","coordinateToDataIndex","realX","dataIndexToCoordinate","prevCrosshair","crosshairChange","Delegate","_observers","observer","ActionStore","_delegates","hasObservers","subscribe","delegate","unsubscribe","ChartStore","handler","_handler","_styleOptions","_pricePrecision","_volumePrecision","_dataList","_asksBidsData","_visibleDataList","_dragPaneFlag","_timeScaleStore","_technicalIndicatorStore","_shapeStore","_annotationStore","_tagStore","_crosshairStore","_actionStore","from","to","setSeriesPrecision","pos","setLoading","setMore","isFirstAdd","resetOffsetRightSpace","offsetRightBarCount","setOffsetRightBarCount","invalidateLevel","superPropBase","createElement","document","Pane","props","_height","_container","container","_initBefore","_initElement","_mainWidget","_createMainWidget","_element","_yAxisWidget","_createYAxisWidget","padding","overflow","boxSizing","lastElement","lastChild","insertBefore","appendChild","offsetWidth","mainWidgetWidth","yAxisWidgetWidth","setWidth","setHeight","mainWidgetOffsetLeft","yAxisWidgetOffsetLeft","setOffsetLeft","offsetHeight","layout","level","content","htmlId","createHtml","removeHtml","includeOverlay","getContext","pixelRatio","mainWidgetElement","getElement","mainWidgetHeight","drawImage","getImage","yAxisWidgetElement","yAxisWidgetHeight","removeChild","Widget","_width","_overlayView","_createOverlayView","_mainView","_createMainView","_htmlBaseId","_htmls","html","_objectSpread","zIndex","innerHTML","replaceChild","flush","requestAnimationFrame","window","setTimeout","cancelAnimationFrame","clearTimeout","View","_initCanvas","_canvas","_ctx","extendFun","clearRect","_draw","_redraw","requestAnimationId","TechnicalIndicatorView","_paneId","globalCompositeOperation","_drawContent","_drawTechs","_drawGrid","gridOptions","gridHorizontalOptions","ticks","tick","gridVerticalOptions","techOptions","techs","technicalIndicatorStore","techResult","technicalIndicatorDataList","barSpace","lineColors","lineColorSize","isCandleYAxis","_drawGraphics","halfBarSpace","techData","lineCount","_drawCandleBar","valueY","plotStyle","_drawCircle","baseValue","baseValueY","_drawBar","n","strokeRect","fillRect","barOptions","barStyle","openY","closeY","highEndY","lowStartY","barHeight","renderText","TechnicalIndicatorOverlayView","textBaseline","_drawTag","_drawShape","_drawAnnotation","crosshairOptions","_drawCrosshairLine","_drawTooltip","annotationStore","draw","tagStore","drawMarkLine","progressShape","_drawBatchTechToolTip","_shouldDrawTooltip","optionsKey","end","drawLine","crosshairDirectionOptions","crosshairLineOptions","isDrawTechTooltip","techTooltipOptions","_drawTechTooltip","techTooltipTextOptions","textMarginLeft","textMarginRight","textColor","labelX","labelY","tooltipData","_getTechTooltipData","nameText","nameTextWidth","calcParamText","calcParamTextWidth","title","tooltipOptions","join","colorSize","TechnicalIndicatorWidget","renderStrokeFillRoundRect","renderFillRoundRect","renderStrokeRoundRect","renderFillRect","w","h","r","renderRoundRect","arcTo","YAxisView","yAxisOptions","_drawAxisLine","_drawTickLines","_drawTickLabels","_drawTechLastValue","_drawLastPriceLabel","isFromYAxisZero","tickLineLength","startX","endX","tickLineShow","textAlign","lastValueMarkOptions","_drawMarkLabel","priceMarkOptions","lastPriceMarkOptions","convertToNicePixel","yAxisType","fromData","fromClose","rectWidth","rectHeight","rectStartX","YAxisOverlayView","items","totalCount","chartType","_drawOrderLine","_drawOrdersArea","orders","currentX","order","_convertXToPixels","count","initialCoords","initialCoordinates","_drawLine","my_gradient","createLinearGradient","addColorStop","fullWidth","asksBidsData","getAsksBidsData","asks","bids","_drawOrderChart","_drawCrossHairLabel","drawText","crosshairHorizontalOptions","crosshairHorizontalTextOptions","rectY","YAxisWidget","Axis","_cacheMinValue","_cacheMaxValue","_minValue","_maxValue","_range","_ticks","_initMeasureCanvas","measureCanvas","_measureCtx","forceCompute","minMax","_optimalMinMax","_computeMinMax","range","_optimalTicks","_computeTicks","intervalPrecision","_computeInterval","interval","first","YAxis","_realRange","_isCandleYAxis","minMaxArray","Number","MAX_SAFE_INTEGER","MIN_SAFE_INTEGER","plotsResult","techPrecision","techGap","candleOptions","isArea","areaValueKey","shouldCompareHighLow","specifyMin","specifyMax","dif","minCheck","maxCheck","marginOptions","topRate","rate","bottomRate","optimalTicks","textHeight","validY","_innerConvertToPixel","yAxisWidth","crosshairVerticalTextWidth","valueText","TechnicalIndicatorPane","_createYAxis","CandleView","_drawLastPriceLine","_drawArea","_drawLowHighPrice","comparePrice","_drawCandle","lineCoordinates","areaCoordinates","minY","areaOptions","areaCoordinateLength","lastCoordinate","gradient","optionKey","priceKey","initPriceValue","offsets","compare","lowHighPriceMarkOptions","priceY","startY","CandleOverlayView","candleTooltipOptions","isDrawCandleTooltip","_drawCandleTooltipWithRect","_drawCandleTooltipWithStandard","_getCandleTooltipData","label","labelWidth","valueColor","baseLabels","baseValues","baseTextMarginLeft","baseTextMarginRight","baseTextMarginTop","baseTextMarginBottom","baseTextSize","baseTextColor","rectOptions","rectBorderSize","rectPaddingLeft","rectPaddingRight","rectPaddingTop","rectPaddingBottom","rectLeft","rectRight","maxLabelWidth","techTooltipTextMarginLeft","techTooltipTextMarginRight","techTooltipTextMarginTop","techTooltipTextMarginBottom","techTooltipTextSize","techTooltipDataList","centerX","rectX","baseLabelX","indicatorLabelX","CandleWidget","CandlePane","XAxisView","xAxisOptions","xAxisLine","endY","tickLength","XAxisOverlayView","_drawCrosshairLabel","crosshairVerticalOptions","crosshairVerticalTextOptions","XAxisWidget","XAxis","defaultLabelWidth","tickCountDif","nextPos","nextX","xDif","prePos","preKLineData","preTimestamp","_optimalTickLabel","oV","optimalTickLength","firstTimestamp","secondTimestamp","thirdV","test","comparedTimestamp","stylOptions","xAxisHeight","crosshairVerticalTextHeight","XAxisPane","EventType","MOUSE","TOUCH","isTouch","isMouse","MouseEventButton","DELAY_RESET_CLICK","DELAY_LONG_TAG","getBoundingClientRect","isTouchEvent","Boolean","touches","preventDefault","cancelable","mobileTouch","touchEvent","DocumentTouch","navigator","maxTouchPoints","msMaxTouchPoints","getDistance","p1","p2","xDiff","clientX","yDiff","clientY","sqrt","EventBase","eventHandler","_target","_options","_clickCount","_clickTimeoutId","_longTapTimeoutId","_longTapActive","_mouseMoveStartPosition","_moveExceededManhattanDistance","_cancelClick","_unsubscribeOutsideEvents","_unsubscribeMousemove","_unsubscribeRoot","_startPinchMiddleCoordinate","_startPinchDistance","_pinchPrevented","_preventDragProcess","_mousePressed","_init","_clearLongTapTimeout","_resetClickTimeout","enterEvent","boundMouseMoveHandler","_mouseMoveHandler","bind","boundMouseWheelHandler","_mouseWheelHandler","removeEventListener","addEventListener","passive","compatEvent","_makeCompatEvent","_processEvent","mouseEnterEvent","moveEvent","mouseMoveEvent","wheelEvent","localX","localY","mouseWheelEvent","button","startMouseMovePos","xOffset","pageX","yOffset","pageY","moveExceededManhattanDistance","correctedXOffset","isVertDrag","treatVertTouchDragAsPageScroll","isHorzDrag","treatHorzTouchDragAsPageScroll","pressedMouseMoveEvent","mouseUpEvent","_mouseLeaveHandler","mouseDoubleClickEvent","mouseClickEvent","downEvent","mouseRightDownEvent","_mouseEnterHandler","boundMouseMoveWithDownHandler","_mouseMoveWithDownHandler","boundMouseUpHandler","_mouseUpHandler","rootElement","documentElement","_longTapHandler","mouseDownEvent","doc","outsideHandler","mouseDownOutsideEvent","contains","_mouseDownHandler","_initPinch","pinchStartEvent","pinchEvent","pinchEndEvent","_checkPinchState","currentDistance","_stopPinch","_startPinch","box","mouseLeaveEvent","longTapEvent","eventLike","changedTouches","screenX","screenY","ctrlKey","altKey","shiftKey","metaKey","startsWith","view","SeparatorPane","topPaneId","bottomPaneId","dragEnabled","dragEventHandler","_topPaneId","_bottomPaneId","_dragEnabled","_offsetLeft","_dragEventHandler","_dragFlag","_initEvent","_wrapper","cursor","_dragEvent","_mouseDownEvent","_mouseUpEvent","_pressedMouseMoveEvent","_mouseEnterEvent","_mouseLeaveEvent","_startY","startDrag","setDragPaneFlag","dragDistance","drag","separatorOptions","background","destroy","EventHandler","TOUCH_MIN_RADIUS","ZoomScrollEventHandler","_startScrollCoordinate","_touchCoordinate","_touchCancelCrosshair","_touchZoomed","_pinchScale","middleCoordinate","zoomScale","zoom","paneY","deltaX","deltaY","startScroll","scroll","deltaMode","DOM_DELTA_PAGE","DOM_DELTA_LINE","sign","yDif","OverlayEventHandler","overlays","preHoverOperate","hoverOperate","checkEventCoordinateOn","onMouseLeave","onMouseEnter","updatePressedInstance","_waitingForMouseMove","shapeHoverOperate","shapeClickOperate","annotationHoverOperate","isStart","updateProgressInstance","mouseMoveForDrawing","prevShapeHoverOperate","prevAnnotationHoverOperate","_performOverlayMouseHover","setMouseOperate","mouseLeftButtonDownForDrawing","startPressedOtherMove","onClick","visibleAnnotations","annotationOperate","shapeOperateValid","removeShape","onRightClick","removeInstance","mousePressedPointMove","mousePressedOtherMove","KeyBoardCode","EQUAL","MINUS","ARROW_LEFT","ARROW_RIGHT","KeyBoardEventHandler","code","ChartEvent","_chartContentLeftRight","_chartContentTopBottom","_paneContentSize","_event","_pinchStartEvent","_pinchEvent","_mouseClickEvent","_mouseRightDownEvent","_mouseMoveEvent","_mouseWheelEvent","_longTapEvent","_boundKeyBoardDownEvent","_keyBoardDownEvent","_boundContextMenuEvent","_zoomScrollEventHandler","_overlayEventHandler","_keyBoardEventHandler","keyBoardDownEvent","_checkEventInChartContent","_shouldPerformOverlayEvent","HTMLCanvasElement","_compatChartEvent","dragPaneFlag","_checkZoomScroll","_modifyEventOptions","isPressed","isEmpty","setOptions","compatY","contentTop","contentBottom","contentLeft","contentRight","chartContentLeftRight","chartContentTopBottom","paneContentSize","throttle","func","wait","previous","now","context","args","arguments","apply","renderFillDiamond","renderFillTriangle","Annotation","_point","_symbolCoordinate","isActive","symbolOptions","styleSize","styleActiveSize","drawCustomSymbol","_drawSymbol","isOn","checkEventCoordinateOnCustomSymbol","Tag","_text","_mark","success","tagOptions","_getY","_drawMark","tagTextOptions","tagLineOptions","textRectWidth","markRectWidth","markOffset","textValid","markValid","tagMarkOptions","DEFAULT_TECHNICAL_INDICATOR_PANE_HEIGHT","TECHNICAL_INDICATOR_PANE_ID_PREFIX","SHAPE_ID_PREFIX","CANDLE_PANE_ID","XAXIS_PANE_ID","ChartPane","_initChartContainer","_shapeBaseId","_paneBaseId","_separatorDragStartTopPaneHeight","_separatorDragStartBottomPaneHeight","_invalidatePane","_crosshairObserver","_xAxisPane","_chartContainer","_panes","_separators","_chartWidth","_chartHeight","_chartEvent","adjustPaneViewport","userSelect","webkitUserSelect","msUserSelect","MozUserSelect","webkitTapHighlightColor","outline","borderStyle","tabIndex","techDatas","_","topPaneHeight","bottomPaneHeight","pane","shouldMeasureWidth","should","computeAxis","paneHeight","separatorSize","separatorTotalHeight","getSelfHeight","paneExcludeXAxisSeparatorHeight","techPaneTotalHeight","candlePaneHeight","total","setPaneContentSize","setChartContentTopBottom","isYAxisLeft","isOutside","paneWidth","mainWidth","yAxisOffsetLeft","mainOffsetLeft","getSelfWidth","setTotalDataSpace","setSize","setChartContentLeftRight","shouldMeasureHeight","shouldLayout","shouldComputeAxis","shouldForceComputeAxis","_measurePaneHeight","isAdjust","adjust","_measurePaneWidth","hasInstance","deleteSeparatorTopPaneId","updatePaneId","task","addInstance","finally","setPaneOptions","Array","keys","pop","_separatorStartDrag","_separatorDrag","ShapeTemplateClass","onDrawStart","hasPane","shapeInstance","annotationInstance","add","shouldUpdate","shouldAdd","updateSuccess","forceShouldAdjust","setDragEnabled","setTimezone","absoluteYAxis","absoluteTop","panes","ry","toDataURL","Chart","_chartPane","chartWidth","chartHeight","applyStyleOptions","setPriceVolumePrecision","setLeftMinVisibleBarCount","setRightMinVisibleBarCount","clearDataList","addData","calcInstance","addAsksBidsData","lastDataTimestamp","cb","setLoadMoreCallback","paneOptions","hasTemplate","createTechnicalIndicator","addTemplate","promise","override","then","getTemplateInfo","getInstanceInfo","removeTechnicalIndicator","getTemplate","createShape","setInstanceOptions","createAnnotation","remove","createTag","HTMLElement","getPane","removeAllHtml","setZoomEnabled","zoomEnabled","setScrollEnabled","scrollEnabled","animationDuration","startTime","getTime","animation","progress","finished","dis","difBarCount","offsetRightSpace","scrollByDistance","scaleDataSpace","difSpace","progressDataSpace","zoomAtCoordinate","finder","getConvertPictureUrl","chartBaseId","CHART_NAME_PREFIX","version","init","ds","errorMessage","dom","getElementById","chart","chartId","dispose","dcs","utils"],"mappings":"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"}